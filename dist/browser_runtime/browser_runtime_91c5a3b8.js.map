{
  "version": 3,
  "file": "browser_runtime_91c5a3b8.js",
  "sources": [
    "../../helpers/babel/typeof/typeof.js",
    "../../helpers/babel/defineProperty/defineProperty.js",
    "../../helpers/babel/objectSpread2/objectSpread2.js",
    "../../helpers/babel/arrayLikeToArray/arrayLikeToArray.js",
    "../../helpers/babel/arrayWithoutHoles/arrayWithoutHoles.js",
    "../../helpers/babel/iterableToArray/iterableToArray.js",
    "../../helpers/babel/unsupportedIterableToArray/unsupportedIterableToArray.js",
    "../../helpers/babel/nonIterableSpread/nonIterableSpread.js",
    "../../helpers/babel/toConsumableArray/toConsumableArray.js",
    "../../node_modules/@jsenv/logger/src/createDetailedMessage.js",
    "../../src/internal/error-stack-remapping/stackToString.js",
    "../../src/internal/dataUrl.utils.js",
    "../../src/internal/sourceMappingURLUtils.js",
    "../../src/internal/filePathUtils.js",
    "../../src/internal/error-stack-remapping/remapCallSite.js",
    "../../src/internal/error-stack-remapping/getOriginalCallsites.js",
    "../../src/internal/error-stack-remapping/installErrorStackRemapping.js",
    "../../src/internal/error-stack-remapping/installBrowserErrorStackRemapping.js",
    "../../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../../src/internal/browser_utils/fetchUsingXHR.js",
    "../../src/internal/browser_utils/fetch-browser.js",
    "../../src/internal/browser_utils/fetchAndEvalUsingFetch.js",
    "../../node_modules/@jsenv/uneval/src/internal/isComposite.js",
    "../../node_modules/@jsenv/uneval/src/internal/global-value-path.js",
    "../../node_modules/@jsenv/uneval/src/internal/decompose.js",
    "../../node_modules/@jsenv/uneval/src/internal/sortRecipe.js",
    "../../node_modules/@jsenv/uneval/src/internal/escapeString.js",
    "../../node_modules/@jsenv/uneval/src/uneval.js",
    "../../src/internal/unevalException.js",
    "../../src/internal/memoize.js",
    "../../src/internal/browser_runtime/displayErrorInDocument.js",
    "../../src/internal/browser_runtime/displayErrorNotification.js",
    "../../node_modules/@jsenv/importmap/src/internal/assertImportMap.js",
    "../../node_modules/@jsenv/importmap/src/internal/hasScheme.js",
    "../../node_modules/@jsenv/importmap/src/internal/urlToScheme.js",
    "../../node_modules/@jsenv/importmap/src/internal/urlToPathname.js",
    "../../node_modules/@jsenv/importmap/src/internal/urlToOrigin.js",
    "../../node_modules/@jsenv/importmap/src/internal/pathnameToParentPathname.js",
    "../../node_modules/@jsenv/importmap/src/resolveUrl.js",
    "../../node_modules/@jsenv/importmap/src/internal/tryUrlResolution.js",
    "../../node_modules/@jsenv/importmap/src/resolveSpecifier.js",
    "../../node_modules/@jsenv/importmap/src/sortImportMap.js",
    "../../node_modules/@jsenv/importmap/src/normalizeImportMap.js",
    "../../node_modules/@jsenv/importmap/src/internal/pathnameToExtension.js",
    "../../node_modules/@jsenv/importmap/src/applyImportMap.js",
    "../../node_modules/@jsenv/importmap/src/resolveImport.js",
    "../../src/internal/runtime/module-registration.js",
    "../../src/internal/import-resolution/default-extension.js",
    "../../src/internal/import-resolution/import-resolver-importmap.js",
    "../../src/internal/perf_browser.js",
    "../../src/internal/runtime/s.js",
    "../../src/internal/browser_runtime/browser_system.js",
    "../../src/internal/browser_runtime/makeNamespaceTransferable.js",
    "../../src/internal/browser_runtime/createBrowserRuntime.js",
    "../../src/internal/browser_runtime/browser_runtime.js"
  ],
  "sourcesContent": [
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n",
    "/* eslint-disable no-eq-null, eqeqeq */\nexport default function arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length\n  var arr2 = new Array(len)\n  for (var i = 0; i < len; i++) arr2[i] = arr[i]\n  return arr2\n}\n",
    "import arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\n// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr)\n}\n",
    "export default function _iterableToArray(iter) {\n  if (\n    (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null) ||\n    iter[\"@@iterator\"] != null\n  )\n    return Array.from(iter)\n}\n",
    "/* eslint-disable consistent-return */\nimport arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\nexport default function unsupportedIterableToArray(o, minLen) {\n  if (!o) return\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen)\n  var n = Object.prototype.toString.call(o).slice(8, -1)\n  if (n === \"Object\" && o.constructor) n = o.constructor.name\n  if (n === \"Map\" || n === \"Set\") return Array.from(o)\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return arrayLikeToArray(o, minLen)\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n",
    "import arrayWithoutHoles from \"../arrayWithoutHoles/arrayWithoutHoles.js\"\nimport iterableToArray from \"../iterableToArray/iterableToArray.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableSpread from \"../nonIterableSpread/nonIterableSpread.js\"\n\nexport default (arr) =>\n  arrayWithoutHoles(arr) ||\n  iterableToArray(arr) ||\n  unsupportedIterableToArray(arr) ||\n  nonIterableSpread()\n",
    "export const createDetailedMessage = (message, details = {}) => {\n  let string = `${message}`\n\n  Object.keys(details).forEach((key) => {\n    const value = details[key]\n    string += `\n--- ${key} ---\n${\n  Array.isArray(value)\n    ? value.join(`\n`)\n    : value\n}`\n  })\n\n  return string\n}\n",
    "export const stackToString = (stack, { error, indent }) => {\n  const name = error.name || \"Error\"\n  const message = error.message || \"\"\n  const stackString = stack\n    .map((callSite) => `\\n${indent}at ${callSite}`)\n    .join(\"\")\n\n  return `${name}: ${message}${stackString}`\n}\n",
    "/* eslint-env browser, node */\n\nexport const parseDataUrl = (dataUrl) => {\n  const afterDataProtocol = dataUrl.slice(\"data:\".length)\n  const commaIndex = afterDataProtocol.indexOf(\",\")\n  const beforeComma = afterDataProtocol.slice(0, commaIndex)\n\n  let mediaType\n  let base64Flag\n  if (beforeComma.endsWith(`;base64`)) {\n    mediaType = beforeComma.slice(0, -`;base64`.length)\n    base64Flag = true\n  } else {\n    mediaType = beforeComma\n    base64Flag = false\n  }\n\n  const afterComma = afterDataProtocol.slice(commaIndex + 1)\n  return {\n    mediaType: mediaType === \"\" ? \"text/plain;charset=US-ASCII\" : mediaType,\n    base64Flag,\n    data: afterComma,\n  }\n}\n\nexport const stringifyDataUrl = ({ mediaType, base64Flag = true, data }) => {\n  if (!mediaType || mediaType === \"text/plain;charset=US-ASCII\") {\n    // can be a buffer or a string, hence check on data.length instead of !data or data === ''\n    if (data.length === 0) {\n      return `data:,`\n    }\n    if (base64Flag) {\n      return `data:,${data}`\n    }\n    return `data:,${dataToBase64(data)}`\n  }\n  if (base64Flag) {\n    return `data:${mediaType};base64,${dataToBase64(data)}`\n  }\n  return `data:${mediaType},${data}`\n}\n\nexport const dataUrlToRawData = ({ base64Flag, data }) => {\n  return base64Flag ? base64ToString(data) : data\n}\n\nexport const dataToBase64 =\n  typeof window === \"object\"\n    ? window.atob\n    : (data) => Buffer.from(data).toString(\"base64\")\n\nexport const base64ToString =\n  typeof window === \"object\"\n    ? window.btoa\n    : (base64String) => Buffer.from(base64String, \"base64\").toString(\"utf8\")\n",
    "export const generateSourcemapUrl = (url) => {\n  // we want to remove eventual search params from url\n  const urlString = String(url)\n  const urlObject = new URL(url)\n  const origin = urlString.startsWith(\"file://\") ? \"file://\" : urlObject.origin\n  const pathname = urlObject.pathname\n  const sourcemapUrl = `${origin}${pathname}.map`\n  return sourcemapUrl\n}\n\nexport const getJavaScriptSourceMappingUrl = (javaScriptSource) => {\n  let sourceMappingUrl\n  replaceSourceMappingUrl(\n    javaScriptSource,\n    javascriptSourceMappingUrlCommentRegexp,\n    (value) => {\n      sourceMappingUrl = value\n    },\n  )\n  return sourceMappingUrl\n}\n\nexport const setJavaScriptSourceMappingUrl = (\n  javaScriptSource,\n  sourceMappingFileUrl,\n) => {\n  let replaced\n  const sourceAfterReplace = replaceSourceMappingUrl(\n    javaScriptSource,\n    javascriptSourceMappingUrlCommentRegexp,\n    () => {\n      replaced = true\n      return sourceMappingFileUrl\n        ? writeJavaScriptSourceMappingURL(sourceMappingFileUrl)\n        : \"\"\n    },\n  )\n  if (replaced) {\n    return sourceAfterReplace\n  }\n\n  return sourceMappingFileUrl\n    ? `${javaScriptSource}\n${writeJavaScriptSourceMappingURL(sourceMappingFileUrl)}`\n    : javaScriptSource\n}\n\nexport const getCssSourceMappingUrl = (cssSource) => {\n  let sourceMappingUrl\n  replaceSourceMappingUrl(\n    cssSource,\n    cssSourceMappingUrlCommentRegExp,\n    (value) => {\n      sourceMappingUrl = value\n    },\n  )\n  return sourceMappingUrl\n}\n\nexport const setCssSourceMappingUrl = (cssSource, sourceMappingFileUrl) => {\n  let replaced\n  const sourceAfterReplace = replaceSourceMappingUrl(\n    cssSource,\n    cssSourceMappingUrlCommentRegExp,\n    () => {\n      replaced = true\n      return sourceMappingFileUrl\n        ? writeCssSourceMappingUrl(sourceMappingFileUrl)\n        : \"\"\n    },\n  )\n  if (replaced) {\n    return sourceAfterReplace\n  }\n  return sourceMappingFileUrl\n    ? `${cssSource}\n${writeCssSourceMappingUrl(sourceMappingFileUrl)}`\n    : cssSource\n}\n\nconst javascriptSourceMappingUrlCommentRegexp =\n  /\\/\\/ ?# ?sourceMappingURL=([^\\s'\"]+)/g\nconst cssSourceMappingUrlCommentRegExp =\n  /\\/\\*# ?sourceMappingURL=([^\\s'\"]+) \\*\\//g\n\n// ${\"//#\"} is to avoid a parser thinking there is a sourceMappingUrl for this file\nconst writeJavaScriptSourceMappingURL = (value) =>\n  `${\"//#\"} sourceMappingURL=${value}`\nconst writeCssSourceMappingUrl = (value) => `/*# sourceMappingURL=${value} */`\n\nexport const sourcemapToBase64Url = (sourcemap) => {\n  const asBase64 = Buffer.from(JSON.stringify(sourcemap)).toString(\"base64\")\n  return `data:application/json;charset=utf-8;base64,${asBase64}`\n}\n\nconst replaceSourceMappingUrl = (source, regexp, callback) => {\n  let lastSourceMappingUrl\n  let matchSourceMappingUrl\n  while ((matchSourceMappingUrl = regexp.exec(source))) {\n    lastSourceMappingUrl = matchSourceMappingUrl\n  }\n  if (lastSourceMappingUrl) {\n    const index = lastSourceMappingUrl.index\n    const before = source.slice(0, index)\n    const after = source.slice(index)\n    const mappedAfter = after.replace(regexp, (match, firstGroup) => {\n      return callback(firstGroup)\n    })\n    return `${before}${mappedAfter}`\n  }\n  return source\n}\n",
    "export const isWindowsFilePath = (path) =>\n  startsWithWindowsDriveLetter(path) && path[2] === \"\\\\\"\n\nexport const startsWithWindowsDriveLetter = (string) => {\n  const firstChar = string[0]\n  if (!/[a-zA-Z]/.test(firstChar)) return false\n\n  const secondChar = string[1]\n  if (secondChar !== \":\") return false\n\n  return true\n}\n\nexport const windowsFilePathToUrl = (windowsFilePath) => {\n  return `file:///${replaceBackSlashesWithSlashes(windowsFilePath)}`\n}\n\nexport const replaceBackSlashesWithSlashes = (string) =>\n  string.replace(/\\\\/g, \"/\")\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport {\n  startsWithWindowsDriveLetter,\n  windowsFilePathToUrl,\n} from \"../filePathUtils.js\"\n\nexport const remapCallSite = async (\n  callSite,\n  { urlToSourcemapConsumer, resolveFile, readErrorStack, onFailure },\n) => {\n  if (callSite.isNative()) {\n    return callSite\n  }\n\n  // Most call sites will return the source file from getFileName(), but code\n  // passed to eval() ending in \"//# sourceURL=...\" will return the source file\n  // from getScriptNameOrSourceURL() instead\n  const source = callSite.getFileName() || callSite.getScriptNameOrSourceURL()\n  if (source) {\n    const line = callSite.getLineNumber()\n    const column = callSite.getColumnNumber() - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveFile,\n      urlToSourcemapConsumer,\n      readErrorStack,\n      onFailure,\n    })\n\n    const callSiteClone = cloneCallSite(callSite)\n\n    callSiteClone.getFunctionName = () =>\n      originalPosition.name || callSite.getFunctionName()\n    callSiteClone.getFileName = () => originalPosition.source\n    callSiteClone.getLineNumber = () => originalPosition.line\n    callSiteClone.getColumnNumber = () => originalPosition.column + 1\n    callSiteClone.getScriptNameOrSourceURL = () => originalPosition.source\n\n    return callSiteClone\n  }\n\n  // Code called using eval() needs special handling\n  if (callSite.isEval()) {\n    const origin = callSite.getEvalOrigin()\n    if (origin) {\n      const callSiteClone = cloneCallSite(callSite)\n      const originalEvalOrigin = await remapEvalOrigin(origin, {\n        resolveFile,\n        urlToSourcemapConsumer,\n        readErrorStack,\n        onFailure,\n      })\n      callSiteClone.getEvalOrigin = () => originalEvalOrigin\n      return callSiteClone\n    }\n    return callSite\n  }\n\n  // If we get here then we were unable to change the source position\n  return callSite\n}\n\nconst cloneCallSite = (callSite) => {\n  const callSiteClone = {}\n  methods.forEach((name) => {\n    callSiteClone[name] = () => callSite[name]()\n  })\n  callSiteClone.toString = () => callSiteToFunctionCall(callSiteClone)\n\n  return callSiteClone\n}\n\nconst methods = [\n  \"getColumnNumber\",\n  \"getEvalOrigin\",\n  \"getFileName\",\n  \"getFunction\",\n  \"getFunctionName\",\n  \"getLineNumber\",\n  \"getMethodName\",\n  \"getPosition\",\n  \"getScriptNameOrSourceURL\",\n  \"getThis\",\n  \"getTypeName\",\n  \"isConstructor\",\n  \"isEval\",\n  \"isNative\",\n  \"isToplevel\",\n  \"toString\",\n]\n\nconst callSiteToFunctionCall = (callSite) => {\n  const fileLocation = callSiteToFileLocation(callSite)\n  const isConstructor = callSite.isConstructor()\n  const isMethodCall = !callSite.isToplevel() && !isConstructor\n\n  if (isMethodCall) {\n    return `${callSiteToMethodCall(callSite)} (${fileLocation})`\n  }\n\n  const functionName = callSite.getFunctionName()\n  if (isConstructor) {\n    return `new ${functionName || \"<anonymous>\"} (${fileLocation})`\n  }\n\n  if (functionName) {\n    return `${functionName} (${fileLocation})`\n  }\n\n  return `${fileLocation}`\n}\n\nconst callSiteToMethodCall = (callSite) => {\n  const functionName = callSite.getFunctionName()\n  const typeName = callSiteToType(callSite)\n\n  if (!functionName) {\n    return `${typeName}.<anonymous>`\n  }\n\n  const methodName = callSite.getMethodName()\n  const as = generateAs({ methodName, functionName })\n\n  if (typeName && !functionName.startsWith(typeName)) {\n    return `${typeName}.${functionName}${as}`\n  }\n\n  return `${functionName}${as}`\n}\n\nconst generateAs = ({ methodName, functionName }) => {\n  if (!methodName) return \"\"\n  if (\n    functionName.indexOf(`.${methodName}`) ===\n    functionName.length - methodName.length - 1\n  )\n    return \"\"\n  return ` [as ${methodName}]`\n}\n\nconst callSiteToType = (callSite) => {\n  const typeName = callSite.getTypeName()\n  // Fixes shim to be backward compatible with Node v0 to v4\n  if (typeName === \"[object Object]\") {\n    return \"null\"\n  }\n  return typeName\n}\n\nconst callSiteToFileLocation = (callSite) => {\n  if (callSite.isNative()) return \"native\"\n\n  const sourceFile = callSiteToSourceFile(callSite)\n  const lineNumber = callSite.getLineNumber()\n  if (lineNumber === null) {\n    return sourceFile\n  }\n\n  const columnNumber = callSite.getColumnNumber()\n  if (!columnNumber) {\n    return `${sourceFile}:${lineNumber}`\n  }\n\n  return `${sourceFile}:${lineNumber}:${columnNumber}`\n}\n\nconst callSiteToSourceFile = (callSite) => {\n  const fileName = callSite.getScriptNameOrSourceURL()\n\n  if (fileName) {\n    return fileName\n  }\n\n  // Source code does not originate from a file and is not native, but we\n  // can still get the source position inside the source string, e.g. in\n  // an eval string.\n  if (callSite.isEval()) {\n    return `${callSite.getEvalOrigin()}, <anonymous>`\n  }\n\n  return \"<anonymous>\"\n}\n\n// Parses code generated by FormatEvalOrigin(), a function inside V8:\n// https://code.google.com/p/v8/source/browse/trunk/src/messages.js\nconst remapEvalOrigin = async (\n  origin,\n  { resolveFile, urlToSourcemapConsumer, onFailure },\n) => {\n  // Most eval() calls are in this format\n  const topLevelEvalMatch = /^eval at ([^(]+) \\((.+):(\\d+):(\\d+)\\)$/.exec(\n    origin,\n  )\n  if (topLevelEvalMatch) {\n    const source = topLevelEvalMatch[2]\n    const line = Number(topLevelEvalMatch[3])\n    const column = topLevelEvalMatch[4] - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveFile,\n      urlToSourcemapConsumer,\n      onFailure,\n    })\n    return `eval at ${topLevelEvalMatch[1]} (${originalPosition.source}:${\n      originalPosition.line\n    }:${originalPosition.column + 1})`\n  }\n\n  // Parse nested eval() calls using recursion\n  const nestedEvalMatch = /^eval at ([^(]+) \\((.+)\\)$/.exec(origin)\n  if (nestedEvalMatch) {\n    const originalEvalOrigin = await remapEvalOrigin(nestedEvalMatch[2], {\n      resolveFile,\n      urlToSourcemapConsumer,\n      onFailure,\n    })\n    return `eval at ${nestedEvalMatch[1]} (${originalEvalOrigin})`\n  }\n\n  // Make sure we still return useful information if we didn't find anything\n  return origin\n}\n\nconst remapSourcePosition = async ({\n  source,\n  line,\n  column,\n  resolveFile,\n  urlToSourcemapConsumer,\n  readErrorStack,\n  onFailure,\n}) => {\n  const position = { source, line, column }\n\n  const url = sourceToUrl(source, { resolveFile })\n  if (!url) return position\n\n  const sourceMapConsumer = await urlToSourcemapConsumer(url)\n\n  if (!sourceMapConsumer) return position\n\n  try {\n    const originalPosition = sourceMapConsumer.originalPositionFor(position)\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    const originalSource = originalPosition.source\n\n    if (originalSource === null) return position\n    originalPosition.source = resolveFile(originalSource, url, {\n      type: \"file-original\",\n    })\n\n    return originalPosition\n  } catch (e) {\n    onFailure(\n      createDetailedMessage(`error while remapping position.`, {\n        [\"error stack\"]: readErrorStack(e),\n        [\"source\"]: source,\n        [\"line\"]: line,\n        [\"column\"]: column,\n      }),\n    )\n    return position\n  }\n}\n\nconst sourceToUrl = (source, { resolveFile }) => {\n  if (startsWithScheme(source)) {\n    return source\n  }\n\n  // linux filesystem path\n  if (source[0] === \"/\") {\n    return resolveFile(source)\n  }\n\n  // be careful, due to babel or something like that we might receive paths like\n  // C:/directory/file.js (without backslashes we would expect on windows)\n  // In that case we consider C: is the signe we are on windows\n  // And I avoid to rely on process.platform === \"win32\" because this file might be executed in chrome\n  if (startsWithWindowsDriveLetter(source)) {\n    return windowsFilePathToUrl(source)\n  }\n\n  // I don't think we will ever encounter relative file in the stack trace\n  // but if it ever happens we are safe :)\n  if (source.slice(0, 2) === \"./\" || source.slice(0, 3) === \"../\") {\n    return resolveFile(source)\n  }\n\n  // we have received a \"bare specifier\" for the source\n  // it happens for internal/process/task_queues.js for instance\n  // if we do return resolveFile(source) it will be converted to\n  // file:///C:/project-directory/internal/process/task_queues.js in node\n  // and\n  // http://domain.com/internal/process/task_queues.js\n  // but the file will certainly be a 404\n  // and if not it won't be the right file anyway\n  // for now we assume \"bare specifier\" in the stack trace\n  // are internal files that are pointless to try to remap\n  return null\n}\n\nconst startsWithScheme = (string) => {\n  return /^[a-zA-Z]{2,}:/.test(string)\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { parseDataUrl, dataUrlToRawData } from \"../dataUrl.utils.js\"\nimport { getJavaScriptSourceMappingUrl } from \"../sourceMappingURLUtils.js\"\nimport { remapCallSite } from \"./remapCallSite.js\"\n\nexport const getOriginalCallsites = async ({\n  stack,\n  resolveFile,\n  fetchFile,\n  SourceMapConsumer,\n  readErrorStack,\n  onFailure,\n}) => {\n  const urlToSourcemapConsumer = memoizeByFirstArgStringValue(\n    async (stackTraceFileUrl) => {\n      if (stackTraceFileUrl.startsWith(\"node:\")) {\n        return null\n      }\n\n      try {\n        let text\n        try {\n          const fileResponse = await fetchFile(stackTraceFileUrl)\n          const { status } = fileResponse\n          if (status !== 200) {\n            if (status === 404) {\n              onFailure(`stack trace file not found at ${stackTraceFileUrl}`)\n            } else {\n              onFailure(\n                createDetailedMessage(\n                  `unexpected response fetching stack trace file.`,\n                  {\n                    [\"response status\"]: status,\n                    [\"response text\"]: fileResponse.body,\n                    [\"stack trace file\"]: stackTraceFileUrl,\n                  },\n                ),\n              )\n            }\n            return null\n          }\n          text = await fileResponse.text()\n        } catch (e) {\n          onFailure(\n            createDetailedMessage(`error while fetching stack trace file.`, {\n              [\"fetch error stack\"]: readErrorStack(e),\n              [\"stack trace file\"]: stackTraceFileUrl,\n            }),\n          )\n\n          return null\n        }\n\n        const jsSourcemapUrl = getJavaScriptSourceMappingUrl(text)\n        if (!jsSourcemapUrl) {\n          return null\n        }\n\n        let sourcemapUrl\n        let sourcemapString\n        if (jsSourcemapUrl.startsWith(\"data:\")) {\n          sourcemapUrl = stackTraceFileUrl\n          sourcemapString = dataUrlToRawData(parseDataUrl(jsSourcemapUrl))\n        } else {\n          sourcemapUrl = resolveFile(jsSourcemapUrl, stackTraceFileUrl, {\n            type: \"source-map\",\n          })\n\n          try {\n            const sourcemapResponse = await fetchFile(sourcemapUrl)\n            const { status } = sourcemapResponse\n            if (status !== 200) {\n              if (status === 404) {\n                onFailure(`sourcemap file not found at ${sourcemapUrl}`)\n              } else {\n                onFailure(\n                  createDetailedMessage(\n                    `unexpected response for sourcemap file.`,\n                    {\n                      [\"response status\"]: status,\n                      [\"response text\"]: await sourcemapResponse.text(),\n                      [\"sourcemap url\"]: sourcemapUrl,\n                    },\n                  ),\n                )\n              }\n              return null\n            }\n            sourcemapString = await sourcemapResponse.text()\n          } catch (e) {\n            onFailure(\n              createDetailedMessage(`error while fetching sourcemap.`, {\n                [\"fetch error stack\"]: readErrorStack(e),\n                [\"sourcemap url\"]: sourcemapUrl,\n              }),\n            )\n            return null\n          }\n        }\n\n        let sourceMap\n        try {\n          sourceMap = JSON.parse(sourcemapString)\n        } catch (e) {\n          onFailure(\n            createDetailedMessage(`error while parsing sourcemap.`, {\n              [\"parse error stack\"]: readErrorStack(e),\n              [\"sourcemap url\"]: sourcemapUrl,\n            }),\n          )\n          return null\n        }\n\n        let { sourcesContent } = sourceMap\n\n        if (!sourcesContent) {\n          sourcesContent = []\n          sourceMap.sourcesContent = sourcesContent\n        }\n\n        let firstSourceMapSourceFailure = null\n\n        await Promise.all(\n          sourceMap.sources.map(async (source, index) => {\n            if (index in sourcesContent) return\n\n            const sourcemapSourceUrl = resolveFile(source, sourcemapUrl, {\n              type: \"source\",\n            })\n            try {\n              const sourceResponse = await fetchFile(sourcemapSourceUrl)\n              const { status } = sourceResponse\n              if (status !== 200) {\n                if (firstSourceMapSourceFailure) return\n\n                if (status === 404) {\n                  firstSourceMapSourceFailure = createDetailedMessage(\n                    `sourcemap source not found.`,\n                    {\n                      [\"sourcemap source url\"]: sourcemapSourceUrl,\n                      [\"sourcemap url\"]: sourcemapUrl,\n                    },\n                  )\n                  return\n                }\n                firstSourceMapSourceFailure = createDetailedMessage(\n                  `unexpected response for sourcemap source.`,\n                  {\n                    [\"response status\"]: status,\n                    [\"response text\"]: await sourceResponse.text(),\n                    [\"sourcemap source url\"]: sourcemapSourceUrl,\n                    [\"sourcemap url\"]: sourcemapUrl,\n                  },\n                )\n                return\n              }\n\n              const sourceString = await sourceResponse.text()\n              sourcesContent[index] = sourceString\n            } catch (e) {\n              if (firstSourceMapSourceFailure) return\n              firstSourceMapSourceFailure = createDetailedMessage(\n                `error while fetching sourcemap source.`,\n                {\n                  [\"fetch error stack\"]: readErrorStack(e),\n                  [\"sourcemap source url\"]: sourcemapSourceUrl,\n                  [\"sourcemap url\"]: sourcemapUrl,\n                },\n              )\n            }\n          }),\n        )\n\n        if (firstSourceMapSourceFailure) {\n          onFailure(firstSourceMapSourceFailure)\n          return null\n        }\n\n        return new SourceMapConsumer(sourceMap)\n      } catch (e) {\n        onFailure(\n          createDetailedMessage(\n            `error while preparing a sourceMap consumer for a stack trace file.`,\n            {\n              [\"error stack\"]: readErrorStack(e),\n              [\"stack trace file\"]: stackTraceFileUrl,\n            },\n          ),\n        )\n        return null\n      }\n    },\n  )\n\n  const originalCallsites = await Promise.all(\n    stack.map((callSite) =>\n      remapCallSite(callSite, {\n        resolveFile,\n        urlToSourcemapConsumer,\n        readErrorStack,\n        onFailure,\n      }),\n    ),\n  )\n  return originalCallsites\n}\n\nconst memoizeByFirstArgStringValue = (fn) => {\n  const stringValueCache = {}\n  return (firstArgValue) => {\n    if (firstArgValue in stringValueCache)\n      return stringValueCache[firstArgValue]\n    const value = fn(firstArgValue)\n    stringValueCache[firstArgValue] = value\n    return value\n  }\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { stackToString } from \"./stackToString.js\"\nimport { getOriginalCallsites } from \"./getOriginalCallsites.js\"\n\nexport const installErrorStackRemapping = ({\n  fetchFile,\n  resolveFile,\n  SourceMapConsumer,\n  indent = \"  \",\n}) => {\n  if (typeof fetchFile !== \"function\") {\n    throw new TypeError(`fetchFile must be a function, got ${fetchFile}`)\n  }\n  if (typeof SourceMapConsumer !== \"function\") {\n    throw new TypeError(\n      `sourceMapConsumer must be a function, got ${SourceMapConsumer}`,\n    )\n  }\n  if (typeof indent !== \"string\") {\n    throw new TypeError(`indent must be a string, got ${indent}`)\n  }\n\n  const errorRemappingCache = new WeakMap()\n  const errorRemapFailureCallbackMap = new WeakMap()\n\n  let installed = false\n  const previousPrepareStackTrace = Error.prepareStackTrace\n  const install = () => {\n    if (installed) return\n    installed = true\n    Error.prepareStackTrace = prepareStackTrace\n  }\n\n  const uninstall = () => {\n    if (!installed) return\n    installed = false\n    Error.prepareStackTrace = previousPrepareStackTrace\n  }\n\n  // ensure we do not use prepareStackTrace for thoose error\n  // otherwise we would recursively remap error stack\n  // and if the reason causing the failure is still here\n  // it would create an infinite loop\n  const readErrorStack = (error) => {\n    uninstall()\n    const stack = error.stack\n    install()\n    return stack\n  }\n\n  const prepareStackTrace = (error, stack) => {\n    const onFailure = (failureData) => {\n      const failureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (failureCallbackArray) {\n        failureCallbackArray.forEach((callback) => callback(failureData))\n      }\n    }\n\n    const stackRemappingPromise = getOriginalCallsites({\n      stack,\n      error,\n      resolveFile,\n      fetchFile: memoizeFetch(fetchFile),\n      SourceMapConsumer,\n      readErrorStack,\n      indent,\n      onFailure,\n    })\n    errorRemappingCache.set(error, stackRemappingPromise)\n\n    return stackToString(stack, { error, indent })\n  }\n\n  const getErrorOriginalStackString = async (\n    error,\n    {\n      onFailure = (message) => {\n        console.warn(message)\n      },\n    } = {},\n  ) => {\n    if (onFailure) {\n      const remapFailureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (remapFailureCallbackArray) {\n        errorRemapFailureCallbackMap.set(error, [\n          ...remapFailureCallbackArray,\n          onFailure,\n        ])\n      } else {\n        errorRemapFailureCallbackMap.set(error, [onFailure])\n      }\n    }\n\n    // ensure Error.prepareStackTrace gets triggered by reading error.stack now\n    const { stack } = error\n    const promise = errorRemappingCache.get(error)\n\n    if (promise) {\n      try {\n        const originalCallsites = await promise\n        errorRemapFailureCallbackMap.get(error)\n\n        const firstCall = originalCallsites[0]\n        if (firstCall) {\n          Object.assign(error, {\n            filename: firstCall.getFileName(),\n            lineno: firstCall.getLineNumber(),\n            columnno: firstCall.getColumnNumber(),\n          })\n        }\n        return stackToString(originalCallsites, { error, indent })\n      } catch (e) {\n        onFailure(\n          createDetailedMessage(`error while computing original stack.`, {\n            [\"stack from error while computing\"]: readErrorStack(e),\n            [\"stack from error to remap\"]: stack,\n          }),\n        )\n        return stack\n      }\n    }\n\n    return stack\n  }\n\n  install()\n\n  return { getErrorOriginalStackString, uninstall }\n}\n\nconst memoizeFetch = (fetchUrl) => {\n  const urlCache = {}\n  return async (url) => {\n    if (url in urlCache) {\n      return urlCache[url]\n    }\n    const responsePromise = fetchUrl(url)\n    urlCache[url] = responsePromise\n    return responsePromise\n  }\n}\n",
    "/* eslint-env browser */\n\nimport { installErrorStackRemapping } from \"./installErrorStackRemapping.js\"\n\nexport const installBrowserErrorStackRemapping = (options = {}) =>\n  installErrorStackRemapping({\n    fetchFile: async (url) => {\n      // browser having Error.captureStackTrace got window.fetch\n      // and this executes only when Error.captureStackTrace exists\n      // so no need for polyfill or whatever here\n      const response = await window.fetch(url, {\n        // by default a script tag is in \"no-cors\"\n        // so we also fetch url with \"no-cors\"\n        mode: \"no-cors\",\n      })\n      // we read response test before anything because once memoized fetch\n      // gets annoying preventing you to read\n      // body multiple times, even using response.clone()\n      const text = await response.text()\n      return {\n        status: response.status,\n        url: response.url,\n        statusText: response.statusText,\n        headers: responseToHeaders(response),\n        text: () => text,\n        json: response.json.bind(response),\n        blob: response.blob.bind(response),\n        arrayBuffer: response.arrayBuffer.bind(response),\n      }\n    },\n    resolveFile: (specifier, importer = window.location.href) => {\n      // browsers having Error.captureStrackTrace got window.URL\n      // and this executes only when Error.captureStackTrace exists\n      return String(new URL(specifier, importer))\n    },\n    ...options,\n  })\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "/* eslint-env browser */\n\nexport const fetchUsingXHR = async (\n  url,\n  {\n    signal,\n    method = \"GET\",\n    credentials = \"same-origin\",\n    headers = {},\n    body = null,\n  } = {},\n) => {\n  const headersPromise = createPromiseAndHooks()\n  const bodyPromise = createPromiseAndHooks()\n\n  const xhr = new XMLHttpRequest()\n\n  const failure = (error) => {\n    // if it was already resolved, we must reject the body promise\n    if (headersPromise.settled) {\n      bodyPromise.reject(error)\n    } else {\n      headersPromise.reject(error)\n    }\n  }\n\n  const cleanup = () => {\n    xhr.ontimeout = null\n    xhr.onerror = null\n    xhr.onload = null\n    xhr.onreadystatechange = null\n  }\n\n  xhr.ontimeout = () => {\n    cleanup()\n    failure(new Error(`xhr request timeout on ${url}.`))\n  }\n\n  xhr.onerror = (error) => {\n    cleanup()\n    // unfortunately with have no clue why it fails\n    // might be cors for instance\n    failure(createRequestError(error, { url }))\n  }\n\n  xhr.onload = () => {\n    cleanup()\n    bodyPromise.resolve()\n  }\n\n  signal.addEventListener(\"abort\", () => {\n    xhr.abort()\n    const abortError = new Error(\"aborted\")\n    abortError.name = \"AbortError\"\n    failure(abortError)\n  })\n\n  xhr.onreadystatechange = () => {\n    // https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest/readyState\n    const { readyState } = xhr\n\n    if (readyState === 2) {\n      headersPromise.resolve()\n    } else if (readyState === 4) {\n      cleanup()\n      bodyPromise.resolve()\n    }\n  }\n\n  xhr.open(method, url, true)\n  Object.keys(headers).forEach((key) => {\n    xhr.setRequestHeader(key, headers[key])\n  })\n  xhr.withCredentials = computeWithCredentials({ credentials, url })\n  if (\"responseType\" in xhr && hasBlob) {\n    xhr.responseType = \"blob\"\n  }\n  xhr.send(body)\n\n  await headersPromise\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n  const responseUrl =\n    \"responseURL\" in xhr ? xhr.responseURL : headers[\"x-request-url\"]\n  let responseStatus = xhr.status\n  const responseStatusText = xhr.statusText\n  const responseHeaders = getHeadersFromXHR(xhr)\n\n  const readBody = async () => {\n    await bodyPromise\n\n    const { status } = xhr\n    // in Chrome on file:/// URLs, status is 0\n    if (status === 0) {\n      responseStatus = 200\n    }\n\n    const body = \"response\" in xhr ? xhr.response : xhr.responseText\n\n    return {\n      responseBody: body,\n      responseBodyType: detectBodyType(body),\n    }\n  }\n\n  const text = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return blobToText(responseBody)\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as text\")\n    }\n    if (responseBodyType === \"dataView\") {\n      return arrayBufferToText(responseBody.buffer)\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return arrayBufferToText(responseBody)\n    }\n    // if (responseBodyType === \"text\" || responseBodyType === 'searchParams') {\n    //   return body\n    // }\n    return String(responseBody)\n  }\n\n  const json = async () => {\n    const responseText = await text()\n    return JSON.parse(responseText)\n  }\n\n  const blob = async () => {\n    if (!hasBlob) {\n      throw new Error(`blob not supported`)\n    }\n\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return responseBody\n    }\n    if (responseBodyType === \"dataView\") {\n      return new Blob([cloneBuffer(responseBody.buffer)])\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return new Blob([cloneBuffer(responseBody)])\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as blob\")\n    }\n    return new Blob([String(responseBody)])\n  }\n\n  const arrayBuffer = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"arrayBuffer\") {\n      return cloneBuffer(responseBody)\n    }\n    const responseBlob = await blob()\n    return blobToArrayBuffer(responseBlob)\n  }\n\n  const formData = async () => {\n    if (!hasFormData) {\n      throw new Error(`formData not supported`)\n    }\n    const responseText = await text()\n    return textToFormData(responseText)\n  }\n\n  return {\n    url: responseUrl,\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: responseHeaders,\n    text,\n    json,\n    blob,\n    arrayBuffer,\n    formData,\n  }\n}\n\nconst canUseBlob = () => {\n  if (typeof window.FileReader !== \"function\") return false\n\n  if (typeof window.Blob !== \"function\") return false\n\n  try {\n    // eslint-disable-next-line no-new\n    new Blob()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasBlob = canUseBlob()\n\nconst hasFormData = typeof window.FormData === \"function\"\n\nconst hasArrayBuffer = typeof window.ArrayBuffer === \"function\"\n\nconst hasSearchParams = typeof window.URLSearchParams === \"function\"\n\nconst createRequestError = (error, { url }) => {\n  return new Error(\n    `error during xhr request on ${url}.\n--- error stack ---\n${error.stack}`,\n  )\n}\n\nconst createPromiseAndHooks = () => {\n  let resolve\n  let reject\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      promise.settled = true\n      res(value)\n    }\n    reject = (value) => {\n      promise.settled = true\n      rej(value)\n    }\n  })\n  promise.resolve = resolve\n  promise.reject = reject\n  return promise\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst detectBodyType = (body) => {\n  if (!body) {\n    return \"\"\n  }\n  if (typeof body === \"string\") {\n    return \"text\"\n  }\n  if (hasBlob && Blob.prototype.isPrototypeOf(body)) {\n    return \"blob\"\n  }\n  if (hasFormData && FormData.prototype.isPrototypeOf(body)) {\n    return \"formData\"\n  }\n  if (hasArrayBuffer) {\n    if (hasBlob && isDataView(body)) {\n      return `dataView`\n    }\n    if (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body)) {\n      return `arrayBuffer`\n    }\n  }\n  if (hasSearchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n    return \"searchParams\"\n  }\n  return \"\"\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n\nconst hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n\nconst hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n\nconst isDataView = (obj) => {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nconst isArrayBufferView =\n  ArrayBuffer.isView ||\n  (() => {\n    const viewClasses = [\n      \"[object Int8Array]\",\n      \"[object Uint8Array]\",\n      \"[object Uint8ClampedArray]\",\n      \"[object Int16Array]\",\n      \"[object Uint16Array]\",\n      \"[object Int32Array]\",\n      \"[object Uint32Array]\",\n      \"[object Float32Array]\",\n      \"[object Float64Array]\",\n    ]\n\n    return (value) => {\n      return (\n        value && viewClasses.includes(Object.prototype.toString.call(value))\n      )\n    }\n  })()\n\nconst textToFormData = (text) => {\n  const form = new FormData()\n  text\n    .trim()\n    .split(\"&\")\n    .forEach(function (bytes) {\n      if (bytes) {\n        const split = bytes.split(\"=\")\n        const name = split.shift().replace(/\\+/g, \" \")\n        const value = split.join(\"=\").replace(/\\+/g, \" \")\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nconst blobToArrayBuffer = async (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nconst blobToText = (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nconst arrayBufferToText = (arrayBuffer) => {\n  const view = new Uint8Array(arrayBuffer)\n  const chars = new Array(view.length)\n  let i = 0\n  while (i < view.length) {\n    chars[i] = String.fromCharCode(view[i])\n\n    i++\n  }\n  return chars.join(\"\")\n}\n\nconst fileReaderReady = (reader) => {\n  return new Promise(function (resolve, reject) {\n    reader.onload = function () {\n      resolve(reader.result)\n    }\n    reader.onerror = function () {\n      reject(reader.error)\n    }\n  })\n}\n\nconst cloneBuffer = (buffer) => {\n  if (buffer.slice) {\n    return buffer.slice(0)\n  }\n  const view = new Uint8Array(buffer.byteLength)\n  view.set(new Uint8Array(buffer))\n  return view.buffer\n}\n",
    "/* eslint-env browser */\n\nimport { fetchUsingXHR } from \"./fetchUsingXHR.js\"\n\nconst fetchNative = async (url, { mode = \"cors\", ...options } = {}) => {\n  const response = await window.fetch(url, {\n    mode,\n    ...options,\n  })\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: \"\",\n    headers: responseToHeaders(response),\n    text: () => response.text(),\n    json: () => response.json(),\n    blob: () => response.blob(),\n    arrayBuffer: () => response.arrayBuffer(),\n    formData: () => response.formData(),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" &&\n  typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchUsingXHR\n",
    "/* eslint-env browser */\n\nimport { createDetailedMessage } from \"@jsenv/logger\"\n\nimport { fetchUrl } from \"./fetch-browser.js\"\n\nexport const fetchAndEvalUsingFetch = async (url) => {\n  const response = await fetchUrl(url)\n\n  if (response.status >= 200 && response.status <= 299) {\n    const text = await response.text()\n    // eslint-disable-next-line no-eval\n    window.eval(appendSourceURL(text, url))\n  } else {\n    const text = await response.text()\n    throw new Error(\n      createDetailedMessage(`Unexpected response for script.`, {\n        [\"script url\"]: url,\n        [\"response body\"]: text,\n        [\"response status\"]: response.status,\n      }),\n    )\n  }\n}\n\nconst appendSourceURL = (code, sourceURL) => {\n  return `${code}\n${\"//#\"} sourceURL=${sourceURL}`\n}\n",
    "// https://developer.mozilla.org/en-US/docs/Glossary/Primitive\n\nexport const isComposite = (value) => {\n  if (value === null) {\n    return false\n  }\n\n  const type = typeof value\n  if (type === \"object\") {\n    return true\n  }\n\n  if (type === \"function\") {\n    return true\n  }\n\n  return false\n}\n",
    "import { isComposite } from \"./isComposite.js\"\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\nconst compositeWellKnownMap = new WeakMap()\nconst primitiveWellKnownMap = new Map()\n\nexport const getCompositeGlobalPath = (value) => compositeWellKnownMap.get(value)\n\nexport const getPrimitiveGlobalPath = (value) => primitiveWellKnownMap.get(value)\n\nconst visitGlobalObject = (value) => {\n  const visitValue = (value, path) => {\n    if (isComposite(value)) {\n      // prevent infinite recursion\n      if (compositeWellKnownMap.has(value)) {\n        return\n      }\n      compositeWellKnownMap.set(value, path)\n\n      const visitProperty = (property) => {\n        let descriptor\n        try {\n          descriptor = Object.getOwnPropertyDescriptor(value, property)\n        } catch (e) {\n          if (e.name === \"SecurityError\") {\n            return\n          }\n          throw e\n        }\n\n        if (!descriptor) {\n          // it's apparently possible to have getOwnPropertyNames returning\n          // a property that later returns a null descriptor\n          // for instance window.showModalDialog in webkit 13.0\n          return\n        }\n\n        // do not trigger getter/setter\n        if (\"value\" in descriptor) {\n          const propertyValue = descriptor.value\n          visitValue(propertyValue, [...path, property])\n        }\n      }\n\n      Object.getOwnPropertyNames(value).forEach((name) => visitProperty(name))\n      Object.getOwnPropertySymbols(value).forEach((symbol) => visitProperty(symbol))\n    }\n\n    primitiveWellKnownMap.set(value, path)\n    return\n  }\n\n  visitValue(value, [])\n}\n\nif (typeof window === \"object\") visitGlobalObject(window)\n\nif (typeof global === \"object\") visitGlobalObject(global)\n",
    "/**\n * transforms a javascript value into an object describing it.\n *\n */\n\nimport { isComposite } from \"./isComposite.js\"\nimport { getCompositeGlobalPath, getPrimitiveGlobalPath } from \"./global-value-path.js\"\n\nexport const decompose = (mainValue, { functionAllowed, prototypeStrict, ignoreSymbols }) => {\n  const valueMap = {}\n  const recipeArray = []\n\n  const valueToIdentifier = (value, path = []) => {\n    if (!isComposite(value)) {\n      const existingIdentifier = identifierForPrimitive(value)\n      if (existingIdentifier !== undefined) {\n        return existingIdentifier\n      }\n      const identifier = identifierForNewValue(value)\n      recipeArray[identifier] = primitiveToRecipe(value)\n      return identifier\n    }\n\n    if (typeof Promise === \"function\" && value instanceof Promise) {\n      throw new Error(createPromiseAreNotSupportedMessage({ path }))\n    }\n    if (typeof WeakSet === \"function\" && value instanceof WeakSet) {\n      throw new Error(createWeakSetAreNotSupportedMessage({ path }))\n    }\n    if (typeof WeakMap === \"function\" && value instanceof WeakMap) {\n      throw new Error(createWeakMapAreNotSupportedMessage({ path }))\n    }\n    if (typeof value === \"function\" && !functionAllowed) {\n      throw new Error(createForbiddenFunctionMessage({ path }))\n    }\n\n    const existingIdentifier = identifierForComposite(value)\n    if (existingIdentifier !== undefined) {\n      return existingIdentifier\n    }\n    const identifier = identifierForNewValue(value)\n\n    const compositeGlobalPath = getCompositeGlobalPath(value)\n    if (compositeGlobalPath) {\n      recipeArray[identifier] = createGlobalReferenceRecipe(compositeGlobalPath)\n      return identifier\n    }\n\n    const propertyDescriptionArray = []\n    Object.getOwnPropertyNames(value).forEach((propertyName) => {\n      const propertyDescriptor = Object.getOwnPropertyDescriptor(value, propertyName)\n      const propertyNameIdentifier = valueToIdentifier(propertyName, [...path, propertyName])\n      const propertyDescription = computePropertyDescription(propertyDescriptor, propertyName, path)\n      propertyDescriptionArray.push({ propertyNameIdentifier, propertyDescription })\n    })\n\n    const symbolDescriptionArray = []\n    if (!ignoreSymbols) {\n      Object.getOwnPropertySymbols(value).forEach((symbol) => {\n        const propertyDescriptor = Object.getOwnPropertyDescriptor(value, symbol)\n        const symbolIdentifier = valueToIdentifier(symbol, [...path, `[${symbol.toString()}]`])\n        const propertyDescription = computePropertyDescription(propertyDescriptor, symbol, path)\n        symbolDescriptionArray.push({ symbolIdentifier, propertyDescription })\n      })\n    }\n\n    const methodDescriptionArray = computeMethodDescriptionArray(value, path)\n\n    const extensible = Object.isExtensible(value)\n\n    recipeArray[identifier] = createCompositeRecipe({\n      propertyDescriptionArray,\n      symbolDescriptionArray,\n      methodDescriptionArray,\n      extensible,\n    })\n    return identifier\n  }\n\n  const computePropertyDescription = (propertyDescriptor, propertyNameOrSymbol, path) => {\n    if (propertyDescriptor.set && !functionAllowed) {\n      throw new Error(createForbiddenPropertySetterMessage({ path, propertyNameOrSymbol }))\n    }\n    if (propertyDescriptor.get && !functionAllowed) {\n      throw new Error(createForbiddenPropertyGetterMessage({ path, propertyNameOrSymbol }))\n    }\n\n    return {\n      configurable: propertyDescriptor.configurable,\n      writable: propertyDescriptor.writable,\n      enumerable: propertyDescriptor.enumerable,\n      getIdentifier:\n        \"get\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.get, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:get]]\",\n            ])\n          : undefined,\n      setIdentifier:\n        \"set\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.set, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:set]]\",\n            ])\n          : undefined,\n      valueIdentifier:\n        \"value\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.value, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:value]]\",\n            ])\n          : undefined,\n    }\n  }\n\n  const computeMethodDescriptionArray = (value, path) => {\n    const methodDescriptionArray = []\n\n    if (typeof Set === \"function\" && value instanceof Set) {\n      const callArray = []\n      value.forEach((entryValue, index) => {\n        const entryValueIdentifier = valueToIdentifier(entryValue, [\n          ...path,\n          `[[SetEntryValue]]`,\n          index,\n        ])\n        callArray.push([entryValueIdentifier])\n      })\n      methodDescriptionArray.push({ methodNameIdentifier: valueToIdentifier(\"add\"), callArray })\n    }\n\n    if (typeof Map === \"function\" && value instanceof Map) {\n      const callArray = []\n      value.forEach((entryValue, entryKey) => {\n        const entryKeyIdentifier = valueToIdentifier(entryKey, [\n          ...path,\n          \"[[MapEntryKey]]\",\n          entryKey,\n        ])\n        const entryValueIdentifier = valueToIdentifier(entryValue, [\n          ...path,\n          \"[[MapEntryValue]]\",\n          entryValue,\n        ])\n        callArray.push([entryKeyIdentifier, entryValueIdentifier])\n      })\n      methodDescriptionArray.push({ methodNameIdentifier: valueToIdentifier(\"set\"), callArray })\n    }\n\n    return methodDescriptionArray\n  }\n\n  const identifierForPrimitive = (value) => {\n    return Object.keys(valueMap).find((existingIdentifier) => {\n      const existingValue = valueMap[existingIdentifier]\n      if (Object.is(value, existingValue)) return true\n      return value === existingValue\n    })\n  }\n\n  const identifierForComposite = (value) => {\n    return Object.keys(valueMap).find((existingIdentifier) => {\n      const existingValue = valueMap[existingIdentifier]\n      return value === existingValue\n    })\n  }\n\n  const identifierForNewValue = (value) => {\n    const identifier = nextIdentifier()\n    valueMap[identifier] = value\n    return identifier\n  }\n\n  let currentIdentifier = -1\n  const nextIdentifier = () => {\n    const identifier = String(parseInt(currentIdentifier) + 1)\n    currentIdentifier = identifier\n    return identifier\n  }\n\n  const mainIdentifier = valueToIdentifier(mainValue)\n\n  // prototype, important to keep after the whole structure was visited\n  // so that we discover if any prototype is part of the value\n  const prototypeValueToIdentifier = (prototypeValue) => {\n    // prototype is null\n    if (prototypeValue === null) {\n      return valueToIdentifier(prototypeValue)\n    }\n\n    // prototype found somewhere already\n    const prototypeExistingIdentifier = identifierForComposite(prototypeValue)\n    if (prototypeExistingIdentifier !== undefined) {\n      return prototypeExistingIdentifier\n    }\n\n    // mark prototype as visited\n    const prototypeIdentifier = identifierForNewValue(prototypeValue)\n\n    // prototype is a global reference ?\n    const prototypeGlobalPath = getCompositeGlobalPath(prototypeValue)\n    if (prototypeGlobalPath) {\n      recipeArray[prototypeIdentifier] = createGlobalReferenceRecipe(prototypeGlobalPath)\n      return prototypeIdentifier\n    }\n\n    // otherwise prototype is unknown\n    if (prototypeStrict) {\n      throw new Error(createUnknownPrototypeMessage({ prototypeValue }))\n    }\n\n    return prototypeValueToIdentifier(Object.getPrototypeOf(prototypeValue), true)\n  }\n  const identifierForValueOf = (value, path = []) => {\n    if (value instanceof Array) {\n      return valueToIdentifier(value.length, [...path, \"length\"])\n    }\n\n    if (\"valueOf\" in value === false) {\n      return undefined\n    }\n\n    if (typeof value.valueOf !== \"function\") {\n      return undefined\n    }\n\n    const valueOfReturnValue = value.valueOf()\n    if (!isComposite(valueOfReturnValue)) {\n      return valueToIdentifier(valueOfReturnValue, [...path, \"valueOf()\"])\n    }\n\n    if (valueOfReturnValue === value) {\n      return undefined\n    }\n\n    throw new Error(createUnexpectedValueOfReturnValueMessage())\n  }\n\n  recipeArray.slice().forEach((recipe, index) => {\n    if (recipe.type === \"composite\") {\n      const value = valueMap[index]\n\n      if (typeof value === \"function\") {\n        const valueOfIdentifier = nextIdentifier()\n        recipeArray[valueOfIdentifier] = {\n          type: \"primitive\",\n          value,\n        }\n        recipe.valueOfIdentifier = valueOfIdentifier\n        return\n      }\n\n      if (value instanceof RegExp) {\n        const valueOfIdentifier = nextIdentifier()\n        recipeArray[valueOfIdentifier] = {\n          type: \"primitive\",\n          value,\n        }\n        recipe.valueOfIdentifier = valueOfIdentifier\n        return\n      }\n\n      // valueOf, mandatory to uneval new Date(10) for instance.\n      recipe.valueOfIdentifier = identifierForValueOf(value)\n      const prototypeValue = Object.getPrototypeOf(value)\n      recipe.prototypeIdentifier = prototypeValueToIdentifier(prototypeValue, true)\n    }\n  })\n\n  return {\n    recipeArray,\n    mainIdentifier,\n    valueMap,\n  }\n}\n\nconst primitiveToRecipe = (value) => {\n  if (typeof value === \"symbol\") {\n    return symbolToRecipe(value)\n  }\n\n  return createPimitiveRecipe(value)\n}\n\nconst symbolToRecipe = (symbol) => {\n  const globalSymbolKey = Symbol.keyFor(symbol)\n  if (globalSymbolKey !== undefined) {\n    return createGlobalSymbolRecipe(globalSymbolKey)\n  }\n\n  const symbolGlobalPath = getPrimitiveGlobalPath(symbol)\n  if (!symbolGlobalPath) {\n    throw new Error(createUnknownSymbolMessage({ symbol }))\n  }\n\n  return createGlobalReferenceRecipe(symbolGlobalPath)\n}\n\nconst createPimitiveRecipe = (value) => {\n  return {\n    type: \"primitive\",\n    value,\n  }\n}\n\nconst createGlobalReferenceRecipe = (path) => {\n  const recipe = {\n    type: \"global-reference\",\n    path,\n  }\n  return recipe\n}\n\nconst createGlobalSymbolRecipe = (key) => {\n  return {\n    type: \"global-symbol\",\n    key,\n  }\n}\n\nconst createCompositeRecipe = ({\n  prototypeIdentifier,\n  valueOfIdentifier,\n  propertyDescriptionArray,\n  symbolDescriptionArray,\n  methodDescriptionArray,\n  extensible,\n}) => {\n  return {\n    type: \"composite\",\n    prototypeIdentifier,\n    valueOfIdentifier,\n    propertyDescriptionArray,\n    symbolDescriptionArray,\n    methodDescriptionArray,\n    extensible,\n  }\n}\n\nconst createPromiseAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) {\n    return `promise are not supported.`\n  }\n\n  return `promise are not supported.\npromise found at: ${path.join(\"\")}`\n}\n\nconst createWeakSetAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) {\n    return `weakSet are not supported.`\n  }\n\n  return `weakSet are not supported.\nweakSet found at: ${path.join(\"\")}`\n}\n\nconst createWeakMapAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) {\n    return `weakMap are not supported.`\n  }\n\n  return `weakMap are not supported.\nweakMap found at: ${path.join(\"\")}`\n}\n\nconst createForbiddenFunctionMessage = ({ path }) => {\n  if (path.length === 0) {\n    return `function are not allowed.`\n  }\n\n  return `function are not allowed.\nfunction found at: ${path.join(\"\")}`\n}\n\nconst createForbiddenPropertyGetterMessage = ({\n  path,\n  propertyNameOrSymbol,\n}) => `property getter are not allowed.\ngetter found on property: ${String(propertyNameOrSymbol)}\nat: ${path.join(\"\")}`\n\nconst createForbiddenPropertySetterMessage = ({\n  path,\n  propertyNameOrSymbol,\n}) => `property setter are not allowed.\nsetter found on property: ${String(propertyNameOrSymbol)}\nat: ${path.join(\"\")}`\n\nconst createUnexpectedValueOfReturnValueMessage = () =>\n  `valueOf() must return a primitive of the object itself.`\n\nconst createUnknownSymbolMessage = ({\n  symbol,\n}) => `symbol must be global, like Symbol.iterator, or created using Symbol.for().\nsymbol: ${symbol.toString()}`\n\nconst createUnknownPrototypeMessage = ({ prototypeValue }) =>\n  `prototype must be global, like Object.prototype, or somewhere in the value.\nprototype constructor name: ${prototypeValue.constructor.name}`\n",
    "// be carefull because this function is mutating recipe objects inside the recipeArray.\n// this is not an issue because each recipe object is not accessible from the outside\n// when used internally by uneval\nexport const sortRecipe = (recipeArray) => {\n  const findInRecipePrototypeChain = (recipe, callback) => {\n    let currentRecipe = recipe\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      if (currentRecipe.type !== \"composite\") {\n        break\n      }\n\n      const prototypeIdentifier = currentRecipe.prototypeIdentifier\n      if (prototypeIdentifier === undefined) {\n        break\n      }\n\n      currentRecipe = recipeArray[prototypeIdentifier]\n\n      if (callback(currentRecipe, prototypeIdentifier)) {\n        return prototypeIdentifier\n      }\n    }\n    return undefined\n  }\n\n  const recipeArrayOrdered = recipeArray.slice()\n  recipeArrayOrdered.sort((leftRecipe, rightRecipe) => {\n    const leftType = leftRecipe.type\n    const rightType = rightRecipe.type\n\n    if (leftType === \"composite\" && rightType === \"composite\") {\n      const rightRecipeIsInLeftRecipePrototypeChain = findInRecipePrototypeChain(\n        leftRecipe,\n        (recipeCandidate) => recipeCandidate === rightRecipe,\n      )\n      // if left recipe requires right recipe, left must be after right\n      if (rightRecipeIsInLeftRecipePrototypeChain) {\n        return 1\n      }\n\n      const leftRecipeIsInRightRecipePrototypeChain = findInRecipePrototypeChain(\n        rightRecipe,\n        (recipeCandidate) => recipeCandidate === leftRecipe,\n      )\n      // if right recipe requires left recipe, right must be after left\n      if (leftRecipeIsInRightRecipePrototypeChain) {\n        return -1\n      }\n    }\n\n    if (leftType !== rightType) {\n      // if left is a composite, left must be after right\n      if (leftType === \"composite\") {\n        return 1\n      }\n\n      // if right is a composite, right must be after left\n      if (rightType === \"composite\") {\n        return -1\n      }\n    }\n\n    const leftIndex = recipeArray.indexOf(leftRecipe)\n    const rightIndex = recipeArray.indexOf(rightRecipe)\n    // left was before right, don't change that\n    if (leftIndex < rightIndex) {\n      return -1\n    }\n\n    // right was after left, don't change that\n    return 1\n  })\n\n  return recipeArrayOrdered\n}\n",
    "// https://github.com/joliss/js-string-escape/blob/master/index.js\n// http://javascript.crockford.com/remedial.html\nexport const escapeString = (value) => {\n  const string = String(value)\n  let i = 0\n  const j = string.length\n  var escapedString = \"\"\n  while (i < j) {\n    const char = string[i]\n    let escapedChar\n    if (char === '\"' || char === \"'\" || char === \"\\\\\") {\n      escapedChar = `\\\\${char}`\n    } else if (char === \"\\n\") {\n      escapedChar = \"\\\\n\"\n    } else if (char === \"\\r\") {\n      escapedChar = \"\\\\r\"\n    } else if (char === \"\\u2028\") {\n      escapedChar = \"\\\\u2028\"\n    } else if (char === \"\\u2029\") {\n      escapedChar = \"\\\\u2029\"\n    } else {\n      escapedChar = char\n    }\n    escapedString += escapedChar\n    i++\n  }\n  return escapedString\n}\n",
    "import { decompose } from \"./internal/decompose.js\"\nimport { sortRecipe } from \"./internal/sortRecipe.js\"\nimport { escapeString } from \"./internal/escapeString.js\"\n\nexport const uneval = (\n  value,\n  { functionAllowed = false, prototypeStrict = false, ignoreSymbols = false } = {},\n) => {\n  const { recipeArray, mainIdentifier, valueMap } = decompose(value, {\n    functionAllowed,\n    prototypeStrict,\n    ignoreSymbols,\n  })\n  const recipeArraySorted = sortRecipe(recipeArray)\n\n  let source = `(function () {\nvar globalObject\ntry {\n  globalObject = Function('return this')() || (42, eval)('this');\n} catch(e) {\n  globalObject = window;\n}\n\nfunction safeDefineProperty(object, propertyNameOrSymbol, descriptor) {\n  var currentDescriptor = Object.getOwnPropertyDescriptor(object, propertyNameOrSymbol);\n  if (currentDescriptor && !currentDescriptor.configurable) return\n  Object.defineProperty(object, propertyNameOrSymbol, descriptor)\n};\n`\n\n  const variableNameMap = {}\n  recipeArray.forEach((recipe, index) => {\n    const indexSorted = recipeArraySorted.indexOf(recipe)\n    variableNameMap[index] = `_${indexSorted}`\n  })\n\n  const identifierToVariableName = (identifier) => variableNameMap[identifier]\n\n  const recipeToSetupSource = (recipe) => {\n    if (recipe.type === \"primitive\") return primitiveRecipeToSetupSource(recipe)\n    if (recipe.type === \"global-symbol\") return globalSymbolRecipeToSetupSource(recipe)\n    if (recipe.type === \"global-reference\") return globalReferenceRecipeToSetupSource(recipe)\n    return compositeRecipeToSetupSource(recipe)\n  }\n\n  const primitiveRecipeToSetupSource = ({ value }) => {\n    const type = typeof value\n\n    if (type === \"string\") {\n      return `\"${escapeString(value)}\";`\n    }\n\n    if (type === \"bigint\") {\n      return `${value.toString()}n`\n    }\n\n    if (Object.is(value, -0)) {\n      return \"-0;\"\n    }\n\n    return `${String(value)};`\n  }\n\n  const globalSymbolRecipeToSetupSource = (recipe) => {\n    return `Symbol.for(\"${escapeString(recipe.key)}\");`\n  }\n\n  const globalReferenceRecipeToSetupSource = (recipe) => {\n    const pathSource = recipe.path.map((part) => `[\"${escapeString(part)}\"]`).join(\"\")\n    return `globalObject${pathSource};`\n  }\n\n  const compositeRecipeToSetupSource = ({ prototypeIdentifier, valueOfIdentifier }) => {\n    if (prototypeIdentifier === undefined) {\n      return identifierToVariableName(valueOfIdentifier)\n    }\n\n    const prototypeValue = valueMap[prototypeIdentifier]\n    if (prototypeValue === null) {\n      return `Object.create(null);`\n    }\n\n    const prototypeConstructor = prototypeValue.constructor\n    if (prototypeConstructor === Object) {\n      return `Object.create(${identifierToVariableName(prototypeIdentifier)});`\n    }\n\n    if (valueOfIdentifier === undefined) {\n      return `new ${prototypeConstructor.name}();`\n    }\n\n    if (prototypeConstructor.name === \"BigInt\") {\n      return `Object(${identifierToVariableName(valueOfIdentifier)})`\n    }\n\n    return `new ${prototypeConstructor.name}(${identifierToVariableName(valueOfIdentifier)});`\n  }\n\n  recipeArraySorted.forEach((recipe) => {\n    const recipeVariableName = identifierToVariableName(recipeArray.indexOf(recipe))\n    source += `var ${recipeVariableName} = ${recipeToSetupSource(recipe, recipeVariableName)}\n`\n  })\n\n  const recipeToMutateSource = (recipe, recipeVariableName) => {\n    if (recipe.type === \"composite\") {\n      return compositeRecipeToMutateSource(recipe, recipeVariableName)\n    }\n    return ``\n  }\n\n  const compositeRecipeToMutateSource = (\n    { propertyDescriptionArray, symbolDescriptionArray, methodDescriptionArray, extensible },\n    recipeVariableName,\n  ) => {\n    let mutateSource = ``\n\n    propertyDescriptionArray.forEach(({ propertyNameIdentifier, propertyDescription }) => {\n      mutateSource += generateDefinePropertySource(\n        recipeVariableName,\n        propertyNameIdentifier,\n        propertyDescription,\n      )\n    })\n\n    symbolDescriptionArray.forEach(({ symbolIdentifier, propertyDescription }) => {\n      mutateSource += generateDefinePropertySource(\n        recipeVariableName,\n        symbolIdentifier,\n        propertyDescription,\n      )\n    })\n\n    methodDescriptionArray.forEach(({ methodNameIdentifier, callArray }) => {\n      mutateSource += generateMethodCallSource(recipeVariableName, methodNameIdentifier, callArray)\n    })\n\n    if (!extensible) {\n      mutateSource += generatePreventExtensionSource(recipeVariableName)\n    }\n\n    return mutateSource\n  }\n\n  const generateDefinePropertySource = (\n    recipeVariableName,\n    propertyNameOrSymbolIdentifier,\n    propertyDescription,\n  ) => {\n    const propertyOrSymbolVariableName = identifierToVariableName(propertyNameOrSymbolIdentifier)\n\n    const propertyDescriptorSource = generatePropertyDescriptorSource(propertyDescription)\n    return `safeDefineProperty(${recipeVariableName}, ${propertyOrSymbolVariableName}, ${propertyDescriptorSource});`\n  }\n\n  const generatePropertyDescriptorSource = ({\n    configurable,\n    writable,\n    enumerable,\n    getIdentifier,\n    setIdentifier,\n    valueIdentifier,\n  }) => {\n    if (valueIdentifier === undefined) {\n      return `{\n  configurable: ${configurable},\n  enumerable: ${enumerable},\n  get: ${getIdentifier === undefined ? undefined : identifierToVariableName(getIdentifier)},\n  set: ${setIdentifier === undefined ? undefined : identifierToVariableName(setIdentifier)},\n}`\n    }\n\n    return `{\n  configurable: ${configurable},\n  writable: ${writable},\n  enumerable: ${enumerable},\n  value: ${valueIdentifier === undefined ? undefined : identifierToVariableName(valueIdentifier)}\n}`\n  }\n\n  const generateMethodCallSource = (recipeVariableName, methodNameIdentifier, callArray) => {\n    let methodCallSource = ``\n\n    const methodVariableName = identifierToVariableName(methodNameIdentifier)\n    callArray.forEach((argumentIdentifiers) => {\n      const argumentVariableNames = argumentIdentifiers.map((argumentIdentifier) =>\n        identifierToVariableName(argumentIdentifier),\n      )\n\n      methodCallSource += `${recipeVariableName}[${methodVariableName}](${argumentVariableNames.join(\n        \",\",\n      )});`\n    })\n\n    return methodCallSource\n  }\n\n  const generatePreventExtensionSource = (recipeVariableName) => {\n    return `Object.preventExtensions(${recipeVariableName});`\n  }\n\n  recipeArraySorted.forEach((recipe) => {\n    const recipeVariableName = identifierToVariableName(recipeArray.indexOf(recipe))\n    source += `${recipeToMutateSource(recipe, recipeVariableName)}`\n  })\n\n  source += `return ${identifierToVariableName(mainIdentifier)}; })()`\n\n  return source\n}\n",
    "import { uneval } from \"@jsenv/uneval\"\n\nexport const unevalException = (value) => {\n  if (value && value.hasOwnProperty(\"toString\")) {\n    delete value.toString\n  }\n  return uneval(value, { ignoreSymbols: true })\n}\n",
    "export const memoize = (compute) => {\n  let memoized = false\n  let memoizedValue\n\n  const fnWithMemoization = (...args) => {\n    if (memoized) {\n      return memoizedValue\n    }\n    // if compute is recursive wait for it to be fully done before storing the lockValue\n    // so set locked later\n    memoizedValue = compute(...args)\n    memoized = true\n    return memoizedValue\n  }\n\n  fnWithMemoization.forget = () => {\n    const value = memoizedValue\n    memoized = false\n    memoizedValue = undefined\n    return value\n  }\n\n  return fnWithMemoization\n}\n",
    "/* eslint-env browser */\n\nexport const displayErrorInDocument = (error) => {\n  const title = \"An error occured\"\n  let theme\n  let message\n\n  if (error && error.parsingError) {\n    theme = \"light\"\n    const { parsingError } = error\n    message = errorToHTML(\n      parsingError.messageHTML || escapeHtml(parsingError.message),\n    )\n  } else {\n    theme = \"dark\"\n    message = errorToHTML(error)\n  }\n\n  const css = `\n    .jsenv-console {\n      background: rgba(0, 0, 0, 0.95);\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      z-index: 1000;\n      box-sizing: border-box;\n      padding: 1em;\n    }\n\n    .jsenv-console h1 {\n      color: red;\n      display: flex;\n      align-items: center;\n    }\n\n    #button-close-jsenv-console {\n      margin-left: 10px;\n    }\n\n    .jsenv-console pre {\n      overflow: auto;\n      max-width: 70em;\n      /* avoid scrollbar to hide the text behind it */\n      padding: 20px;\n    }\n\n    .jsenv-console pre[data-theme=\"dark\"] {\n      background: #111;\n      border: 1px solid #333;\n      color: #eee;\n    }\n\n    .jsenv-console pre[data-theme=\"light\"] {\n      background: #1E1E1E;\n      border: 1px solid white;\n      color: #EEEEEE;\n    }\n\n    .jsenv-console pre a {\n      color: inherit;\n    }\n    `\n  const html = `\n      <style type=\"text/css\">${css}></style>\n      <div class=\"jsenv-console\">\n        <h1>${title} <button id=\"button-close-jsenv-console\">X</button></h1>\n        <pre data-theme=\"${theme}\">${message}</pre>\n      </div>\n      `\n  const removeJsenvConsole = appendHMTLInside(html, document.body)\n\n  document.querySelector(\"#button-close-jsenv-console\").onclick = () => {\n    removeJsenvConsole()\n  }\n}\n\nconst escapeHtml = (string) => {\n  return string\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\")\n}\n\nconst errorToHTML = (error) => {\n  let html\n\n  if (error && error instanceof Error) {\n    //  stackTrace formatted by V8\n    if (Error.captureStackTrace) {\n      html = escapeHtml(error.stack)\n    } else {\n      // other stack trace such as firefox do not contain error.message\n      html = escapeHtml(`${error.message}\n  ${error.stack}`)\n    }\n  } else if (typeof error === \"string\") {\n    html = error\n  } else if (error === undefined) {\n    html = \"undefined\"\n  } else {\n    html = JSON.stringify(error)\n  }\n\n  const htmlWithCorrectLineBreaks = html.replace(/\\n/g, \"\\n\")\n  const htmlWithLinks = stringToStringWithLink(htmlWithCorrectLineBreaks, {\n    transform: (url) => {\n      return { href: url, text: url }\n    },\n  })\n  return htmlWithLinks\n}\n\n// `Error: yo\n// at Object.execute (http://127.0.0.1:57300/build/src/__test__/file-throw.js:9:13)\n// at doExec (http://127.0.0.1:3000/src/__test__/file-throw.js:452:38)\n// at postOrderExec (http://127.0.0.1:3000/src/__test__/file-throw.js:448:16)\n// at http://127.0.0.1:3000/src/__test__/file-throw.js:399:18`.replace(/(?:https?|ftp|file):\\/\\/(.*+)$/gm, (...args) => {\n//   debugger\n// })\nconst stringToStringWithLink = (\n  source,\n  {\n    transform = (url) => {\n      return {\n        href: url,\n        text: url,\n      }\n    },\n  } = {},\n) => {\n  return source.replace(/(?:https?|ftp|file):\\/\\/\\S+/gm, (match) => {\n    let linkHTML = \"\"\n\n    const lastChar = match[match.length - 1]\n\n    // hotfix because our url regex sucks a bit\n    const endsWithSeparationChar = lastChar === \")\" || lastChar === \":\"\n    if (endsWithSeparationChar) {\n      match = match.slice(0, -1)\n    }\n\n    const lineAndColumnPattern = /:([0-9]+):([0-9]+)$/\n    const lineAndColumMatch = match.match(lineAndColumnPattern)\n    if (lineAndColumMatch) {\n      const lineAndColumnString = lineAndColumMatch[0]\n      const lineNumber = lineAndColumMatch[1]\n      const columnNumber = lineAndColumMatch[2]\n      const url = match.slice(0, -lineAndColumnString.length)\n      const { href, text } = transform(url)\n      linkHTML = link({ href, text: `${text}:${lineNumber}:${columnNumber}` })\n    } else {\n      const linePattern = /:([0-9]+)$/\n      const lineMatch = match.match(linePattern)\n      if (lineMatch) {\n        const lineString = lineMatch[0]\n        const lineNumber = lineMatch[1]\n        const url = match.slice(0, -lineString.length)\n        const { href, text } = transform(url)\n        linkHTML = link({\n          href,\n          text: `${text}:${lineNumber}`,\n        })\n      } else {\n        const url = match\n        const { href, text } = transform(url)\n        linkHTML = link({ href, text })\n      }\n    }\n\n    if (endsWithSeparationChar) {\n      return `${linkHTML}${lastChar}`\n    }\n    return linkHTML\n  })\n}\n\nconst link = ({ href, text = href }) => `<a href=\"${href}\">${text}</a>`\n\nconst appendHMTLInside = (html, parentNode) => {\n  const temoraryParent = document.createElement(\"div\")\n  temoraryParent.innerHTML = html\n  return transferChildren(temoraryParent, parentNode)\n}\n\nconst transferChildren = (fromNode, toNode) => {\n  const childNodes = [].slice.call(fromNode.childNodes, 0)\n  let i = 0\n  while (i < childNodes.length) {\n    toNode.appendChild(childNodes[i])\n    i++\n  }\n  return () => {\n    let c = 0\n    while (c < childNodes.length) {\n      fromNode.appendChild(childNodes[c])\n      c++\n    }\n  }\n}\n",
    "/* eslint-env browser */\nconst { Notification } = window\n\nconst displayErrorNotificationNotAvailable = () => {}\n\nconst displayErrorNotificationImplementation = (error, { icon } = {}) => {\n  if (Notification.permission === \"granted\") {\n    const notification = new Notification(\"An error occured\", {\n      lang: \"en\",\n      body: error ? error.stack : \"undefined\",\n      icon,\n    })\n    notification.onclick = () => {\n      window.focus()\n    }\n  }\n}\n\nexport const displayErrorNotification =\n  typeof Notification === \"function\"\n    ? displayErrorNotificationImplementation\n    : displayErrorNotificationNotAvailable\n",
    "export const assertImportMap = (value) => {\n  if (value === null) {\n    throw new TypeError(`an importMap must be an object, got null`)\n  }\n\n  const type = typeof value\n  if (type !== \"object\") {\n    throw new TypeError(`an importMap must be an object, received ${value}`)\n  }\n\n  if (Array.isArray(value)) {\n    throw new TypeError(\n      `an importMap must be an object, received array ${value}`,\n    )\n  }\n}\n",
    "export const hasScheme = (string) => {\n  return /^[a-zA-Z]{2,}:/.test(string)\n}\n",
    "export const urlToScheme = (urlString) => {\n  const colonIndex = urlString.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return urlString.slice(0, colonIndex)\n}\n",
    "import { urlToScheme } from \"./urlToScheme.js\"\n\nexport const urlToPathname = (urlString) => {\n  return ressourceToPathname(urlToRessource(urlString))\n}\n\nconst urlToRessource = (urlString) => {\n  const scheme = urlToScheme(urlString)\n\n  if (scheme === \"file\") {\n    return urlString.slice(\"file://\".length)\n  }\n\n  if (scheme === \"https\" || scheme === \"http\") {\n    // remove origin\n    const afterProtocol = urlString.slice(scheme.length + \"://\".length)\n    const pathnameSlashIndex = afterProtocol.indexOf(\"/\", \"://\".length)\n    return afterProtocol.slice(pathnameSlashIndex)\n  }\n\n  return urlString.slice(scheme.length + 1)\n}\n\nconst ressourceToPathname = (ressource) => {\n  const searchSeparatorIndex = ressource.indexOf(\"?\")\n  return searchSeparatorIndex === -1\n    ? ressource\n    : ressource.slice(0, searchSeparatorIndex)\n}\n",
    "import { urlToScheme } from \"./urlToScheme.js\"\n\nexport const urlToOrigin = (urlString) => {\n  const scheme = urlToScheme(urlString)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = urlString.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return urlString\n    return urlString.slice(0, pathnameSlashIndex)\n  }\n\n  return urlString.slice(0, scheme.length + 1)\n}\n",
    "export const pathnameToParentPathname = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex === -1) {\n    return \"/\"\n  }\n\n  return pathname.slice(0, slashLastIndex + 1)\n}\n",
    "// could be useful: https://url.spec.whatwg.org/#url-miscellaneous\n\nimport { urlToScheme } from \"./internal/urlToScheme.js\"\nimport { urlToPathname } from \"./internal/urlToPathname.js\"\nimport { urlToOrigin } from \"./internal/urlToOrigin.js\"\nimport { pathnameToParentPathname } from \"./internal/pathnameToParentPathname.js\"\nimport { hasScheme } from \"./internal/hasScheme.js\"\n\nexport const resolveUrl = (specifier, baseUrl) => {\n  if (baseUrl) {\n    if (typeof baseUrl !== \"string\") {\n      throw new TypeError(writeBaseUrlMustBeAString({ baseUrl, specifier }))\n    }\n    if (!hasScheme(baseUrl)) {\n      throw new Error(writeBaseUrlMustBeAbsolute({ baseUrl, specifier }))\n    }\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  if (!baseUrl) {\n    throw new Error(writeBaseUrlRequired({ baseUrl, specifier }))\n  }\n\n  // scheme relative\n  if (specifier.slice(0, 2) === \"//\") {\n    return `${urlToScheme(baseUrl)}:${specifier}`\n  }\n\n  // origin relative\n  if (specifier[0] === \"/\") {\n    return `${urlToOrigin(baseUrl)}${specifier}`\n  }\n\n  const baseOrigin = urlToOrigin(baseUrl)\n  const basePathname = urlToPathname(baseUrl)\n\n  if (specifier === \".\") {\n    const baseDirectoryPathname = pathnameToParentPathname(basePathname)\n    return `${baseOrigin}${baseDirectoryPathname}`\n  }\n\n  // pathname relative inside\n  if (specifier.slice(0, 2) === \"./\") {\n    const baseDirectoryPathname = pathnameToParentPathname(basePathname)\n    return `${baseOrigin}${baseDirectoryPathname}${specifier.slice(2)}`\n  }\n\n  // pathname relative outside\n  if (specifier.slice(0, 3) === \"../\") {\n    let unresolvedPathname = specifier\n    const importerFolders = basePathname.split(\"/\")\n    importerFolders.pop()\n\n    while (unresolvedPathname.slice(0, 3) === \"../\") {\n      unresolvedPathname = unresolvedPathname.slice(3)\n      // when there is no folder left to resolved\n      // we just ignore '../'\n      if (importerFolders.length) {\n        importerFolders.pop()\n      }\n    }\n\n    const resolvedPathname = `${importerFolders.join(\n      \"/\",\n    )}/${unresolvedPathname}`\n    return `${baseOrigin}${resolvedPathname}`\n  }\n\n  // bare\n  if (basePathname === \"\") {\n    return `${baseOrigin}/${specifier}`\n  }\n  if (basePathname[basePathname.length] === \"/\") {\n    return `${baseOrigin}${basePathname}${specifier}`\n  }\n  return `${baseOrigin}${pathnameToParentPathname(basePathname)}${specifier}`\n}\n\nconst writeBaseUrlMustBeAString = ({\n  baseUrl,\n  specifier,\n}) => `baseUrl must be a string.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlMustBeAbsolute = ({\n  baseUrl,\n  specifier,\n}) => `baseUrl must be absolute.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlRequired = ({\n  baseUrl,\n  specifier,\n}) => `baseUrl required to resolve relative specifier.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n",
    "import { hasScheme } from \"./hasScheme.js\"\nimport { resolveUrl } from \"../resolveUrl.js\"\n\nexport const tryUrlResolution = (string, url) => {\n  const result = resolveUrl(string, url)\n  return hasScheme(result) ? result : null\n}\n",
    "import { hasScheme } from \"./internal/hasScheme.js\"\nimport { resolveUrl } from \"./resolveUrl.js\"\n\nexport const resolveSpecifier = (specifier, importer) => {\n  if (\n    specifier === \".\" ||\n    specifier[0] === \"/\" ||\n    specifier.startsWith(\"./\") ||\n    specifier.startsWith(\"../\")\n  ) {\n    return resolveUrl(specifier, importer)\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  return null\n}\n",
    "import { assertImportMap } from \"./internal/assertImportMap.js\"\n\nexport const sortImportMap = (importMap) => {\n  assertImportMap(importMap)\n\n  const { imports, scopes } = importMap\n\n  return {\n    ...(imports ? { imports: sortImports(imports) } : {}),\n    ...(scopes ? { scopes: sortScopes(scopes) } : {}),\n  }\n}\n\nexport const sortImports = (imports) => {\n  const mappingsSorted = {}\n\n  Object.keys(imports)\n    .sort(compareLengthOrLocaleCompare)\n    .forEach((name) => {\n      mappingsSorted[name] = imports[name]\n    })\n\n  return mappingsSorted\n}\n\nexport const sortScopes = (scopes) => {\n  const scopesSorted = {}\n\n  Object.keys(scopes)\n    .sort(compareLengthOrLocaleCompare)\n    .forEach((scopeSpecifier) => {\n      scopesSorted[scopeSpecifier] = sortImports(scopes[scopeSpecifier])\n    })\n\n  return scopesSorted\n}\n\nconst compareLengthOrLocaleCompare = (a, b) => {\n  return b.length - a.length || a.localeCompare(b)\n}\n",
    "import { assertImportMap } from \"./internal/assertImportMap.js\"\nimport { tryUrlResolution } from \"./internal/tryUrlResolution.js\"\nimport { resolveSpecifier } from \"./resolveSpecifier.js\"\nimport { sortImports, sortScopes } from \"./sortImportMap.js\"\n\nexport const normalizeImportMap = (importMap, baseUrl) => {\n  assertImportMap(importMap)\n\n  if (!isStringOrUrl(baseUrl)) {\n    throw new TypeError(formulateBaseUrlMustBeStringOrUrl({ baseUrl }))\n  }\n\n  const { imports, scopes } = importMap\n\n  return {\n    imports: imports ? normalizeMappings(imports, baseUrl) : undefined,\n    scopes: scopes ? normalizeScopes(scopes, baseUrl) : undefined,\n  }\n}\n\nconst isStringOrUrl = (value) => {\n  if (typeof value === \"string\") {\n    return true\n  }\n\n  if (typeof URL === \"function\" && value instanceof URL) {\n    return true\n  }\n\n  return false\n}\n\nconst normalizeMappings = (mappings, baseUrl) => {\n  const mappingsNormalized = {}\n\n  Object.keys(mappings).forEach((specifier) => {\n    const address = mappings[specifier]\n\n    if (typeof address !== \"string\") {\n      console.warn(\n        formulateAddressMustBeAString({\n          address,\n          specifier,\n        }),\n      )\n      return\n    }\n\n    const specifierResolved = resolveSpecifier(specifier, baseUrl) || specifier\n\n    const addressUrl = tryUrlResolution(address, baseUrl)\n    if (addressUrl === null) {\n      console.warn(\n        formulateAdressResolutionFailed({\n          address,\n          baseUrl,\n          specifier,\n        }),\n      )\n      return\n    }\n\n    if (specifier.endsWith(\"/\") && !addressUrl.endsWith(\"/\")) {\n      console.warn(\n        formulateAddressUrlRequiresTrailingSlash({\n          addressUrl,\n          address,\n          specifier,\n        }),\n      )\n      return\n    }\n    mappingsNormalized[specifierResolved] = addressUrl\n  })\n\n  return sortImports(mappingsNormalized)\n}\n\nconst normalizeScopes = (scopes, baseUrl) => {\n  const scopesNormalized = {}\n\n  Object.keys(scopes).forEach((scopeSpecifier) => {\n    const scopeMappings = scopes[scopeSpecifier]\n    const scopeUrl = tryUrlResolution(scopeSpecifier, baseUrl)\n    if (scopeUrl === null) {\n      console.warn(\n        formulateScopeResolutionFailed({\n          scope: scopeSpecifier,\n          baseUrl,\n        }),\n      )\n      return\n    }\n    const scopeValueNormalized = normalizeMappings(scopeMappings, baseUrl)\n    scopesNormalized[scopeUrl] = scopeValueNormalized\n  })\n\n  return sortScopes(scopesNormalized)\n}\n\nconst formulateBaseUrlMustBeStringOrUrl = ({\n  baseUrl,\n}) => `baseUrl must be a string or an url.\n--- base url ---\n${baseUrl}`\n\nconst formulateAddressMustBeAString = ({\n  specifier,\n  address,\n}) => `Address must be a string.\n--- address ---\n${address}\n--- specifier ---\n${specifier}`\n\nconst formulateAdressResolutionFailed = ({\n  address,\n  baseUrl,\n  specifier,\n}) => `Address url resolution failed.\n--- address ---\n${address}\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst formulateAddressUrlRequiresTrailingSlash = ({\n  addressURL,\n  address,\n  specifier,\n}) => `Address must end with /.\n--- address url ---\n${addressURL}\n--- address ---\n${address}\n--- specifier ---\n${specifier}`\n\nconst formulateScopeResolutionFailed = ({\n  scope,\n  baseUrl,\n}) => `Scope url resolution failed.\n--- scope ---\n${scope}\n--- base url ---\n${baseUrl}`\n",
    "export const pathnameToExtension = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex !== -1) {\n    pathname = pathname.slice(slashLastIndex + 1)\n  }\n\n  const dotLastIndex = pathname.lastIndexOf(\".\")\n  if (dotLastIndex === -1) return \"\"\n  // if (dotLastIndex === pathname.length - 1) return \"\"\n  return pathname.slice(dotLastIndex)\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { assertImportMap } from \"./internal/assertImportMap.js\"\nimport { hasScheme } from \"./internal/hasScheme.js\"\nimport { tryUrlResolution } from \"./internal/tryUrlResolution.js\"\nimport { resolveSpecifier } from \"./resolveSpecifier.js\"\n\nexport const applyImportMap = ({\n  importMap,\n  specifier,\n  importer,\n  createBareSpecifierError = ({ specifier, importer }) => {\n    return new Error(\n      createDetailedMessage(`Unmapped bare specifier.`, {\n        specifier,\n        importer,\n      }),\n    )\n  },\n  onImportMapping = () => {},\n}) => {\n  assertImportMap(importMap)\n  if (typeof specifier !== \"string\") {\n    throw new TypeError(\n      createDetailedMessage(\"specifier must be a string.\", {\n        specifier,\n        importer,\n      }),\n    )\n  }\n  if (importer) {\n    if (typeof importer !== \"string\") {\n      throw new TypeError(\n        createDetailedMessage(\"importer must be a string.\", {\n          importer,\n          specifier,\n        }),\n      )\n    }\n    if (!hasScheme(importer)) {\n      throw new Error(\n        createDetailedMessage(`importer must be an absolute url.`, {\n          importer,\n          specifier,\n        }),\n      )\n    }\n  }\n\n  const specifierUrl = resolveSpecifier(specifier, importer)\n  const specifierNormalized = specifierUrl || specifier\n\n  const { scopes } = importMap\n  if (scopes && importer) {\n    const scopeSpecifierMatching = Object.keys(scopes).find(\n      (scopeSpecifier) => {\n        return (\n          scopeSpecifier === importer ||\n          specifierIsPrefixOf(scopeSpecifier, importer)\n        )\n      },\n    )\n    if (scopeSpecifierMatching) {\n      const scopeMappings = scopes[scopeSpecifierMatching]\n      const mappingFromScopes = applyMappings(\n        scopeMappings,\n        specifierNormalized,\n        scopeSpecifierMatching,\n        onImportMapping,\n      )\n      if (mappingFromScopes !== null) {\n        return mappingFromScopes\n      }\n    }\n  }\n\n  const { imports } = importMap\n  if (imports) {\n    const mappingFromImports = applyMappings(\n      imports,\n      specifierNormalized,\n      undefined,\n      onImportMapping,\n    )\n    if (mappingFromImports !== null) {\n      return mappingFromImports\n    }\n  }\n\n  if (specifierUrl) {\n    return specifierUrl\n  }\n\n  throw createBareSpecifierError({ specifier, importer })\n}\n\nconst applyMappings = (\n  mappings,\n  specifierNormalized,\n  scope,\n  onImportMapping,\n) => {\n  const specifierCandidates = Object.keys(mappings)\n\n  let i = 0\n  while (i < specifierCandidates.length) {\n    const specifierCandidate = specifierCandidates[i]\n    i++\n    if (specifierCandidate === specifierNormalized) {\n      const address = mappings[specifierCandidate]\n      onImportMapping({\n        scope,\n        from: specifierCandidate,\n        to: address,\n        before: specifierNormalized,\n        after: address,\n      })\n      return address\n    }\n    if (specifierIsPrefixOf(specifierCandidate, specifierNormalized)) {\n      const address = mappings[specifierCandidate]\n      const afterSpecifier = specifierNormalized.slice(\n        specifierCandidate.length,\n      )\n      const addressFinal = tryUrlResolution(afterSpecifier, address)\n      onImportMapping({\n        scope,\n        from: specifierCandidate,\n        to: address,\n        before: specifierNormalized,\n        after: addressFinal,\n      })\n      return addressFinal\n    }\n  }\n\n  return null\n}\n\nconst specifierIsPrefixOf = (specifierHref, href) => {\n  return (\n    specifierHref[specifierHref.length - 1] === \"/\" &&\n    href.startsWith(specifierHref)\n  )\n}\n",
    "import { urlToPathname } from \"./internal/urlToPathname.js\"\nimport { pathnameToExtension } from \"./internal/pathnameToExtension.js\"\nimport { resolveUrl } from \"./resolveUrl.js\"\nimport { applyImportMap } from \"./applyImportMap.js\"\n\nexport const resolveImport = ({\n  specifier,\n  importer,\n  importMap,\n  defaultExtension = false,\n  createBareSpecifierError,\n  onImportMapping = () => {},\n}) => {\n  let url\n  if (importMap) {\n    url = applyImportMap({\n      importMap,\n      specifier,\n      importer,\n      createBareSpecifierError,\n      onImportMapping,\n    })\n  } else {\n    url = resolveUrl(specifier, importer)\n  }\n\n  if (defaultExtension) {\n    url = applyDefaultExtension({ url, importer, defaultExtension })\n  }\n\n  return url\n}\n\nconst applyDefaultExtension = ({ url, importer, defaultExtension }) => {\n  if (urlToPathname(url).endsWith(\"/\")) {\n    return url\n  }\n\n  if (typeof defaultExtension === \"string\") {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\") {\n      return `${url}${defaultExtension}`\n    }\n    return url\n  }\n\n  if (defaultExtension === true) {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\" && importer) {\n      const importerPathname = urlToPathname(importer)\n      const importerExtension = pathnameToExtension(importerPathname)\n      return `${url}${importerExtension}`\n    }\n  }\n\n  return url\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\n\nexport const fromFunctionReturningNamespace = (fn, data) => {\n  return fromFunctionReturningRegisteredModule(() => {\n    // should we compute the namespace here\n    // or as it is done below, defer to execute ?\n    // I think defer to execute is better\n    return [\n      [],\n      (_export) => {\n        return {\n          execute: () => {\n            const namespace = fn()\n            _export(namespace)\n          },\n        }\n      },\n    ]\n  }, data)\n}\n\nexport const getJavaScriptModuleResponseError = async (\n  response,\n  {\n    url,\n    importerUrl,\n    compileServerOrigin,\n    compileDirectoryRelativeUrl,\n    jsonContentTypeAccepted,\n  },\n) => {\n  if (response.status === 404) {\n    return new Error(\n      createDetailedMessage(\n        `JavaScript module file cannot be found`,\n        getModuleDetails({\n          url,\n          importerUrl,\n          compileServerOrigin,\n          compileDirectoryRelativeUrl,\n          notFound: true,\n        }),\n      ),\n    )\n  }\n\n  const contentType = response.headers[\"content-type\"] || \"\"\n  if (response.status === 500 && contentType === \"application/json\") {\n    const bodyAsJson = await response.json()\n    if (\n      bodyAsJson.message &&\n      bodyAsJson.filename &&\n      \"columnNumber\" in bodyAsJson\n    ) {\n      const error = new Error(\n        createDetailedMessage(`JavaScript module file cannot be parsed`, {\n          [\"parsing error message\"]: bodyAsJson.message,\n          ...getModuleDetails({\n            url,\n            importerUrl,\n            compileServerOrigin,\n            compileDirectoryRelativeUrl,\n          }),\n        }),\n      )\n      error.parsingError = bodyAsJson\n      return error\n    }\n  }\n\n  if (response.status < 200 || response.status >= 300) {\n    return new Error(\n      createDetailedMessage(\n        `JavaScript module file response status is unexpected`,\n        {\n          [\"status\"]: response.status,\n          [\"allowed status\"]: \"200 to 299\",\n          [\"statusText\"]: response.statusText,\n          ...getModuleDetails({\n            url,\n            importerUrl,\n            compileServerOrigin,\n            compileDirectoryRelativeUrl,\n          }),\n        },\n      ),\n    )\n  }\n\n  if (\n    jsonContentTypeAccepted &&\n    (contentType === \"application/json\" || contentType.endsWith(\"+json\"))\n  ) {\n    return null\n  }\n\n  if (\n    contentType !== \"application/javascript\" &&\n    contentType !== \"text/javascript\"\n  ) {\n    return new Error(\n      createDetailedMessage(\n        `Failed to load module script: Expected a JavaScript module script but the server responded with a MIME type of \"${contentType}\". Strict MIME type checking is enforced for module scripts per HTML spec.`,\n        {\n          ...getModuleDetails({\n            url,\n            importerUrl,\n            compileServerOrigin,\n            compileDirectoryRelativeUrl,\n          }),\n          suggestion: `Use import.meta.url or import assertions as documented in https://github.com/jsenv/jsenv-core/blob/master/docs/building/readme.md#How-to-reference-assets`,\n        },\n      ),\n    )\n  }\n\n  return null\n}\n\nexport const fromFunctionReturningRegisteredModule = (fn, data) => {\n  try {\n    return fn()\n  } catch (error) {\n    if (error.name === \"SyntaxError\") {\n      throw new Error(\n        createDetailedMessage(`Syntax error in module.`, {\n          \"syntax error stack\": error.stack,\n          ...getModuleDetails(data),\n        }),\n      )\n    }\n    throw new Error(\n      createDetailedMessage(`Module instantiation error.`, {\n        [\"instantiation error stack\"]: error.stack,\n        ...getModuleDetails(data),\n      }),\n    )\n  }\n}\n\nexport const getModuleDetails = ({\n  url,\n  importerUrl,\n  compileServerOrigin,\n  compileDirectoryRelativeUrl,\n  notFound = false,\n}) => {\n  const relativeUrl = tryToFindProjectRelativeUrl(url, {\n    compileServerOrigin,\n    compileDirectoryRelativeUrl,\n  })\n\n  const importerRelativeUrl = tryToFindProjectRelativeUrl(importerUrl, {\n    compileServerOrigin,\n    compileDirectoryRelativeUrl,\n  })\n\n  const details = notFound\n    ? {\n        ...(importerUrl\n          ? { [\"import declared in\"]: importerRelativeUrl || importerUrl }\n          : {}),\n        ...(relativeUrl ? { file: relativeUrl } : {}),\n        [\"file url\"]: url,\n      }\n    : {\n        ...(relativeUrl ? { file: relativeUrl } : {}),\n        [\"file url\"]: url,\n        ...(importerUrl\n          ? { [\"imported by\"]: importerRelativeUrl || importerUrl }\n          : {}),\n      }\n\n  return details\n}\n\nexport const tryToFindProjectRelativeUrl = (\n  url,\n  { compileServerOrigin, compileDirectoryRelativeUrl },\n) => {\n  if (!url) {\n    return null\n  }\n\n  if (!url.startsWith(`${compileServerOrigin}/`)) {\n    return null\n  }\n\n  if (url === compileServerOrigin) {\n    return null\n  }\n\n  const afterOrigin = url.slice(`${compileServerOrigin}/`.length)\n  if (!afterOrigin.startsWith(compileDirectoryRelativeUrl)) {\n    return null\n  }\n\n  const afterCompileDirectory = afterOrigin.slice(\n    compileDirectoryRelativeUrl.length,\n  )\n  return afterCompileDirectory\n}\n\n// const textToBase64 =\n//   typeof window === \"object\"\n//     ? (text) => window.btoa(window.unescape(window.encodeURIComponent(text)))\n//     : (text) => Buffer.from(text, \"utf8\").toString(\"base64\")\n",
    "export const applyDefaultExtension = (specifier, importer) => {\n  if (!importer) {\n    return specifier\n  }\n\n  const importerExtension = urlToExtension(importer)\n  const fakeUrl = new URL(specifier, importer).href\n  const specifierExtension = urlToExtension(fakeUrl)\n  if (specifierExtension !== \"\") {\n    return specifier\n  }\n\n  // I guess typescript still expect default extension to be .ts\n  // in a tsx file.\n  if (importerExtension === \"tsx\") {\n    return `${specifier}.ts`\n  }\n\n  // extension magic\n  return `${specifier}${importerExtension}`\n}\n\nconst urlToExtension = (url) => {\n  return pathnameToExtension(urlToPathname(url))\n}\n\nconst urlToPathname = (url) => new URL(url).pathname\n\nconst pathnameToExtension = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex !== -1) {\n    pathname = pathname.slice(slashLastIndex + 1)\n  }\n\n  const dotLastIndex = pathname.lastIndexOf(\".\")\n  if (dotLastIndex === -1) return \"\"\n  // if (dotLastIndex === pathname.length - 1) return \"\"\n  const extension = pathname.slice(dotLastIndex)\n  return extension\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { resolveImport } from \"@jsenv/importmap/src/resolveImport.js\"\n\nimport { tryToFindProjectRelativeUrl } from \"@jsenv/core/src/internal/runtime/module-registration.js\"\n\nimport { applyDefaultExtension } from \"./default-extension.js\"\n\nexport const createImportResolverForImportmap = async ({\n  // projectDirectoryUrl,\n  compileServerOrigin,\n  compileDirectoryRelativeUrl,\n  importMap,\n  importMapUrl,\n  importDefaultExtension,\n  onBareSpecifierError = () => {},\n}) => {\n  const _resolveImport = (specifier, importer) => {\n    if (importDefaultExtension) {\n      specifier = applyDefaultExtension(specifier, importer)\n    }\n    return resolveImport({\n      specifier,\n      importer,\n      importMap,\n      createBareSpecifierError: ({ specifier, importer }) => {\n        const bareSpecifierError = createBareSpecifierError({\n          specifier,\n          importer:\n            tryToFindProjectRelativeUrl(importer, {\n              compileServerOrigin,\n              compileDirectoryRelativeUrl,\n            }) || importer,\n          importMapUrl:\n            tryToFindProjectRelativeUrl(importMapUrl, {\n              compileServerOrigin,\n              compileDirectoryRelativeUrl,\n            }) || importMapUrl,\n          importMap,\n        })\n        onBareSpecifierError(bareSpecifierError)\n        return bareSpecifierError\n      },\n    })\n  }\n\n  return { resolveImport: _resolveImport }\n}\n\nconst createBareSpecifierError = ({ specifier, importer, importMapUrl }) => {\n  const detailedMessage = createDetailedMessage(\"Unmapped bare specifier.\", {\n    specifier,\n    importer,\n    ...(importMapUrl\n      ? {\n          \"how to fix\": `Add a mapping for \"${specifier}\" into the importmap file at \"${importMapUrl}\"`,\n        }\n      : {\n          \"how to fix\": `Add an importmap with a mapping for \"${specifier}\"`,\n          \"suggestion\": `Generate importmap using https://github.com/jsenv/importmap-node-module`,\n        }),\n  })\n\n  return new Error(detailedMessage)\n}\n",
    "/* eslint-env browser */\n\nconst { performance } = window\n\nexport const measureAsyncFnPerf = performance\n  ? async (fn, name) => {\n      const perfMarkStartName = `${name}_start`\n\n      performance.mark(perfMarkStartName)\n      try {\n        const value = await fn()\n        return value\n      } finally {\n        performance.measure(name, perfMarkStartName)\n      }\n    }\n  : async (fn) => {\n      return fn()\n    }\n",
    "/*\n* SJS 6.11.0\n* Minimal SystemJS Build\n*/\n(function () {\n\n  function errMsg(errCode, msg) {\n    return (msg || \"\") + \" (SystemJS https://git.io/JvFET#\" + errCode + \")\";\n  }\n\n  var hasSymbol = typeof Symbol !== 'undefined';\n  var hasSelf = typeof self !== 'undefined';\n  var hasDocument = typeof document !== 'undefined';\n\n  var envGlobal = hasSelf ? self : global;\n\n  var baseUrl;\n\n  if (hasDocument) {\n    var baseEl = document.querySelector('base[href]');\n    if (baseEl)\n      baseUrl = baseEl.href;\n  }\n\n  if (!baseUrl && typeof location !== 'undefined') {\n    baseUrl = location.href.split('#')[0].split('?')[0];\n    var lastSepIndex = baseUrl.lastIndexOf('/');\n    if (lastSepIndex !== -1)\n      baseUrl = baseUrl.slice(0, lastSepIndex + 1);\n  }\n\n  var backslashRegEx = /\\\\/g;\n  function resolveIfNotPlainOrUrl (relUrl, parentUrl) {\n    if (relUrl.indexOf('\\\\') !== -1)\n      relUrl = relUrl.replace(backslashRegEx, '/');\n    // protocol-relative\n    if (relUrl[0] === '/' && relUrl[1] === '/') {\n      return parentUrl.slice(0, parentUrl.indexOf(':') + 1) + relUrl;\n    }\n    // relative-url\n    else if (relUrl[0] === '.' && (relUrl[1] === '/' || relUrl[1] === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\n        relUrl.length === 1  && (relUrl += '/')) ||\n        relUrl[0] === '/') {\n      var parentProtocol = parentUrl.slice(0, parentUrl.indexOf(':') + 1);\n      // Disabled, but these cases will give inconsistent results for deep backtracking\n      //if (parentUrl[parentProtocol.length] !== '/')\n      //  throw Error('Cannot resolve');\n      // read pathname from parent URL\n      // pathname taken to be part after leading \"/\"\n      var pathname;\n      if (parentUrl[parentProtocol.length + 1] === '/') {\n        // resolving to a :// so we need to read out the auth and host\n        if (parentProtocol !== 'file:') {\n          pathname = parentUrl.slice(parentProtocol.length + 2);\n          pathname = pathname.slice(pathname.indexOf('/') + 1);\n        }\n        else {\n          pathname = parentUrl.slice(8);\n        }\n      }\n      else {\n        // resolving to :/ so pathname is the /... part\n        pathname = parentUrl.slice(parentProtocol.length + (parentUrl[parentProtocol.length] === '/'));\n      }\n\n      if (relUrl[0] === '/')\n        return parentUrl.slice(0, parentUrl.length - pathname.length - 1) + relUrl;\n\n      // join together and split for removal of .. and . segments\n      // looping the string instead of anything fancy for perf reasons\n      // '../../../../../z' resolved to 'x/y' is just 'z'\n      var segmented = pathname.slice(0, pathname.lastIndexOf('/') + 1) + relUrl;\n\n      var output = [];\n      var segmentIndex = -1;\n      for (var i = 0; i < segmented.length; i++) {\n        // busy reading a segment - only terminate on '/'\n        if (segmentIndex !== -1) {\n          if (segmented[i] === '/') {\n            output.push(segmented.slice(segmentIndex, i + 1));\n            segmentIndex = -1;\n          }\n        }\n\n        // new segment - check if it is relative\n        else if (segmented[i] === '.') {\n          // ../ segment\n          if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i + 2 === segmented.length)) {\n            output.pop();\n            i += 2;\n          }\n          // ./ segment\n          else if (segmented[i + 1] === '/' || i + 1 === segmented.length) {\n            i += 1;\n          }\n          else {\n            // the start of a new segment as below\n            segmentIndex = i;\n          }\n        }\n        // it is the start of a new segment\n        else {\n          segmentIndex = i;\n        }\n      }\n      // finish reading out the last segment\n      if (segmentIndex !== -1)\n        output.push(segmented.slice(segmentIndex));\n      return parentUrl.slice(0, parentUrl.length - pathname.length) + output.join('');\n    }\n  }\n\n  /*\n   * Import maps implementation\n   *\n   * To make lookups fast we pre-resolve the entire import map\n   * and then match based on backtracked hash lookups\n   *\n   */\n\n  function resolveUrl (relUrl, parentUrl) {\n    return resolveIfNotPlainOrUrl(relUrl, parentUrl) || (relUrl.indexOf(':') !== -1 ? relUrl : resolveIfNotPlainOrUrl('./' + relUrl, parentUrl));\n  }\n\n  function resolveAndComposePackages (packages, outPackages, baseUrl, parentMap, parentUrl) {\n    for (var p in packages) {\n      var resolvedLhs = resolveIfNotPlainOrUrl(p, baseUrl) || p;\n      var rhs = packages[p];\n      // package fallbacks not currently supported\n      if (typeof rhs !== 'string')\n        continue;\n      var mapped = resolveImportMap(parentMap, resolveIfNotPlainOrUrl(rhs, baseUrl) || rhs, parentUrl);\n      if (!mapped) {\n        targetWarning('W1', p, rhs);\n      }\n      else\n        outPackages[resolvedLhs] = mapped;\n    }\n  }\n\n  function resolveAndComposeImportMap (json, baseUrl, outMap) {\n    if (json.imports)\n      resolveAndComposePackages(json.imports, outMap.imports, baseUrl, outMap, null);\n\n    var u;\n    for (u in json.scopes || {}) {\n      var resolvedScope = resolveUrl(u, baseUrl);\n      resolveAndComposePackages(json.scopes[u], outMap.scopes[resolvedScope] || (outMap.scopes[resolvedScope] = {}), baseUrl, outMap, resolvedScope);\n    }\n\n    for (u in json.depcache || {})\n      outMap.depcache[resolveUrl(u, baseUrl)] = json.depcache[u];\n\n    for (u in json.integrity || {})\n      outMap.integrity[resolveUrl(u, baseUrl)] = json.integrity[u];\n  }\n\n  function getMatch (path, matchObj) {\n    if (matchObj[path])\n      return path;\n    var sepIndex = path.length;\n    do {\n      var segment = path.slice(0, sepIndex + 1);\n      if (segment in matchObj)\n        return segment;\n    } while ((sepIndex = path.lastIndexOf('/', sepIndex - 1)) !== -1)\n  }\n\n  function applyPackages (id, packages) {\n    var pkgName = getMatch(id, packages);\n    if (pkgName) {\n      var pkg = packages[pkgName];\n      if (pkg === null) return;\n      if (id.length > pkgName.length && pkg[pkg.length - 1] !== '/') {\n        targetWarning('W2', pkgName, pkg);\n      }\n      else\n        return pkg + id.slice(pkgName.length);\n    }\n  }\n\n  function targetWarning (code, match, target, msg) {\n    console.warn(errMsg(code,  [target, match].join(', ') ));\n  }\n\n  function resolveImportMap (importMap, resolvedOrPlain, parentUrl) {\n    var scopes = importMap.scopes;\n    var scopeUrl = parentUrl && getMatch(parentUrl, scopes);\n    while (scopeUrl) {\n      var packageResolution = applyPackages(resolvedOrPlain, scopes[scopeUrl]);\n      if (packageResolution)\n        return packageResolution;\n      scopeUrl = getMatch(scopeUrl.slice(0, scopeUrl.lastIndexOf('/')), scopes);\n    }\n    return applyPackages(resolvedOrPlain, importMap.imports) || resolvedOrPlain.indexOf(':') !== -1 && resolvedOrPlain;\n  }\n\n  /*\n   * SystemJS Core\n   *\n   * Provides\n   * - System.import\n   * - System.register support for\n   *     live bindings, function hoisting through circular references,\n   *     reexports, dynamic import, import.meta.url, top-level await\n   * - System.getRegister to get the registration\n   * - Symbol.toStringTag support in Module objects\n   * - Hookable System.createContext to customize import.meta\n   * - System.onload(err, id, deps) handler for tracing / hot-reloading\n   *\n   * Core comes with no System.prototype.resolve or\n   * System.prototype.instantiate implementations\n   */\n\n  var toStringTag = hasSymbol && Symbol.toStringTag;\n  var REGISTRY = hasSymbol ? Symbol() : '@';\n\n  function SystemJS () {\n    this[REGISTRY] = {};\n  }\n\n  var systemJSPrototype = SystemJS.prototype;\n\n  systemJSPrototype.import = function (id, parentUrl) {\n    var loader = this;\n    return Promise.resolve(loader.prepareImport())\n    .then(function() {\n      return loader.resolve(id, parentUrl);\n    })\n    .then(function (id) {\n      var load = getOrCreateLoad(loader, id);\n      return load.C || topLevelLoad(loader, load);\n    });\n  };\n\n  // Hookable createContext function -> allowing eg custom import meta\n  systemJSPrototype.createContext = function (parentId) {\n    var loader = this;\n    return {\n      url: parentId,\n      resolve: function (id, parentUrl) {\n        return Promise.resolve(loader.resolve(id, parentUrl || parentId));\n      }\n    };\n  };\n  function loadToId (load) {\n    return load.id;\n  }\n  function triggerOnload (loader, load, err, isErrSource) {\n    loader.onload(err, load.id, load.d && load.d.map(loadToId), !!isErrSource);\n    if (err)\n      throw err;\n  }\n\n  var lastRegister;\n  systemJSPrototype.register = function (deps, declare) {\n    lastRegister = [deps, declare];\n  };\n\n  /*\n   * getRegister provides the last anonymous System.register call\n   */\n  systemJSPrototype.getRegister = function () {\n    var _lastRegister = lastRegister;\n    lastRegister = undefined;\n    return _lastRegister;\n  };\n\n  function getOrCreateLoad (loader, id, firstParentUrl) {\n    var load = loader[REGISTRY][id];\n    if (load)\n      return load;\n\n    var importerSetters = [];\n    var ns = Object.create(null);\n    if (toStringTag)\n      Object.defineProperty(ns, toStringTag, { value: 'Module' });\n\n    var instantiatePromise = Promise.resolve()\n    .then(function () {\n      return loader.instantiate(id, firstParentUrl);\n    })\n    .then(function (registration) {\n      if (!registration)\n        throw Error(errMsg(2,  id ));\n      function _export (name, value) {\n        // note if we have hoisted exports (including reexports)\n        load.h = true;\n        var changed = false;\n        if (typeof name === 'string') {\n          if (!(name in ns) || ns[name] !== value) {\n            ns[name] = value;\n            changed = true;\n          }\n        }\n        else {\n          for (var p in name) {\n            var value = name[p];\n            if (!(p in ns) || ns[p] !== value) {\n              ns[p] = value;\n              changed = true;\n            }\n          }\n\n          if (name && name.__esModule) {\n            ns.__esModule = name.__esModule;\n          }\n        }\n        if (changed)\n          for (var i = 0; i < importerSetters.length; i++) {\n            var setter = importerSetters[i];\n            if (setter) setter(ns);\n          }\n        return value;\n      }\n      var declared = registration[1](_export, registration[1].length === 2 ? {\n        import: function (importId) {\n          return loader.import(importId, id);\n        },\n        meta: loader.createContext(id)\n      } : undefined);\n      load.e = declared.execute || function () {};\n      return [registration[0], declared.setters || []];\n    }, function (err) {\n      load.e = null;\n      load.er = err;\n      throw err;\n    });\n\n    var linkPromise = instantiatePromise\n    .then(function (instantiation) {\n      return Promise.all(instantiation[0].map(function (dep, i) {\n        var setter = instantiation[1][i];\n        return Promise.resolve(loader.resolve(dep, id))\n        .then(function (depId) {\n          var depLoad = getOrCreateLoad(loader, depId, id);\n          // depLoad.I may be undefined for already-evaluated\n          return Promise.resolve(depLoad.I)\n          .then(function () {\n            if (setter) {\n              depLoad.i.push(setter);\n              // only run early setters when there are hoisted exports of that module\n              // the timing works here as pending hoisted export calls will trigger through importerSetters\n              if (depLoad.h || !depLoad.I)\n                setter(depLoad.n);\n            }\n            return depLoad;\n          });\n        });\n      }))\n      .then(function (depLoads) {\n        load.d = depLoads;\n      });\n    });\n\n    // Capital letter = a promise function\n    return load = loader[REGISTRY][id] = {\n      id: id,\n      // importerSetters, the setters functions registered to this dependency\n      // we retain this to add more later\n      i: importerSetters,\n      // module namespace object\n      n: ns,\n\n      // instantiate\n      I: instantiatePromise,\n      // link\n      L: linkPromise,\n      // whether it has hoisted exports\n      h: false,\n\n      // On instantiate completion we have populated:\n      // dependency load records\n      d: undefined,\n      // execution function\n      e: undefined,\n\n      // On execution we have populated:\n      // the execution error if any\n      er: undefined,\n      // in the case of TLA, the execution promise\n      E: undefined,\n\n      // On execution, L, I, E cleared\n\n      // Promise for top-level completion\n      C: undefined,\n\n      // parent instantiator / executor\n      p: undefined\n    };\n  }\n\n  function instantiateAll (loader, load, parent, loaded) {\n    if (!loaded[load.id]) {\n      loaded[load.id] = true;\n      // load.L may be undefined for already-instantiated\n      return Promise.resolve(load.L)\n      .then(function () {\n        if (!load.p || load.p.e === null)\n          load.p = parent;\n        return Promise.all(load.d.map(function (dep) {\n          return instantiateAll(loader, dep, parent, loaded);\n        }));\n      })\n      .catch(function (err) {\n        if (load.er)\n          throw err;\n        load.e = null;\n        throw err;\n      });\n    }\n  }\n\n  function topLevelLoad (loader, load) {\n    return load.C = instantiateAll(loader, load, load, {})\n    .then(function () {\n      return postOrderExec(loader, load, {});\n    })\n    .then(function () {\n      return load.n;\n    });\n  }\n\n  // the closest we can get to call(undefined)\n  var nullContext = Object.freeze(Object.create(null));\n\n  // returns a promise if and only if a top-level await subgraph\n  // throws on sync errors\n  function postOrderExec (loader, load, seen) {\n    if (seen[load.id])\n      return;\n    seen[load.id] = true;\n\n    if (!load.e) {\n      if (load.er)\n        throw load.er;\n      if (load.E)\n        return load.E;\n      return;\n    }\n\n    // deps execute first, unless circular\n    var depLoadPromises;\n    load.d.forEach(function (depLoad) {\n      try {\n        var depLoadPromise = postOrderExec(loader, depLoad, seen);\n        if (depLoadPromise)\n          (depLoadPromises = depLoadPromises || []).push(depLoadPromise);\n      }\n      catch (err) {\n        load.e = null;\n        load.er = err;\n        throw err;\n      }\n    });\n    if (depLoadPromises)\n      return Promise.all(depLoadPromises).then(doExec);\n\n    return doExec();\n\n    function doExec () {\n      try {\n        var execPromise = load.e.call(nullContext);\n        if (execPromise) {\n          execPromise = execPromise.then(function () {\n            load.C = load.n;\n            load.E = null; // indicates completion\n            if (!true) ;\n          }, function (err) {\n            load.er = err;\n            load.E = null;\n            if (!true) ;\n            throw err;\n          });\n          return load.E = execPromise;\n        }\n        // (should be a promise, but a minify optimization to leave out Promise.resolve)\n        load.C = load.n;\n        load.L = load.I = undefined;\n      }\n      catch (err) {\n        load.er = err;\n        throw err;\n      }\n      finally {\n        load.e = null;\n      }\n    }\n  }\n\n  envGlobal.System = new SystemJS();\n\n  /*\n   * SystemJS browser attachments for script and import map processing\n   */\n\n  var importMapPromise = Promise.resolve();\n  var importMap = { imports: {}, scopes: {}, depcache: {}, integrity: {} };\n  systemJSPrototype.importMap = importMap;\n  systemJSPrototype.baseUrl = baseUrl;\n\n  // Scripts are processed immediately, on the first System.import, and on DOMReady.\n  // Import map scripts are processed only once (by being marked) and in order for each phase.\n  // This is to avoid using DOM mutation observers in core, although that would be an alternative.\n  var processFirst = hasDocument;\n  systemJSPrototype.prepareImport = function (doProcessScripts) {\n    if (processFirst || doProcessScripts) {\n      processScripts();\n      processFirst = false;\n    }\n    return importMapPromise;\n  };\n  if (hasDocument) {\n    processScripts();\n    window.addEventListener('DOMContentLoaded', processScripts);\n  }\n\n  function processScripts () {\n    [].forEach.call(document.querySelectorAll('script'), function (script) {\n      if (script.sp) // sp marker = systemjs processed\n        return;\n      // TODO: deprecate systemjs-module in next major now that we have auto import\n      if (script.type === 'systemjs-module') {\n        script.sp = true;\n        if (!script.src)\n          return;\n        System.import(script.src.slice(0, 7) === 'import:' ? script.src.slice(7) : resolveUrl(script.src, baseUrl)).catch(function (e) {\n          // if there is a script load error, dispatch an \"error\" event\n          // on the script tag.\n          if (e.message.indexOf('https://git.io/JvFET#3') > -1) {\n            var event = document.createEvent('Event');\n            event.initEvent('error', false, false);\n            script.dispatchEvent(event);\n          }\n          return Promise.reject(e);\n        });\n      }\n      else if (script.type === 'systemjs-importmap') {\n        script.sp = true;\n        var fetchPromise = script.src ? fetch(script.src, { integrity: script.integrity }).then(function (res) {\n          if (!res.ok)\n            throw Error( res.status );\n          return res.text();\n        }).catch(function (err) {\n          err.message = errMsg('W4',  script.src ) + '\\n' + err.message;\n          console.warn(err);\n          if (typeof script.onerror === 'function') {\n              script.onerror();\n          }\n          return '{}';\n        }) : script.innerHTML;\n        importMapPromise = importMapPromise.then(function () {\n          return fetchPromise;\n        }).then(function (text) {\n          extendImportMap(importMap, text, script.src || baseUrl);\n          return importMap\n        });\n      }\n    });\n  }\n\n  function extendImportMap (importMap, newMapText, newMapUrl) {\n    var newMap = {};\n    try {\n      newMap = JSON.parse(newMapText);\n    } catch (err) {\n      console.warn(Error(( errMsg('W5')  )));\n    }\n    resolveAndComposeImportMap(newMap, newMapUrl, importMap);\n  }\n  System.extendImportMap = extendImportMap\n\n  /*\n   * Script instantiation loading\n   */\n\n  if (hasDocument) {\n    window.addEventListener('error', function (evt) {\n      lastWindowErrorUrl = evt.filename;\n      lastWindowError = evt.error;\n    });\n    var baseOrigin = location.origin;\n  }\n\n  systemJSPrototype.createScript = function (url) {\n    var script = document.createElement('script');\n    script.async = true;\n    // Only add cross origin for actual cross origin\n    // this is because Safari triggers for all\n    // - https://bugs.webkit.org/show_bug.cgi?id=171566\n    if (url.indexOf(baseOrigin + '/'))\n      script.crossOrigin = 'anonymous';\n    var integrity = importMap.integrity[url];\n    if (integrity)\n      script.integrity = integrity;\n    script.src = url;\n    return script;\n  };\n\n  // Auto imports -> script tags can be inlined directly for load phase\n  var lastAutoImportDeps, lastAutoImportTimeout;\n  var autoImportCandidates = {};\n  var systemRegister = systemJSPrototype.register;\n  var inlineScriptCount = 0;\n  systemJSPrototype.register = function (deps, declare, autoUrl) {\n    if (hasDocument && document.readyState === 'loading' && typeof deps !== 'string') {\n      var scripts = document.querySelectorAll('script[src]');\n      var lastScript = scripts[scripts.length - 1];\n      var lastAutoImportUrl\n      lastAutoImportDeps = deps;\n      if (lastScript && lastScript.src) {\n        lastAutoImportUrl = lastScript.src;\n      }\n      else if (autoUrl) {\n        lastAutoImportUrl = autoUrl\n      }\n      else {\n        inlineScriptCount++\n        lastAutoImportUrl = document.location.href + \"__inline_script__\" + inlineScriptCount;\n      }\n      // if this is already a System load, then the instantiate has already begun\n      // so this re-import has no consequence\n      var loader = this;\n      lastAutoImportTimeout = setTimeout(function () {\n        autoImportCandidates[lastAutoImportUrl] = [deps, declare];\n        loader.import(lastAutoImportUrl);\n      });\n    }\n    else {\n      lastAutoImportDeps = undefined;\n    }\n    return systemRegister.call(this, deps, declare);\n  };\n\n  var lastWindowErrorUrl, lastWindowError;\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\n    var autoImportRegistration = autoImportCandidates[url];\n    if (autoImportRegistration) {\n      delete autoImportCandidates[url];\n      return autoImportRegistration;\n    }\n    var loader = this;\n    return Promise.resolve(systemJSPrototype.createScript(url)).then(function (script) {\n      return new Promise(function (resolve, reject) {\n        script.addEventListener('error', function () {\n          reject(Error(errMsg(3,  [url, firstParentUrl].join(', ') )));\n        });\n        script.addEventListener('load', function () {\n          document.head.removeChild(script);\n          // Note that if an error occurs that isn't caught by this if statement,\n          // that getRegister will return null and a \"did not instantiate\" error will be thrown.\n          if (lastWindowErrorUrl === url) {\n            reject(lastWindowError);\n          }\n          else {\n            var register = loader.getRegister(url);\n            // Clear any auto import registration for dynamic import scripts during load\n            if (register && register[0] === lastAutoImportDeps)\n              clearTimeout(lastAutoImportTimeout);\n            resolve(register);\n          }\n        });\n        document.head.appendChild(script);\n      });\n    });\n  };\n\n  /*\n   * Fetch loader, sets up shouldFetch and fetch hooks\n   */\n  systemJSPrototype.shouldFetch = function () {\n    return false;\n  };\n  if (typeof fetch !== 'undefined')\n    systemJSPrototype.fetch = fetch;\n\n  var instantiate = systemJSPrototype.instantiate;\n  var jsContentTypeRegEx = /^(text|application)\\/(x-)?javascript(;|$)/;\n  systemJSPrototype.instantiate = function (url, parent) {\n    var loader = this;\n    if (!this.shouldFetch(url))\n      return instantiate.apply(this, arguments);\n    return this.fetch(url, {\n      credentials: 'same-origin',\n      integrity: importMap.integrity[url]\n    })\n    .then(function (res) {\n      if (!res.ok)\n        throw Error(errMsg(7,  [res.status, res.statusText, url, parent].join(', ') ));\n      var contentType = res.headers.get('content-type');\n      if (!contentType || !jsContentTypeRegEx.test(contentType))\n        throw Error(errMsg(4,  contentType ));\n      return res.text().then(function (source) {\n        if (source.indexOf('//# sourceURL=') < 0)\n          source += '\\n//# sourceURL=' + url;\n        (0, eval)(source);\n        return loader.getRegister(url);\n      });\n    });\n  };\n\n  systemJSPrototype.resolve = function (id, parentUrl) {\n    parentUrl = parentUrl || !true  || baseUrl;\n    return resolveImportMap(( importMap), resolveIfNotPlainOrUrl(id, parentUrl) || id, parentUrl) || throwUnresolved(id, parentUrl);\n  };\n\n  function throwUnresolved (id, parentUrl) {\n    throw Error(errMsg(8,  [id, parentUrl].join(', ') ));\n  }\n\n  var systemInstantiate = systemJSPrototype.instantiate;\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\n    var preloads = ( importMap).depcache[url];\n    if (preloads) {\n      for (var i = 0; i < preloads.length; i++)\n        getOrCreateLoad(this, this.resolve(preloads[i], url), url);\n    }\n    return systemInstantiate.call(this, url, firstParentUrl);\n  };\n\n  /*\n   * Supports loading System.register in workers\n   */\n\n  if (hasSelf && typeof importScripts === 'function') {\n    systemJSPrototype.instantiate = function (url) {\n      var loader = this;\n      return self.fetch(url, {\n        credentials: 'same-origin',\n      }).then(function (response) {\n        if (!response.ok) {\n          throw Error(errMsg(7,  [response.status, response.statusText, url].join(', ') ));\n        }\n        return response.text()\n      }).then(function (source) {\n        if (source.indexOf('//# sourceURL=') < 0) source += '\\n//# sourceURL=' + url;\n        (0, eval)(source);\n        return loader.getRegister(url);\n      })\n    };\n  }\n\n}());\n\n(function(){\n  var envGlobal = typeof self !== 'undefined' ? self : global;\n  var System = envGlobal.System;\n\n  var registerRegistry = Object.create(null)\n  var register = System.register;\n  System.registerRegistry = registerRegistry;\n  System.register = function (name, deps, declare) {\n    if (typeof name !== 'string') return register.apply(this, arguments);\n    var define = [deps, declare];\n    return System.prepareImport().then(function () {\n      var url = System.resolve(`./${name}`);\n      registerRegistry[url] = define;\n      return register.call(System, deps, declare, url);\n    })\n  };\n\n  var instantiate = System.instantiate;\n  System.instantiate = function (url, firstParentUrl) {\n    var result = registerRegistry[url];\n\n    if (result) {\n      registerRegistry[url] = null;\n      return result;\n    } else {\n      return instantiate.call(this, url, firstParentUrl);\n    }\n  };\n\n  var getRegister = System.getRegister;\n  System.getRegister = function (url) {\n    // Calling getRegister() because other extras need to know it was called so they can perform side effects\n    var register = getRegister.call(this, url);\n    var result = registerRegistry[url] || register;\n    return result;\n  };\n}());\n\n(function () {\n  // worker or service worker\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {\n    var importMapFromParentPromise = new Promise((resolve) => {\n      var importmapMessageCallback = function (e) {\n        if (e.data === \"__importmap_init__\") {\n          self.removeEventListener(\"message\", importmapMessageCallback)\n          e.ports[0].onmessage = (message) => {\n            resolve(message.data)\n          }\n          e.ports[0].postMessage('__importmap_request__')         \n        }\n      };\n      self.addEventListener(\"message\", importmapMessageCallback)\n    })\n    // var prepareImport = System.prepareImport\n    System.prepareImport = function () {\n      return importMapFromParentPromise.then(function (importmap) {\n        System.extendImportMap(System.importMap, JSON.stringify(importmap), System.baseUrl)\n      })\n    }\n\n    // auto import first register\n    var messageEvents = []\n    var messageCallback = (event) => {\n      messageEvents.push(event)\n    }\n    self.addEventListener('message', messageCallback)\n    var register = System.register;\n    System.register = function(deps, declare) {\n      System.register = register;\n      System.registerRegistry[self.location.href] = [deps, declare];\n      System.import(self.location.href).then(() => {\n        self.removeEventListener('message', messageCallback)\n        messageEvents.forEach((messageEvent) => {\n          self.dispatchEvent(messageEvent)\n        })\n        messageEvents = null\n      })\n    }\n  }\n  else if (typeof window === 'object') {\n    var WorkerConstructor = window.Worker;\n    if (typeof WorkerConstructor === 'function') {\n      window.Worker = function (url, options) {\n        var worker = new WorkerConstructor(url, options);\n        var importmapChannel = new MessageChannel();\n        importmapChannel.port1.onmessage = function (message) {\n          System.prepareImport().then(function (importmap) {\n            message.target.postMessage(importmap);\n          });\n        }\n        worker.postMessage('__importmap_init__', [importmapChannel.port2]);\n        return worker\n      }\n    }\n\n    var serviceWorker = navigator.serviceWorker;\n    if (serviceWorker) {\n      var register =  serviceWorker.register;\n      serviceWorker.register = function(url, options) {\n        var registrationPromise = register.call(this, url, options);\n        registrationPromise.then(function(registration) {\n          var installing = registration.installing;\n          var waiting = registration.waiting;\n          var active = registration.active;\n          var worker = installing || waiting || active;\n          var importmapChannel = new MessageChannel();\n          importmapChannel.port1.onmessage = function (message) {\n            System.prepareImport().then(function (importmap) {\n              message.target.postMessage(importmap)\n            });\n          }\n          worker.postMessage('__importmap_init__', [importmapChannel.port2]);\n        })\n        return registrationPromise\n      }\n    }\n  }\n}());",
    "/* eslint-env browser */\n\nimport { getJavaScriptModuleResponseError } from \"../runtime/module-registration.js\"\nimport \"../runtime/s.js\"\n\nexport const createBrowserSystem = ({\n  compileServerOrigin,\n  compileDirectoryRelativeUrl,\n  importResolver,\n  fetchSource,\n}) => {\n  if (typeof window.System === \"undefined\") {\n    throw new Error(`window.System is undefined`)\n  }\n\n  const browserSystem = window.System\n\n  const resolve = (specifier, importer = document.location.href) => {\n    return importResolver.resolveImport(specifier, importer)\n  }\n\n  browserSystem.resolve = resolve\n\n  const instantiate = browserSystem.instantiate\n  browserSystem.instantiate = async function (url, importerUrl) {\n    const { importType, urlWithoutImportType } = extractImportTypeFromUrl(url)\n    if (importType === \"json\") {\n      const jsonModule = await instantiateAsJsonModule(urlWithoutImportType, {\n        browserSystem,\n        fetchSource,\n      })\n      return jsonModule\n    }\n\n    if (importType === \"css\") {\n      const cssModule = await instantiateAsCssModule(urlWithoutImportType, {\n        browserSystem,\n        importerUrl,\n        compileDirectoryRelativeUrl,\n        fetchSource,\n      })\n      return cssModule\n    }\n\n    try {\n      const registration = await instantiate.call(this, url, importerUrl)\n      if (!registration) {\n        throw new Error(\n          `no registration found for JS at ${url}\n--- importer url ---\n${importerUrl}\n--- navigator.vendor ---\n${window.navigator.vendor}`,\n        )\n      }\n      return registration\n    } catch (e) {\n      const jsenvError = await createDetailedInstantiateError({\n        instantiateError: e,\n        url,\n        importerUrl,\n        compileServerOrigin,\n        compileDirectoryRelativeUrl,\n        fetchSource,\n      })\n      throw jsenvError\n    }\n  }\n\n  browserSystem.createContext = (importerUrl) => {\n    return {\n      url: importerUrl,\n      resolve: (specifier) => resolve(specifier, importerUrl),\n    }\n  }\n\n  return browserSystem\n}\n\nconst extractImportTypeFromUrl = (url) => {\n  const urlObject = new URL(url)\n  const { search } = urlObject\n  const searchParams = new URLSearchParams(search)\n\n  const importType = searchParams.get(\"import_type\")\n  if (!importType) {\n    return {}\n  }\n\n  searchParams.delete(\"import_type\")\n  urlObject.search = String(searchParams)\n  return {\n    importType,\n    urlWithoutImportType: urlObject.href,\n  }\n}\n\nconst instantiateAsJsonModule = async (url, { browserSystem, fetchSource }) => {\n  const response = await fetchSource(url, {\n    contentTypeExpected: \"application/json\",\n  })\n  const json = await response.json()\n  browserSystem.register([], (_export) => {\n    return {\n      execute: () => {\n        _export(\"default\", json)\n      },\n    }\n  })\n  const registration = browserSystem.getRegister(url)\n  if (!registration) {\n    throw new Error(\n      `no registration found for JSON at ${url}. Navigator.vendor: ${window.navigator.vendor}. JSON text: ${json}`,\n    )\n  }\n  return registration\n}\n\nconst instantiateAsCssModule = async (\n  url,\n  { importerUrl, compileDirectoryRelativeUrl, browserSystem, fetchSource },\n) => {\n  const response = await fetchSource(url, {\n    contentTypeExpected: \"text/css\",\n  })\n\n  // There is a logic inside \"toolbar.eventsource.js\" which is reloading\n  // all link rel=\"stylesheet\" when file ending with \".css\" are modified\n  // But here it would not work because we have to replace the css in\n  // the adopted stylsheet + all module importing this css module\n  // should be reinstantiated\n  // -> store a livereload callback forcing whole page reload\n  const compileDirectoryServerUrl = `${window.location.origin}/${compileDirectoryRelativeUrl}`\n  const originalFileRelativeUrl = response.url.slice(\n    compileDirectoryServerUrl.length,\n  )\n  window.__jsenv__.livereloadingCallbacks[originalFileRelativeUrl] = ({\n    reloadPage,\n  }) => {\n    reloadPage()\n  }\n\n  const cssText = await response.text()\n  const cssTextWithBaseUrl = cssWithBaseUrl({\n    cssText,\n    cssUrl: url,\n    baseUrl: importerUrl,\n  })\n\n  browserSystem.register([], (_export) => {\n    return {\n      execute: () => {\n        const sheet = new CSSStyleSheet()\n        sheet.replaceSync(cssTextWithBaseUrl)\n        _export(\"default\", sheet)\n      },\n    }\n  })\n  const registration = browserSystem.getRegister(url)\n  if (!registration) {\n    throw new Error(\n      `no registration found for CSS at ${url}. Navigator.vendor: ${window.navigator.vendor}. CSS text: ${cssTextWithBaseUrl}`,\n    )\n  }\n  return registration\n}\n\n// CSSStyleSheet accepts a \"baseUrl\" parameter\n// as documented in https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet/CSSStyleSheet#parameters\n// Unfortunately the polyfill do not seems to implement it\n// So we reuse \"systemjs\" strategy from https://github.com/systemjs/systemjs/blob/98609dbeef01ec62447e4b21449ce47e55f818bd/src/extras/module-types.js#L37\nconst cssWithBaseUrl = ({ cssUrl, cssText, baseUrl }) => {\n  const cssDirectoryUrl = new URL(\"./\", cssUrl).href\n  const baseDirectoryUrl = new URL(\"./\", baseUrl).href\n  if (cssDirectoryUrl === baseDirectoryUrl) {\n    return cssText\n  }\n\n  const cssTextRelocated = cssText.replace(\n    /url\\(\\s*(?:([\"'])((?:\\\\.|[^\\n\\\\\"'])+)\\1|((?:\\\\.|[^\\s,\"'()\\\\])+))\\s*\\)/g,\n    (match, quotes, relUrl1, relUrl2) => {\n      const absoluteUrl = new URL(relUrl1 || relUrl2, cssUrl).href\n      return `url(${quotes}${absoluteUrl}${quotes})`\n    },\n  )\n  return cssTextRelocated\n}\n\nconst createDetailedInstantiateError = async ({\n  instantiateError,\n  url,\n  importerUrl,\n  compileServerOrigin,\n  compileDirectoryRelativeUrl,\n  fetchSource,\n}) => {\n  let response\n  try {\n    response = await fetchSource(url, {\n      importerUrl,\n      contentTypeExpected: \"application/javascript\",\n    })\n  } catch (e) {\n    e.code = \"NETWORK_FAILURE\"\n    return e\n  }\n\n  const jsModuleResponseError = await getJavaScriptModuleResponseError(\n    response,\n    {\n      url,\n      importerUrl,\n      compileServerOrigin,\n      compileDirectoryRelativeUrl,\n    },\n  )\n  return jsModuleResponseError || instantiateError\n}\n",
    "export const makeNamespaceTransferable = (namespace) => {\n  const transferableNamespace = {}\n  Object.keys(namespace).forEach((key) => {\n    const value = namespace[key]\n    transferableNamespace[key] = isTransferable(value)\n      ? value\n      : hideNonTransferableValue(value)\n  })\n  return transferableNamespace\n}\n\nconst hideNonTransferableValue = (value) => {\n  if (typeof value === \"function\") {\n    return `[[HIDDEN: ${value.name} function cannot be transfered]]`\n  }\n\n  if (typeof value === \"symbol\") {\n    return `[[HIDDEN: symbol function cannot be transfered]]`\n  }\n\n  return `[[HIDDEN: ${\n    value.constructor ? value.constructor.name : \"object\"\n  } cannot be transfered]]`\n}\n\n// https://stackoverflow.com/a/32673910/2634179\nconst isTransferable = (value) => {\n  const seenArray = []\n  const visit = () => {\n    if (typeof value === \"function\") return false\n\n    if (typeof value === \"symbol\") return false\n\n    if (value === null) return false\n\n    if (typeof value === \"object\") {\n      const constructorName = value.constructor.namespace\n\n      if (supportedTypes.includes(constructorName)) {\n        return true\n      }\n\n      const maybe = maybeTypes.includes(constructorName)\n      if (maybe) {\n        const visited = seenArray.includes(value)\n        if (visited) {\n          // we don't really know until we are done visiting the object\n          // implementing it properly means waiting for the recursion to be done\n          // let's just\n          return true\n        }\n        seenArray.push(value)\n\n        if (constructorName === \"Array\" || constructorName === \"Object\") {\n          return Object.keys(value).every((key) => isTransferable(value[key]))\n        }\n        if (constructorName === \"Map\") {\n          return (\n            [...value.keys()].every(isTransferable) &&\n            [...value.values()].every(isTransferable)\n          )\n        }\n        if (constructorName === \"Set\") {\n          return [...value.keys()].every(isTransferable)\n        }\n      }\n\n      // Error, DOM Node and others\n      return false\n    }\n    return true\n  }\n\n  return visit(value)\n}\n\nconst supportedTypes = [\n  \"Boolean\",\n  \"Number\",\n  \"String\",\n  \"Date\",\n  \"RegExp\",\n  \"Blob\",\n  \"FileList\",\n  \"ImageData\",\n  \"ImageBitmap\",\n  \"ArrayBuffer\",\n]\n\nconst maybeTypes = [\"Array\", \"Object\", \"Map\", \"Set\"]\n",
    "/* eslint-env browser */\n\nimport { normalizeImportMap } from \"@jsenv/importmap/src/normalizeImportMap.js\"\n\n// do not use memoize from @jsenv/filesystem to avoid pulling @jsenv/filesystem code into the browser build\nimport { fetchUrl } from \"../browser_utils/fetch-browser.js\"\nimport { createImportResolverForImportmap } from \"../import-resolution/import-resolver-importmap.js\"\nimport { memoize } from \"../memoize.js\"\nimport { measureAsyncFnPerf } from \"../perf_browser.js\"\n\nimport { createBrowserSystem } from \"./browser_system.js\"\nimport { makeNamespaceTransferable } from \"./makeNamespaceTransferable.js\"\n\nconst memoizedCreateBrowserSystem = memoize(createBrowserSystem)\n\nexport const createBrowserRuntime = async ({\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n  compileId,\n}) => {\n  const fetchSource = (url, { contentTypeExpected }) => {\n    return fetchUrl(url, {\n      credentials: \"same-origin\",\n      contentTypeExpected,\n    })\n  }\n\n  const fetchJson = async (url) => {\n    const response = await fetchSource(url, {\n      contentTypeExpected: \"application/json\",\n    })\n    const json = await response.json()\n    return json\n  }\n\n  const outDirectoryUrl = `${compileServerOrigin}/${outDirectoryRelativeUrl}`\n  const envUrl = String(new URL(\"env.json\", outDirectoryUrl))\n  const { importDefaultExtension } = await fetchJson(envUrl)\n  const compileDirectoryRelativeUrl = `${outDirectoryRelativeUrl}${compileId}/`\n  // if there is an importmap in the document we use it instead of fetching.\n  // systemjs style with systemjs-importmap\n  const importmapScript = document.querySelector(\n    `script[type=\"systemjs-importmap\"]`,\n  )\n  let importMap\n  let importMapUrl\n  if (importmapScript) {\n    let importmapRaw\n    if (importmapScript.src) {\n      importMapUrl = importmapScript.src\n      const importmapFileResponse = await fetchSource(importMapUrl, {\n        contentTypeExpected: \"application/importmap+json\",\n      })\n      importmapRaw =\n        importmapFileResponse.status === 404\n          ? {}\n          : await importmapFileResponse.json()\n    } else {\n      importMapUrl = document.location.href\n      importmapRaw = JSON.parse(importmapScript.textContent) || {}\n    }\n    importMap = normalizeImportMap(importmapRaw, importMapUrl)\n  }\n\n  const importResolver = await createImportResolverForImportmap({\n    // projectDirectoryUrl,\n    compileServerOrigin,\n    compileDirectoryRelativeUrl,\n    importMap,\n    importMapUrl,\n    importDefaultExtension,\n  })\n\n  const importFile = async (specifier) => {\n    const browserSystem = await memoizedCreateBrowserSystem({\n      compileServerOrigin,\n      compileDirectoryRelativeUrl,\n      fetchSource,\n      importResolver,\n    })\n    return browserSystem.import(specifier)\n  }\n\n  const executeFile = async (\n    specifier,\n    {\n      transferableNamespace = false,\n      executionExposureOnWindow = false,\n      errorTransform = (error) => error,\n      measurePerformance,\n    } = {},\n  ) => {\n    const browserSystem = await memoizedCreateBrowserSystem({\n      compileServerOrigin,\n      compileDirectoryRelativeUrl,\n      fetchSource,\n      importResolver,\n    })\n\n    const importUsingSystemJs = async () => {\n      try {\n        let namespace = await browserSystem.import(specifier)\n\n        if (transferableNamespace) {\n          namespace = makeNamespaceTransferable(namespace)\n        }\n\n        return {\n          status: \"completed\",\n          namespace,\n          coverage: readCoverage(),\n        }\n      } catch (error) {\n        let transformedError\n        try {\n          transformedError = await errorTransform(error)\n        } catch (e) {\n          transformedError = error\n        }\n\n        return {\n          status: \"errored\",\n          error: transformedError,\n          coverage: readCoverage(),\n        }\n      }\n    }\n\n    const executionResult = await (measurePerformance\n      ? measureAsyncFnPerf(importUsingSystemJs, `jsenv_file_import`)\n      : importUsingSystemJs())\n    if (executionExposureOnWindow) {\n      window.__executionResult__ = executionResult\n    }\n    return executionResult\n  }\n\n  return {\n    compileDirectoryRelativeUrl,\n    importFile,\n    executeFile,\n  }\n}\n\nconst readCoverage = () => window.__coverage__\n",
    "/* eslint-env browser */\n\nimport { installBrowserErrorStackRemapping } from \"../error-stack-remapping/installBrowserErrorStackRemapping.js\"\nimport { fetchUrl } from \"../browser_utils/fetch-browser.js\"\nimport { fetchAndEvalUsingFetch } from \"../browser_utils/fetchAndEvalUsingFetch.js\"\nimport { unevalException } from \"../unevalException.js\"\nimport { memoize } from \"../memoize.js\"\n\nimport { displayErrorInDocument } from \"./displayErrorInDocument.js\"\nimport { displayErrorNotification } from \"./displayErrorNotification.js\"\nimport { createBrowserRuntime } from \"./createBrowserRuntime.js\"\n\nconst getNavigationStartTime = () => {\n  try {\n    return window.performance.timing.navigationStart\n  } catch (e) {\n    return Date.now()\n  }\n}\n\nconst navigationStartTime = getNavigationStartTime()\n\nconst readyPromise = new Promise((resolve) => {\n  if (document.readyState === \"complete\") {\n    resolve()\n  } else {\n    const loadCallback = () => {\n      window.removeEventListener(\"load\", loadCallback)\n      resolve()\n    }\n    window.addEventListener(\"load\", loadCallback)\n  }\n})\n\nconst fileExecutionMap = {}\n\nconst executionResultPromise = readyPromise.then(async () => {\n  const fileExecutionResultMap = {}\n  const fileExecutionResultPromises = []\n  let status = \"completed\"\n  let exceptionSource = \"\"\n  Object.keys(fileExecutionMap).forEach((key) => {\n    fileExecutionResultMap[key] = null // to get always same order for Object.keys(executionResult)\n    const fileExecutionResultPromise = fileExecutionMap[key]\n    fileExecutionResultPromises.push(fileExecutionResultPromise)\n    fileExecutionResultPromise.then((fileExecutionResult) => {\n      fileExecutionResultMap[key] = fileExecutionResult\n      if (fileExecutionResult.status === \"errored\") {\n        status = \"errored\"\n        exceptionSource = fileExecutionResult.exceptionSource\n      }\n    })\n  })\n  await Promise.all(fileExecutionResultPromises)\n\n  return {\n    status,\n    ...(status === \"errored\" ? { exceptionSource } : {}),\n    startTime: navigationStartTime,\n    endTime: Date.now(),\n    fileExecutionResultMap,\n  }\n})\n\nconst executeFileUsingDynamicImport = async (\n  specifier,\n  identifier = specifier,\n) => {\n  const { currentScript } = document\n  const fileExecutionResultPromise = (async () => {\n    try {\n      const url = new URL(specifier, document.location.href).href\n      performance.mark(`jsenv_file_import_start`)\n      const namespace = await import(url)\n      performance.measure(`jsenv_file_import`, `jsenv_file_import_start`)\n      const executionResult = {\n        status: \"completed\",\n        namespace,\n        coverage: readCoverage(),\n      }\n      return executionResult\n    } catch (e) {\n      performance.measure(`jsenv_file_import`, `jsenv_file_import_start`)\n      const executionResult = {\n        status: \"errored\",\n        error: e,\n        coverage: readCoverage(),\n      }\n      onExecutionError(executionResult, { currentScript })\n      return executionResult\n    }\n  })()\n  fileExecutionMap[identifier] = fileExecutionResultPromise\n  return fileExecutionResultPromise\n}\n\nconst executeFileUsingSystemJs = (specifier) => {\n  // si on a déja importer ce fichier ??\n  // if (specifier in fileExecutionMap) {\n\n  // }\n\n  const { currentScript } = document\n\n  const fileExecutionResultPromise = (async () => {\n    const browserRuntime = await getBrowserRuntime()\n    const executionResult = await browserRuntime.executeFile(specifier, {\n      measurePerformance: true,\n      collectPerformance: true,\n    })\n    if (executionResult.status === \"errored\") {\n      onExecutionError(executionResult, { currentScript })\n    }\n    return executionResult\n  })()\n  fileExecutionMap[specifier] = fileExecutionResultPromise\n  return fileExecutionResultPromise\n}\n\nconst onExecutionError = (\n  executionResult,\n  {\n    currentScript,\n    errorExposureInConsole = true,\n    errorExposureInNotification = false,\n    errorExposureInDocument = true,\n  },\n) => {\n  const error = executionResult.error\n  if (error && error.code === \"NETWORK_FAILURE\") {\n    if (currentScript) {\n      const errorEvent = new Event(\"error\")\n      currentScript.dispatchEvent(errorEvent)\n    }\n  } else if (typeof error === \"object\") {\n    const { parsingError } = error\n    const globalErrorEvent = new Event(\"error\")\n    if (parsingError) {\n      globalErrorEvent.filename = parsingError.filename\n      globalErrorEvent.lineno = parsingError.lineNumber\n      globalErrorEvent.message = parsingError.message\n      globalErrorEvent.colno = parsingError.columnNumber\n    } else {\n      globalErrorEvent.filename = error.filename\n      globalErrorEvent.lineno = error.lineno\n      globalErrorEvent.message = error.message\n      globalErrorEvent.colno = error.columnno\n    }\n    window.dispatchEvent(globalErrorEvent)\n  }\n\n  if (errorExposureInConsole) {\n    console.error(error)\n  }\n  if (errorExposureInNotification) {\n    displayErrorNotification(error)\n  }\n  if (errorExposureInDocument) {\n    displayErrorInDocument(error)\n  }\n\n  executionResult.exceptionSource = unevalException(error)\n  delete executionResult.error\n}\n\nconst getBrowserRuntime = memoize(async () => {\n  const compileServerOrigin = document.location.origin\n  const compileMetaResponse = await fetchUrl(\n    `${compileServerOrigin}/.jsenv/__compile_server_meta__.json`,\n  )\n  const compileMeta = await compileMetaResponse.json()\n  const { outDirectoryRelativeUrl, errorStackRemapping } = compileMeta\n  const outDirectoryUrl = `${compileServerOrigin}/${outDirectoryRelativeUrl}`\n  const afterOutDirectory = document.location.href.slice(outDirectoryUrl.length)\n  const parts = afterOutDirectory.split(\"/\")\n  const compileId = parts[0]\n\n  const browserRuntime = await createBrowserRuntime({\n    compileServerOrigin,\n    outDirectoryRelativeUrl,\n    compileId,\n  })\n\n  if (errorStackRemapping && Error.captureStackTrace) {\n    const { sourcemapMainFileRelativeUrl, sourcemapMappingFileRelativeUrl } =\n      compileMeta\n\n    await fetchAndEvalUsingFetch(\n      `${compileServerOrigin}/${sourcemapMainFileRelativeUrl}`,\n    )\n    const { SourceMapConsumer } = window.sourceMap\n    SourceMapConsumer.initialize({\n      \"lib/mappings.wasm\": `${compileServerOrigin}/${sourcemapMappingFileRelativeUrl}`,\n    })\n    const { getErrorOriginalStackString } = installBrowserErrorStackRemapping({\n      SourceMapConsumer,\n    })\n\n    const errorTransform = async (error) => {\n      // code can throw something else than an error\n      // in that case return it unchanged\n      if (!error || !(error instanceof Error)) return error\n      const originalStack = await getErrorOriginalStackString(error)\n      error.stack = originalStack\n      return error\n    }\n\n    const executeFile = browserRuntime.executeFile\n    browserRuntime.executeFile = (file, options = {}) => {\n      return executeFile(file, { errorTransform, ...options })\n    }\n  }\n\n  return browserRuntime\n})\n\nconst livereloadingCallbacks = {}\n\nconst readCoverage = () => window.__coverage__\n\nwindow.__jsenv__ = {\n  livereloadingCallbacks,\n  executionResultPromise,\n  executeFileUsingDynamicImport,\n  executeFileUsingSystemJs,\n}\n"
  ],
  "names": [
    "nativeTypeOf",
    "obj",
    "customTypeOf",
    "Symbol",
    "constructor",
    "prototype",
    "iterator",
    "key",
    "value",
    "Object",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "ownKeys",
    "object",
    "enumerableOnly",
    "keys",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "getOwnPropertyDescriptor",
    "push",
    "apply",
    "_objectSpread2",
    "target",
    "i",
    "arguments",
    "length",
    "source",
    "forEach",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "arrayLikeToArray",
    "arr",
    "len",
    "arr2",
    "Array",
    "isArray",
    "_iterableToArray",
    "iter",
    "from",
    "unsupportedIterableToArray",
    "o",
    "minLen",
    "n",
    "toString",
    "call",
    "slice",
    "name",
    "test",
    "TypeError",
    "arrayWithoutHoles",
    "iterableToArray",
    "nonIterableSpread",
    "createDetailedMessage",
    "message",
    "details",
    "string",
    "join",
    "stackToString",
    "stack",
    "error",
    "indent",
    "stackString",
    "map",
    "callSite",
    "parseDataUrl",
    "dataUrl",
    "afterDataProtocol",
    "commaIndex",
    "indexOf",
    "beforeComma",
    "mediaType",
    "base64Flag",
    "endsWith",
    "afterComma",
    "data",
    "dataUrlToRawData",
    "base64ToString",
    "window",
    "atob",
    "Buffer",
    "btoa",
    "base64String",
    "getJavaScriptSourceMappingUrl",
    "javaScriptSource",
    "sourceMappingUrl",
    "replaceSourceMappingUrl",
    "javascriptSourceMappingUrlCommentRegexp",
    "regexp",
    "callback",
    "lastSourceMappingUrl",
    "matchSourceMappingUrl",
    "exec",
    "index",
    "before",
    "after",
    "mappedAfter",
    "replace",
    "match",
    "firstGroup",
    "startsWithWindowsDriveLetter",
    "firstChar",
    "secondChar",
    "windowsFilePathToUrl",
    "windowsFilePath",
    "replaceBackSlashesWithSlashes",
    "then",
    "direct",
    "Promise",
    "resolve",
    "body",
    "result",
    "f",
    "args",
    "e",
    "reject",
    "remapCallSite",
    "urlToSourcemapConsumer",
    "resolveFile",
    "readErrorStack",
    "onFailure",
    "isNative",
    "getFileName",
    "getScriptNameOrSourceURL",
    "line",
    "getLineNumber",
    "column",
    "getColumnNumber",
    "remapSourcePosition",
    "originalPosition",
    "callSiteClone",
    "cloneCallSite",
    "getFunctionName",
    "isEval",
    "origin",
    "getEvalOrigin",
    "remapEvalOrigin",
    "originalEvalOrigin",
    "methods",
    "callSiteToFunctionCall",
    "fileLocation",
    "callSiteToFileLocation",
    "isConstructor",
    "isMethodCall",
    "isToplevel",
    "callSiteToMethodCall",
    "functionName",
    "typeName",
    "callSiteToType",
    "methodName",
    "getMethodName",
    "as",
    "generateAs",
    "startsWith",
    "getTypeName",
    "sourceFile",
    "callSiteToSourceFile",
    "lineNumber",
    "columnNumber",
    "fileName",
    "topLevelEvalMatch",
    "Number",
    "nestedEvalMatch",
    "position",
    "url",
    "sourceToUrl",
    "sourceMapConsumer",
    "originalPositionFor",
    "originalSource",
    "type",
    "startsWithScheme",
    "recover",
    "getOriginalCallsites",
    "fetchFile",
    "SourceMapConsumer",
    "memoizeByFirstArgStringValue",
    "stackTraceFileUrl",
    "text",
    "fileResponse",
    "status",
    "jsSourcemapUrl",
    "sourcemapUrl",
    "sourcemapString",
    "sourcemapResponse",
    "sourceMap",
    "JSON",
    "parse",
    "sourcesContent",
    "firstSourceMapSourceFailure",
    "all",
    "sources",
    "sourcemapSourceUrl",
    "sourceResponse",
    "sourceString",
    "fn",
    "stringValueCache",
    "firstArgValue",
    "installErrorStackRemapping",
    "errorRemappingCache",
    "WeakMap",
    "errorRemapFailureCallbackMap",
    "installed",
    "previousPrepareStackTrace",
    "Error",
    "prepareStackTrace",
    "install",
    "uninstall",
    "failureData",
    "failureCallbackArray",
    "get",
    "stackRemappingPromise",
    "memoizeFetch",
    "set",
    "getErrorOriginalStackString",
    "console",
    "warn",
    "remapFailureCallbackArray",
    "promise",
    "originalCallsites",
    "firstCall",
    "assign",
    "filename",
    "lineno",
    "columnno",
    "fetchUrl",
    "urlCache",
    "responsePromise",
    "installBrowserErrorStackRemapping",
    "options",
    "fetch",
    "mode",
    "response",
    "statusText",
    "headers",
    "responseToHeaders",
    "json",
    "bind",
    "blob",
    "arrayBuffer",
    "specifier",
    "importer",
    "location",
    "href",
    "String",
    "URL",
    "excluded",
    "sourceKeys",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "propertyIsEnumerable",
    "fetchUsingXHR",
    "signal",
    "method",
    "credentials",
    "headersPromise",
    "createPromiseAndHooks",
    "bodyPromise",
    "xhr",
    "XMLHttpRequest",
    "failure",
    "settled",
    "cleanup",
    "ontimeout",
    "onerror",
    "onload",
    "onreadystatechange",
    "createRequestError",
    "addEventListener",
    "abort",
    "abortError",
    "readyState",
    "open",
    "setRequestHeader",
    "withCredentials",
    "computeWithCredentials",
    "hasBlob",
    "responseType",
    "send",
    "responseUrl",
    "responseURL",
    "responseStatus",
    "responseStatusText",
    "responseHeaders",
    "getHeadersFromXHR",
    "readBody",
    "responseText",
    "responseBody",
    "responseBodyType",
    "detectBodyType",
    "blobToText",
    "arrayBufferToText",
    "buffer",
    "Blob",
    "cloneBuffer",
    "blobToArrayBuffer",
    "formData",
    "hasFormData",
    "textToFormData",
    "canUseBlob",
    "FileReader",
    "FormData",
    "hasArrayBuffer",
    "ArrayBuffer",
    "hasSearchParams",
    "URLSearchParams",
    "res",
    "rej",
    "originSameAsGlobalOrigin",
    "globalOrigin",
    "hrefToOrigin",
    "isPrototypeOf",
    "isDataView",
    "isArrayBufferView",
    "headerMap",
    "headersString",
    "getAllResponseHeaders",
    "lines",
    "trim",
    "split",
    "parts",
    "shift",
    "toLowerCase",
    "scheme",
    "hrefToScheme",
    "secondProtocolSlashIndex",
    "pathnameSlashIndex",
    "colonIndex",
    "DataView",
    "isView",
    "viewClasses",
    "includes",
    "form",
    "bytes",
    "append",
    "decodeURIComponent",
    "reader",
    "fileReaderReady",
    "readAsArrayBuffer",
    "readAsText",
    "view",
    "Uint8Array",
    "chars",
    "fromCharCode",
    "byteLength",
    "_await",
    "_async",
    "fetchNative",
    "AbortController",
    "fetchAndEvalUsingFetch",
    "eval",
    "appendSourceURL",
    "code",
    "sourceURL",
    "isComposite",
    "compositeWellKnownMap",
    "primitiveWellKnownMap",
    "Map",
    "getCompositeGlobalPath",
    "getPrimitiveGlobalPath",
    "visitGlobalObject",
    "visitValue",
    "path",
    "has",
    "visitProperty",
    "property",
    "descriptor",
    "propertyValue",
    "getOwnPropertyNames",
    "symbol",
    "global",
    "decompose",
    "mainValue",
    "functionAllowed",
    "prototypeStrict",
    "ignoreSymbols",
    "valueMap",
    "recipeArray",
    "valueToIdentifier",
    "existingIdentifier",
    "identifierForPrimitive",
    "undefined",
    "identifier",
    "identifierForNewValue",
    "primitiveToRecipe",
    "createPromiseAreNotSupportedMessage",
    "WeakSet",
    "createWeakSetAreNotSupportedMessage",
    "createWeakMapAreNotSupportedMessage",
    "createForbiddenFunctionMessage",
    "identifierForComposite",
    "compositeGlobalPath",
    "createGlobalReferenceRecipe",
    "propertyDescriptionArray",
    "propertyName",
    "propertyDescriptor",
    "propertyNameIdentifier",
    "propertyDescription",
    "computePropertyDescription",
    "symbolDescriptionArray",
    "symbolIdentifier",
    "methodDescriptionArray",
    "computeMethodDescriptionArray",
    "extensible",
    "isExtensible",
    "createCompositeRecipe",
    "propertyNameOrSymbol",
    "createForbiddenPropertySetterMessage",
    "createForbiddenPropertyGetterMessage",
    "getIdentifier",
    "setIdentifier",
    "valueIdentifier",
    "Set",
    "callArray",
    "entryValue",
    "entryValueIdentifier",
    "methodNameIdentifier",
    "entryKey",
    "entryKeyIdentifier",
    "find",
    "existingValue",
    "is",
    "nextIdentifier",
    "currentIdentifier",
    "parseInt",
    "mainIdentifier",
    "prototypeValueToIdentifier",
    "prototypeValue",
    "prototypeExistingIdentifier",
    "prototypeIdentifier",
    "prototypeGlobalPath",
    "createUnknownPrototypeMessage",
    "getPrototypeOf",
    "identifierForValueOf",
    "valueOf",
    "valueOfReturnValue",
    "createUnexpectedValueOfReturnValueMessage",
    "recipe",
    "valueOfIdentifier",
    "RegExp",
    "symbolToRecipe",
    "createPimitiveRecipe",
    "globalSymbolKey",
    "keyFor",
    "createGlobalSymbolRecipe",
    "symbolGlobalPath",
    "createUnknownSymbolMessage",
    "sortRecipe",
    "findInRecipePrototypeChain",
    "currentRecipe",
    "recipeArrayOrdered",
    "sort",
    "leftRecipe",
    "rightRecipe",
    "leftType",
    "rightType",
    "rightRecipeIsInLeftRecipePrototypeChain",
    "recipeCandidate",
    "leftRecipeIsInRightRecipePrototypeChain",
    "leftIndex",
    "rightIndex",
    "escapeString",
    "j",
    "escapedString",
    "char",
    "escapedChar",
    "uneval",
    "recipeArraySorted",
    "variableNameMap",
    "indexSorted",
    "identifierToVariableName",
    "recipeToSetupSource",
    "primitiveRecipeToSetupSource",
    "globalSymbolRecipeToSetupSource",
    "globalReferenceRecipeToSetupSource",
    "compositeRecipeToSetupSource",
    "pathSource",
    "part",
    "prototypeConstructor",
    "recipeVariableName",
    "recipeToMutateSource",
    "compositeRecipeToMutateSource",
    "mutateSource",
    "generateDefinePropertySource",
    "generateMethodCallSource",
    "generatePreventExtensionSource",
    "propertyNameOrSymbolIdentifier",
    "propertyOrSymbolVariableName",
    "propertyDescriptorSource",
    "generatePropertyDescriptorSource",
    "methodCallSource",
    "methodVariableName",
    "argumentIdentifiers",
    "argumentVariableNames",
    "argumentIdentifier",
    "unevalException",
    "hasOwnProperty",
    "memoize",
    "compute",
    "memoized",
    "memoizedValue",
    "fnWithMemoization",
    "forget",
    "displayErrorInDocument",
    "title",
    "theme",
    "parsingError",
    "errorToHTML",
    "messageHTML",
    "escapeHtml",
    "css",
    "html",
    "removeJsenvConsole",
    "appendHMTLInside",
    "document",
    "querySelector",
    "onclick",
    "captureStackTrace",
    "stringify",
    "htmlWithCorrectLineBreaks",
    "htmlWithLinks",
    "stringToStringWithLink",
    "transform",
    "linkHTML",
    "lastChar",
    "endsWithSeparationChar",
    "lineAndColumnPattern",
    "lineAndColumMatch",
    "lineAndColumnString",
    "link",
    "linePattern",
    "lineMatch",
    "lineString",
    "parentNode",
    "temoraryParent",
    "createElement",
    "innerHTML",
    "transferChildren",
    "fromNode",
    "toNode",
    "childNodes",
    "appendChild",
    "c",
    "Notification",
    "displayErrorNotificationNotAvailable",
    "displayErrorNotificationImplementation",
    "icon",
    "permission",
    "notification",
    "lang",
    "focus",
    "displayErrorNotification",
    "assertImportMap",
    "hasScheme",
    "urlToScheme",
    "urlString",
    "urlToPathname",
    "ressourceToPathname",
    "urlToRessource",
    "afterProtocol",
    "ressource",
    "searchSeparatorIndex",
    "urlToOrigin",
    "pathnameToParentPathname",
    "pathname",
    "slashLastIndex",
    "lastIndexOf",
    "resolveUrl",
    "baseUrl",
    "writeBaseUrlMustBeAString",
    "writeBaseUrlMustBeAbsolute",
    "writeBaseUrlRequired",
    "baseOrigin",
    "basePathname",
    "baseDirectoryPathname",
    "unresolvedPathname",
    "importerFolders",
    "pop",
    "resolvedPathname",
    "tryUrlResolution",
    "resolveSpecifier",
    "sortImports",
    "imports",
    "mappingsSorted",
    "compareLengthOrLocaleCompare",
    "sortScopes",
    "scopes",
    "scopesSorted",
    "scopeSpecifier",
    "a",
    "b",
    "localeCompare",
    "normalizeImportMap",
    "importMap",
    "isStringOrUrl",
    "formulateBaseUrlMustBeStringOrUrl",
    "normalizeMappings",
    "normalizeScopes",
    "mappings",
    "mappingsNormalized",
    "address",
    "formulateAddressMustBeAString",
    "specifierResolved",
    "addressUrl",
    "formulateAdressResolutionFailed",
    "formulateAddressUrlRequiresTrailingSlash",
    "scopesNormalized",
    "scopeMappings",
    "scopeUrl",
    "formulateScopeResolutionFailed",
    "scope",
    "scopeValueNormalized",
    "addressURL",
    "pathnameToExtension",
    "dotLastIndex",
    "applyImportMap",
    "createBareSpecifierError",
    "onImportMapping",
    "specifierUrl",
    "specifierNormalized",
    "scopeSpecifierMatching",
    "specifierIsPrefixOf",
    "mappingFromScopes",
    "applyMappings",
    "mappingFromImports",
    "specifierCandidates",
    "specifierCandidate",
    "to",
    "afterSpecifier",
    "addressFinal",
    "specifierHref",
    "resolveImport",
    "defaultExtension",
    "applyDefaultExtension",
    "extension",
    "importerPathname",
    "importerExtension",
    "getJavaScriptModuleResponseError",
    "importerUrl",
    "compileServerOrigin",
    "compileDirectoryRelativeUrl",
    "jsonContentTypeAccepted",
    "getModuleDetails",
    "notFound",
    "contentType",
    "bodyAsJson",
    "suggestion",
    "relativeUrl",
    "tryToFindProjectRelativeUrl",
    "importerRelativeUrl",
    "file",
    "afterOrigin",
    "afterCompileDirectory",
    "urlToExtension",
    "fakeUrl",
    "specifierExtension",
    "createImportResolverForImportmap",
    "importMapUrl",
    "importDefaultExtension",
    "onBareSpecifierError",
    "_resolveImport",
    "bareSpecifierError",
    "detailedMessage",
    "performance",
    "thrown",
    "finalizer",
    "measureAsyncFnPerf",
    "perfMarkStartName",
    "mark",
    "measure",
    "errMsg",
    "errCode",
    "msg",
    "hasSymbol",
    "hasSelf",
    "self",
    "hasDocument",
    "envGlobal",
    "baseEl",
    "lastSepIndex",
    "backslashRegEx",
    "resolveIfNotPlainOrUrl",
    "relUrl",
    "parentUrl",
    "parentProtocol",
    "segmented",
    "output",
    "segmentIndex",
    "resolveAndComposePackages",
    "packages",
    "outPackages",
    "parentMap",
    "p",
    "resolvedLhs",
    "rhs",
    "mapped",
    "resolveImportMap",
    "targetWarning",
    "resolveAndComposeImportMap",
    "outMap",
    "u",
    "resolvedScope",
    "depcache",
    "integrity",
    "getMatch",
    "matchObj",
    "sepIndex",
    "segment",
    "applyPackages",
    "id",
    "pkgName",
    "pkg",
    "resolvedOrPlain",
    "packageResolution",
    "toStringTag",
    "REGISTRY",
    "SystemJS",
    "systemJSPrototype",
    "import",
    "loader",
    "prepareImport",
    "load",
    "getOrCreateLoad",
    "C",
    "topLevelLoad",
    "createContext",
    "parentId",
    "lastRegister",
    "register",
    "deps",
    "declare",
    "getRegister",
    "_lastRegister",
    "firstParentUrl",
    "importerSetters",
    "ns",
    "create",
    "instantiatePromise",
    "instantiate",
    "registration",
    "_export",
    "h",
    "changed",
    "__esModule",
    "setter",
    "declared",
    "importId",
    "meta",
    "execute",
    "setters",
    "err",
    "er",
    "linkPromise",
    "instantiation",
    "dep",
    "depId",
    "depLoad",
    "I",
    "depLoads",
    "d",
    "L",
    "E",
    "instantiateAll",
    "parent",
    "loaded",
    "catch",
    "postOrderExec",
    "nullContext",
    "freeze",
    "seen",
    "depLoadPromises",
    "depLoadPromise",
    "doExec",
    "execPromise",
    "System",
    "importMapPromise",
    "processFirst",
    "doProcessScripts",
    "processScripts",
    "querySelectorAll",
    "script",
    "sp",
    "src",
    "event",
    "createEvent",
    "initEvent",
    "dispatchEvent",
    "fetchPromise",
    "ok",
    "extendImportMap",
    "newMapText",
    "newMapUrl",
    "newMap",
    "evt",
    "lastWindowErrorUrl",
    "lastWindowError",
    "createScript",
    "async",
    "crossOrigin",
    "lastAutoImportDeps",
    "lastAutoImportTimeout",
    "autoImportCandidates",
    "systemRegister",
    "inlineScriptCount",
    "autoUrl",
    "scripts",
    "lastScript",
    "lastAutoImportUrl",
    "setTimeout",
    "autoImportRegistration",
    "head",
    "removeChild",
    "clearTimeout",
    "shouldFetch",
    "jsContentTypeRegEx",
    "throwUnresolved",
    "systemInstantiate",
    "preloads",
    "importScripts",
    "registerRegistry",
    "define",
    "WorkerGlobalScope",
    "importMapFromParentPromise",
    "importmapMessageCallback",
    "removeEventListener",
    "ports",
    "onmessage",
    "postMessage",
    "importmap",
    "messageEvents",
    "messageCallback",
    "messageEvent",
    "WorkerConstructor",
    "Worker",
    "worker",
    "importmapChannel",
    "MessageChannel",
    "port1",
    "port2",
    "serviceWorker",
    "navigator",
    "registrationPromise",
    "installing",
    "waiting",
    "active",
    "createBrowserSystem",
    "importResolver",
    "fetchSource",
    "browserSystem",
    "extractImportTypeFromUrl",
    "importType",
    "urlWithoutImportType",
    "instantiateAsJsonModule",
    "jsonModule",
    "instantiateAsCssModule",
    "cssModule",
    "vendor",
    "createDetailedInstantiateError",
    "instantiateError",
    "jsenvError",
    "urlObject",
    "search",
    "searchParams",
    "delete",
    "contentTypeExpected",
    "compileDirectoryServerUrl",
    "originalFileRelativeUrl",
    "__jsenv__",
    "livereloadingCallbacks",
    "reloadPage",
    "cssText",
    "cssTextWithBaseUrl",
    "cssWithBaseUrl",
    "cssUrl",
    "sheet",
    "CSSStyleSheet",
    "replaceSync",
    "cssDirectoryUrl",
    "baseDirectoryUrl",
    "cssTextRelocated",
    "quotes",
    "relUrl1",
    "relUrl2",
    "absoluteUrl",
    "jsModuleResponseError",
    "makeNamespaceTransferable",
    "namespace",
    "transferableNamespace",
    "isTransferable",
    "hideNonTransferableValue",
    "seenArray",
    "visit",
    "constructorName",
    "supportedTypes",
    "maybe",
    "maybeTypes",
    "visited",
    "every",
    "values",
    "memoizedCreateBrowserSystem",
    "createBrowserRuntime",
    "outDirectoryRelativeUrl",
    "compileId",
    "fetchJson",
    "outDirectoryUrl",
    "envUrl",
    "importmapScript",
    "importmapRaw",
    "importmapFileResponse",
    "textContent",
    "importFile",
    "executeFile",
    "executionExposureOnWindow",
    "errorTransform",
    "measurePerformance",
    "importUsingSystemJs",
    "coverage",
    "readCoverage",
    "transformedError",
    "executionResult",
    "__executionResult__",
    "__coverage__",
    "getNavigationStartTime",
    "timing",
    "navigationStart",
    "Date",
    "now",
    "navigationStartTime",
    "_catch",
    "readyPromise",
    "loadCallback",
    "_call",
    "fileExecutionMap",
    "_invoke",
    "executionResultPromise",
    "fileExecutionResultMap",
    "fileExecutionResultPromises",
    "exceptionSource",
    "fileExecutionResultPromise",
    "fileExecutionResult",
    "startTime",
    "endTime",
    "executeFileUsingDynamicImport",
    "currentScript",
    "onExecutionError",
    "executeFileUsingSystemJs",
    "getBrowserRuntime",
    "browserRuntime",
    "collectPerformance",
    "errorExposureInConsole",
    "errorExposureInNotification",
    "errorExposureInDocument",
    "errorEvent",
    "Event",
    "globalErrorEvent",
    "colno",
    "compileMetaResponse",
    "compileMeta",
    "errorStackRemapping",
    "afterOutDirectory",
    "sourcemapMainFileRelativeUrl",
    "sourcemapMappingFileRelativeUrl",
    "initialize",
    "originalStack"
  ],
  "mappings": "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"
}