{
  "version": 3,
  "file": "event_source_client-9f14c8b9.js",
  "sources": [
    "../../src/internal/dev_server/event_source_client/event_source_connection.js",
    "../../src/internal/dev_server/event_source_client/livereload_preference.js",
    "../../src/internal/dev_server/event_source_client/file_changes.js",
    "../../src/internal/dev_server/event_source_client/event_source_client.js"
  ],
  "sourcesContent": [
    "/* eslint-env browser */\n\nexport const createEventSourceConnection = (\n  eventSourceUrl,\n  events = {},\n  { retryMaxAttempt = Infinity, retryAllocatedMs = Infinity, lastEventId } = {},\n) => {\n  const { EventSource } = window\n  if (typeof EventSource !== \"function\") {\n    return () => {}\n  }\n\n  const eventSourceOrigin = new URL(eventSourceUrl).origin\n  Object.keys(events).forEach((eventName) => {\n    const eventCallback = events[eventName]\n    events[eventName] = (e) => {\n      if (e.origin === eventSourceOrigin) {\n        if (e.lastEventId) {\n          lastEventId = e.lastEventId\n        }\n        eventCallback(e)\n      }\n    }\n  })\n\n  let connectionStatus = \"default\"\n  let connectionStatusChangeCallback = () => {}\n  let _disconnect = () => {}\n\n  const goToStatus = (newStatus) => {\n    if (newStatus !== connectionStatus) {\n      connectionStatus = newStatus\n      connectionStatusChangeCallback()\n    }\n  }\n\n  const attemptConnection = (url) => {\n    const eventSource = new EventSource(url, {\n      withCredentials: true,\n    })\n    _disconnect = () => {\n      if (\n        connectionStatus !== \"connecting\" &&\n        connectionStatus !== \"connected\"\n      ) {\n        console.warn(\n          `disconnect() ignored because connection is ${connectionStatus}`,\n        )\n        return\n      }\n      eventSource.onerror = undefined\n      eventSource.close()\n      Object.keys(events).forEach((eventName) => {\n        eventSource.removeEventListener(eventName, events[eventName])\n      })\n      goToStatus(\"disconnected\")\n    }\n    let retryCount = 0\n    let firstRetryMs = Date.now()\n    eventSource.onerror = (errorEvent) => {\n      if (errorEvent.target.readyState === EventSource.CONNECTING) {\n        if (retryCount > retryMaxAttempt) {\n          console.info(`could not connect after ${retryMaxAttempt} attempt`)\n          _disconnect()\n          return\n        }\n\n        if (retryCount === 0) {\n          firstRetryMs = Date.now()\n        } else {\n          const allRetryDuration = Date.now() - firstRetryMs\n          if (retryAllocatedMs && allRetryDuration > retryAllocatedMs) {\n            console.info(\n              `could not connect in less than ${retryAllocatedMs} ms`,\n            )\n            _disconnect()\n            return\n          }\n        }\n\n        retryCount++\n        goToStatus(\"connecting\")\n        return\n      }\n\n      if (errorEvent.target.readyState === EventSource.CLOSED) {\n        _disconnect()\n        return\n      }\n    }\n    eventSource.onopen = () => {\n      goToStatus(\"connected\")\n    }\n    Object.keys(events).forEach((eventName) => {\n      eventSource.addEventListener(eventName, events[eventName])\n    })\n    if (!events.hasOwnProperty(\"welcome\")) {\n      eventSource.addEventListener(\"welcome\", (e) => {\n        if (e.origin === eventSourceOrigin && e.lastEventId) {\n          lastEventId = e.lastEventId\n        }\n      })\n    }\n    goToStatus(\"connecting\")\n  }\n\n  let connect = () => {\n    attemptConnection(eventSourceUrl)\n    connect = () => {\n      attemptConnection(\n        lastEventId\n          ? addLastEventIdIntoUrlSearchParams(eventSourceUrl, lastEventId)\n          : eventSourceUrl,\n      )\n    }\n  }\n\n  const removePageUnloadListener = listenPageUnload(() => {\n    _disconnect()\n  })\n\n  const destroy = () => {\n    removePageUnloadListener()\n    _disconnect()\n  }\n\n  return {\n    getConnectionStatus: () => connectionStatus,\n    setConnectionStatusChangeCallback: (callback) => {\n      connectionStatusChangeCallback = callback\n    },\n    connect,\n    disconnect: () => _disconnect(),\n    destroy,\n  }\n}\n\nconst addLastEventIdIntoUrlSearchParams = (url, lastEventId) => {\n  if (url.indexOf(\"?\") === -1) {\n    url += \"?\"\n  } else {\n    url += \"&\"\n  }\n  return `${url}last-event-id=${encodeURIComponent(lastEventId)}`\n}\n\n// const listenPageMightFreeze = (callback) => {\n//   const removePageHideListener = listenEvent(window, \"pagehide\", (pageHideEvent) => {\n//     if (pageHideEvent.persisted === true) {\n//       callback(pageHideEvent)\n//     }\n//   })\n//   return removePageHideListener\n// }\n\n// const listenPageFreeze = (callback) => {\n//   const removeFreezeListener = listenEvent(document, \"freeze\", (freezeEvent) => {\n//     callback(freezeEvent)\n//   })\n//   return removeFreezeListener\n// }\n\n// const listenPageIsRestored = (callback) => {\n//   const removeResumeListener = listenEvent(document, \"resume\", (resumeEvent) => {\n//     removePageshowListener()\n//     callback(resumeEvent)\n//   })\n//   const removePageshowListener = listenEvent(window, \"pageshow\", (pageshowEvent) => {\n//     if (pageshowEvent.persisted === true) {\n//       removePageshowListener()\n//       removeResumeListener()\n//       callback(pageshowEvent)\n//     }\n//   })\n//   return () => {\n//     removeResumeListener()\n//     removePageshowListener()\n//   }\n// }\n\nconst listenPageUnload = (callback) => {\n  const removePageHideListener = listenEvent(\n    window,\n    \"pagehide\",\n    (pageHideEvent) => {\n      if (pageHideEvent.persisted !== true) {\n        callback(pageHideEvent)\n      }\n    },\n  )\n  return removePageHideListener\n}\n\nconst listenEvent = (emitter, event, callback) => {\n  emitter.addEventListener(event, callback)\n  return () => {\n    emitter.removeEventListener(event, callback)\n  }\n}\n",
    "/* eslint-env browser */\n\nexport const isLivereloadEnabled = () => {\n  const value = window.localStorage.hasOwnProperty(\"livereload\")\n  if (value === \"0\") {\n    return false\n  }\n  return true\n}\n\nexport const setLivereloadPreference = (value) => {\n  window.localStorage.setItem(\"livereload\", value ? \"1\" : \"0\")\n}\n",
    "/* eslint-env browser */\n\nimport { isLivereloadEnabled } from \"./livereload_preference.js\"\n\nlet fileChanges = {}\nlet filechangeCallback = () => {}\n\nexport const getFileChanges = () => fileChanges\n\nexport const addFileChange = ({ file, eventType }) => {\n  fileChanges[file] = eventType\n  if (isLivereloadEnabled()) {\n    reloadIfNeeded()\n  } else {\n    filechangeCallback()\n  }\n}\n\nexport const setFileChangeCallback = (callback) => {\n  filechangeCallback = callback\n}\n\nexport const reloadIfNeeded = () => {\n  const customReloads = []\n  const cssReloads = []\n  const fullReloads = []\n\n  Object.keys(fileChanges).forEach((key) => {\n    const livereloadCallback = window.__jsenv__.livereloadingCallbacks[key]\n    if (livereloadCallback) {\n      customReloads.push(() => {\n        delete fileChanges[key]\n        livereloadCallback({\n          reloadPage,\n        })\n      })\n    } else if (\n      key.endsWith(\".css\") ||\n      key.endsWith(\".scss\") ||\n      key.endsWith(\".sass\")\n    ) {\n      cssReloads.push(() => {\n        delete fileChanges[key]\n      })\n    } else {\n      fullReloads.push(key)\n    }\n  })\n\n  if (fullReloads.length > 0) {\n    reloadPage()\n    return\n  }\n\n  customReloads.forEach((customReload) => {\n    customReload()\n  })\n\n  if (cssReloads.length) {\n    reloadAllCss()\n    cssReloads.forEach((cssReload) => {\n      cssReload()\n    })\n  }\n\n  filechangeCallback()\n}\n\nconst reloadAllCss = () => {\n  const links = Array.from(window.parent.document.getElementsByTagName(\"link\"))\n  links.forEach((link) => {\n    if (link.rel === \"stylesheet\") {\n      const url = new URL(link.href)\n      url.searchParams.set(\"t\", Date.now())\n      link.href = String(url)\n    }\n  })\n}\n\nconst reloadPage = () => {\n  window.parent.location.reload(true)\n}\n",
    "/* eslint-env browser */\n\nimport { createEventSourceConnection } from \"./event_source_connection.js\"\nimport {\n  getFileChanges,\n  addFileChange,\n  setFileChangeCallback,\n  reloadIfNeeded,\n} from \"./file_changes.js\"\nimport {\n  isLivereloadEnabled,\n  setLivereloadPreference,\n} from \"./livereload_preference.js\"\n\nconst eventsourceConnection = createEventSourceConnection(\n  document.location.href,\n  {\n    \"file-added\": ({ data }) => {\n      addFileChange({\n        file: data,\n        eventType: \"added\",\n      })\n    },\n    \"file-modified\": ({ data }) => {\n      addFileChange({\n        file: data,\n        eventType: \"modified\",\n      })\n    },\n    \"file-removed\": ({ data }) => {\n      addFileChange({\n        file: data,\n        eventType: \"removed\",\n      })\n    },\n  },\n  {\n    retryMaxAttempt: Infinity,\n    retryAllocatedMs: 20 * 1000,\n  },\n)\n\nconst {\n  connect,\n  disconnect,\n  setConnectionStatusChangeCallback,\n  getConnectionStatus,\n} = eventsourceConnection\n\nconnect()\n\nwindow.__jsenv_event_source_client__ = {\n  connect,\n  disconnect,\n  getConnectionStatus,\n  setConnectionStatusChangeCallback,\n  getFileChanges,\n  addFileChange,\n  setFileChangeCallback,\n  reloadIfNeeded,\n  isLivereloadEnabled,\n  setLivereloadPreference,\n}\n"
  ],
  "names": [
    "createEventSourceConnection",
    "eventSourceUrl",
    "events",
    "retryMaxAttempt",
    "Infinity",
    "retryAllocatedMs",
    "lastEventId",
    "window",
    "EventSource",
    "eventSourceOrigin",
    "URL",
    "origin",
    "Object",
    "keys",
    "forEach",
    "eventName",
    "eventCallback",
    "e",
    "connectionStatus",
    "connectionStatusChangeCallback",
    "_disconnect",
    "goToStatus",
    "newStatus",
    "attemptConnection",
    "url",
    "eventSource",
    "withCredentials",
    "console",
    "warn",
    "onerror",
    "undefined",
    "close",
    "removeEventListener",
    "retryCount",
    "firstRetryMs",
    "Date",
    "now",
    "errorEvent",
    "target",
    "readyState",
    "CONNECTING",
    "info",
    "allRetryDuration",
    "CLOSED",
    "onopen",
    "addEventListener",
    "hasOwnProperty",
    "connect",
    "addLastEventIdIntoUrlSearchParams",
    "removePageUnloadListener",
    "listenPageUnload",
    "destroy",
    "getConnectionStatus",
    "setConnectionStatusChangeCallback",
    "callback",
    "disconnect",
    "indexOf",
    "encodeURIComponent",
    "removePageHideListener",
    "listenEvent",
    "pageHideEvent",
    "persisted",
    "emitter",
    "event",
    "isLivereloadEnabled",
    "value",
    "localStorage",
    "setLivereloadPreference",
    "setItem",
    "fileChanges",
    "filechangeCallback",
    "getFileChanges",
    "addFileChange",
    "file",
    "eventType",
    "reloadIfNeeded",
    "setFileChangeCallback",
    "customReloads",
    "cssReloads",
    "fullReloads",
    "key",
    "livereloadCallback",
    "__jsenv__",
    "livereloadingCallbacks",
    "push",
    "reloadPage",
    "endsWith",
    "length",
    "customReload",
    "reloadAllCss",
    "cssReload",
    "links",
    "Array",
    "from",
    "parent",
    "document",
    "getElementsByTagName",
    "link",
    "rel",
    "href",
    "searchParams",
    "set",
    "String",
    "location",
    "reload",
    "eventsourceConnection",
    "data",
    "__jsenv_event_source_client__"
  ],
  "mappings": ";;AAAA;;AAEO,MAAMA,2BAA2B,GAAG,SAA9BA,2BAA8B,CACzCC,cADyC,EAItC;QAFHC,MAEG,uEAFM;;mFACkE;oCAAzEC;QAAAA,eACC,qCADiBC;qCAAUC;QAAAA,gBAC3B,sCAD8CD;QAAUE,WACxD,QADwDA;;kBAEnCC;QAAhBC,WAAR,WAAQA;;QACJ,OAAOA,WAAP,KAAuB,YAAY;aAC9B,YAAM,CAAb;;;QAGIC,iBAAiB,GAAG,IAAIC,GAAJ,CAAQT,cAAR,EAAwBU;AAClDC,IAAAA,MAAM,CAACC,IAAPD,CAAYV,MAAZU,EAAoBE,OAApBF,CAA4B,UAACG,SAAD,EAAe;UACnCC,aAAa,GAAGd,MAAM,CAACa,SAAD;;AAC5Bb,MAAAA,MAAM,CAACa,SAAD,CAANb,GAAoB,UAACe,CAAD,EAAO;YACrBA,CAAC,CAACN,MAAFM,KAAaR,mBAAmB;cAC9BQ,CAAC,CAACX,aAAa;AACjBA,YAAAA,WAAW,GAAGW,CAAC,CAACX,WAAhBA;;;AAEFU,UAAAA,aAAa,CAACC,CAAD,CAAbD;;AALJ,OAAAd;AAFF,KAAAU;QAYIM,gBAAgB,GAAG;;QACnBC,8BAA8B,GAAG,uCAAA,GAAM,CAA3C;;QACIC,WAAW,GAAG,oBAAA,GAAM,CAAxB;;QAEMC,UAAU,GAAG,SAAbA,UAAa,CAACC,SAAD,EAAe;UAC5BA,SAAS,KAAKJ,kBAAkB;AAClCA,QAAAA,gBAAgB,GAAGI,SAAnBJ;AACAC,QAAAA,8BAA8B;;AAHlC;;QAOMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,GAAD,EAAS;UAC3BC,WAAW,GAAG,IAAIjB,WAAJ,CAAgBgB,GAAhB,EAAqB;AACvCE,QAAAA,eAAe,EAAE;AADsB,OAArB;;AAGpBN,MAAAA,WAAW,GAAG,oBAAA,GAAM;YAEhBF,gBAAgB,KAAK,YAArBA,IACAA,gBAAgB,KAAK,aACrB;AACAS,UAAAA,OAAO,CAACC,IAARD,sDACgDT,iBADhDS;;;;AAKFF,QAAAA,WAAW,CAACI,OAAZJ,GAAsBK,SAAtBL;AACAA,QAAAA,WAAW,CAACM,KAAZN;AACAb,QAAAA,MAAM,CAACC,IAAPD,CAAYV,MAAZU,EAAoBE,OAApBF,CAA4B,UAACG,SAAD,EAAe;AACzCU,UAAAA,WAAW,CAACO,mBAAZP,CAAgCV,SAAhCU,EAA2CvB,MAAM,CAACa,SAAD,CAAjDU;AADF,SAAAb;AAGAS,QAAAA,UAAU,CAAC,cAAD,CAAVA;AAfF,OAAAD;;UAiBIa,UAAU,GAAG;UACbC,YAAY,GAAGC,IAAI,CAACC,GAALD;;AACnBV,MAAAA,WAAW,CAACI,OAAZJ,GAAsB,UAACY,UAAD,EAAgB;YAChCA,UAAU,CAACC,MAAXD,CAAkBE,UAAlBF,KAAiC7B,WAAW,CAACgC,YAAY;cACvDP,UAAU,GAAG9B,iBAAiB;AAChCwB,YAAAA,OAAO,CAACc,IAARd,mCAAwCxB,4BAAxCwB;;AACAP,YAAAA,WAAW;;;;;cAITa,UAAU,KAAK,GAAG;AACpBC,YAAAA,YAAY,GAAGC,IAAI,CAACC,GAALD,EAAfD;AADF,iBAEO;gBACCQ,gBAAgB,GAAGP,IAAI,CAACC,GAALD,KAAaD;;gBAClC7B,gBAAgB,IAAIqC,gBAAgB,GAAGrC,kBAAkB;AAC3DsB,cAAAA,OAAO,CAACc,IAARd,0CACoCtB,wBADpCsB;;AAGAP,cAAAA,WAAW;;;;;;AAKfa,UAAAA,UAAU;AACVZ,UAAAA,UAAU,CAAC,YAAD,CAAVA;;;;YAIEgB,UAAU,CAACC,MAAXD,CAAkBE,UAAlBF,KAAiC7B,WAAW,CAACmC,QAAQ;AACvDvB,UAAAA,WAAW;;;;AA3Bf,OAAAK;;AA+BAA,MAAAA,WAAW,CAACmB,MAAZnB,GAAqB,YAAM;AACzBJ,QAAAA,UAAU,CAAC,WAAD,CAAVA;AADF,OAAAI;;AAGAb,MAAAA,MAAM,CAACC,IAAPD,CAAYV,MAAZU,EAAoBE,OAApBF,CAA4B,UAACG,SAAD,EAAe;AACzCU,QAAAA,WAAW,CAACoB,gBAAZpB,CAA6BV,SAA7BU,EAAwCvB,MAAM,CAACa,SAAD,CAA9CU;AADF,OAAAb;;UAGI,CAACV,MAAM,CAAC4C,cAAP5C,CAAsB,SAAtBA,GAAkC;AACrCuB,QAAAA,WAAW,CAACoB,gBAAZpB,CAA6B,SAA7BA,EAAwC,UAACR,CAAD,EAAO;cACzCA,CAAC,CAACN,MAAFM,KAAaR,iBAAbQ,IAAkCA,CAAC,CAACX,aAAa;AACnDA,YAAAA,WAAW,GAAGW,CAAC,CAACX,WAAhBA;;AAFJ,SAAAmB;;;AAMFJ,MAAAA,UAAU,CAAC,YAAD,CAAVA;AAnEF;;QAsEI0B,QAAO,GAAG,gBAAA,GAAM;AAClBxB,MAAAA,iBAAiB,CAACtB,cAAD,CAAjBsB;;AACAwB,MAAAA,QAAO,GAAG,gBAAA,GAAM;AACdxB,QAAAA,iBAAiB,CACfjB,WAAW,GACP0C,iCAAiC,CAAC/C,cAAD,EAAiBK,WAAjB,CAD1B,GAEPL,cAHW,CAAjBsB;AADF,OAAAwB;AAFF;;QAWME,wBAAwB,GAAGC,gBAAgB,CAAC,YAAM;AACtD9B,MAAAA,WAAW;AADoC,KAAA;;QAI3C+B,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBF,MAAAA,wBAAwB;;AACxB7B,MAAAA,WAAW;AAFb;;WAKO;AACLgC,MAAAA,mBAAmB,EAAE,4BAAA;eAAMlC;AADtB,OAAA;AAELmC,MAAAA,iCAAiC,EAAE,0CAAA,CAACC,QAAD,EAAc;AAC/CnC,QAAAA,8BAA8B,GAAGmC,QAAjCnC;AAHG,OAAA;AAKL4B,MAAAA,OAAO,EAAPA,QALK;AAMLQ,MAAAA,UAAU,EAAE,mBAAA;eAAMnC,WAAW;AANxB,OAAA;AAOL+B,MAAAA,OAAO,EAAPA;AAPK;AA5HF,GAAA;;AAuIP,MAAMH,iCAAiC,GAAG,SAApCA,iCAAoC,CAACxB,GAAD,EAAMlB,WAAN,EAAsB;QAC1DkB,GAAG,CAACgC,OAAJhC,CAAY,GAAZA,MAAqB,CAAC,GAAG;AAC3BA,MAAAA,GAAG,IAAI,GAAPA;AADF,WAEO;AACLA,MAAAA,GAAG,IAAI,GAAPA;;;qBAEQA,8BAAoBiC,kBAAkB,CAACnD,WAAD;AANlD,GAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAM4C,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACI,QAAD,EAAc;QAC/BI,sBAAsB,GAAGC,WAAW,CACxCpD,MADwC,EAExC,UAFwC,EAGxC,UAACqD,aAAD,EAAmB;UACbA,aAAa,CAACC,SAAdD,KAA4B,MAAM;AACpCN,QAAAA,QAAQ,CAACM,aAAD,CAARN;;AALoC,KAAA;WASnCI;AAVT,GAAA;;AAaA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACG,OAAD,EAAUC,KAAV,EAAiBT,QAAjB,EAA8B;AAChDQ,IAAAA,OAAO,CAACjB,gBAARiB,CAAyBC,KAAzBD,EAAgCR,QAAhCQ;WACO,YAAM;AACXA,MAAAA,OAAO,CAAC9B,mBAAR8B,CAA4BC,KAA5BD,EAAmCR,QAAnCQ;AADF;AAFF,GAAA;ACjMA;;;AAEO,MAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;QACjCC,KAAK,GAAG1D,MAAM,CAAC2D,YAAP3D,CAAoBuC,cAApBvC,CAAmC,YAAnCA;;QACV0D,KAAK,KAAK,KAAK;aACV;;;WAEF;AALF,GAAA;;AAQA,MAAME,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACF,KAAD,EAAW;AAChD1D,IAAAA,MAAM,CAAC2D,YAAP3D,CAAoB6D,OAApB7D,CAA4B,YAA5BA,EAA0C0D,KAAK,GAAG,GAAH,GAAS,GAAxD1D;AADK,GAAA;ACVP;;;AAIA,MAAI8D,WAAW,GAAG,EAAlB;;AACA,MAAIC,kBAAkB,GAAG,2BAAA,GAAM,CAA/B,CAAA;;AAEO,MAAMC,cAAc,GAAG,SAAjBA,cAAiB;WAAMF;AAA7B,GAAA;;AAEA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,KAAA,EAAyB;QAAtBC,IAAsB,QAAtBA;QAAMC,SAAgB,QAAhBA;AACpCL,IAAAA,WAAW,CAACI,IAAD,CAAXJ,GAAoBK,SAApBL;;QACIL,mBAAmB,IAAI;AACzBW,MAAAA,cAAc;AADhB,WAEO;AACLL,MAAAA,kBAAkB;;AALf,GAAA;;AASA,MAAMM,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACtB,QAAD,EAAc;AACjDgB,IAAAA,kBAAkB,GAAGhB,QAArBgB;AADK,GAAA;;AAIA,MAAMK,cAAc,GAAG,SAAjBA,cAAiB,GAAM;QAC5BE,aAAa,GAAG;QAChBC,UAAU,GAAG;QACbC,WAAW,GAAG;AAEpBnE,IAAAA,MAAM,CAACC,IAAPD,CAAYyD,WAAZzD,EAAyBE,OAAzBF,CAAiC,UAACoE,GAAD,EAAS;UAClCC,kBAAkB,GAAG1E,MAAM,CAAC2E,SAAP3E,CAAiB4E,sBAAjB5E,CAAwCyE,GAAxCzE;;UACvB0E,oBAAoB;AACtBJ,QAAAA,aAAa,CAACO,IAAdP,CAAmB,YAAM;iBAChBR,WAAW,CAACW,GAAD;AAClBC,UAAAA,kBAAkB,CAAC;AACjBI,YAAAA,UAAU,EAAVA;AADiB,WAAD,CAAlBJ;AAFF,SAAAJ;AADF,aAOO,IACLG,GAAG,CAACM,QAAJN,CAAa,MAAbA,KACAA,GAAG,CAACM,QAAJN,CAAa,OAAbA,CADAA,IAEAA,GAAG,CAACM,QAAJN,CAAa,OAAbA,CAHK,EAIL;AACAF,QAAAA,UAAU,CAACM,IAAXN,CAAgB,YAAM;iBACbT,WAAW,CAACW,GAAD;AADpB,SAAAF;AALK,OAAA,MAQA;AACLC,QAAAA,WAAW,CAACK,IAAZL,CAAiBC,GAAjBD;;AAlBJ,KAAAnE;;QAsBImE,WAAW,CAACQ,MAAZR,GAAqB,GAAG;AAC1BM,MAAAA,UAAU;;;;AAIZR,IAAAA,aAAa,CAAC/D,OAAd+D,CAAsB,UAACW,YAAD,EAAkB;AACtCA,MAAAA,YAAY;AADd,KAAAX;;QAIIC,UAAU,CAACS,QAAQ;AACrBE,MAAAA,YAAY;AACZX,MAAAA,UAAU,CAAChE,OAAXgE,CAAmB,UAACY,SAAD,EAAe;AAChCA,QAAAA,SAAS;AADX,OAAAZ;;;AAKFR,IAAAA,kBAAkB;AA3Cb,GAAA;;AA8CP,MAAMmB,YAAY,GAAG,SAAfA,YAAe,GAAM;QACnBE,KAAK,GAAGC,KAAK,CAACC,IAAND,CAAWrF,MAAM,CAACuF,MAAPvF,CAAcwF,QAAdxF,CAAuByF,oBAAvBzF,CAA4C,MAA5CA,CAAXqF;AACdD,IAAAA,KAAK,CAAC7E,OAAN6E,CAAc,UAACM,IAAD,EAAU;UAClBA,IAAI,CAACC,GAALD,KAAa,cAAc;YACvBzE,GAAG,GAAG,IAAId,GAAJ,CAAQuF,IAAI,CAACE,IAAb;AACZ3E,QAAAA,GAAG,CAAC4E,YAAJ5E,CAAiB6E,GAAjB7E,CAAqB,GAArBA,EAA0BW,IAAI,CAACC,GAALD,EAA1BX;AACAyE,QAAAA,IAAI,CAACE,IAALF,GAAYK,MAAM,CAAC9E,GAAD,CAAlByE;;AAJJ,KAAAN;AAFF,GAAA;;AAWA,MAAMN,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB9E,IAAAA,MAAM,CAACuF,MAAPvF,CAAcgG,QAAdhG,CAAuBiG,MAAvBjG,CAA8B,IAA9BA;AADF,GAAA;AC/EA;;;AAcA,MAAMkG,qBAAqB,GAAGzG,2BAA2B,CACvD+F,QAAQ,CAACQ,QAATR,CAAkBI,IADqC,EAEvD;kBACgB,kBAAA,KAAA,EAAc;UAAXO,IAAW,QAAXA;AACflC,MAAAA,aAAa,CAAC;AACZC,QAAAA,IAAI,EAAEiC,IADM;AAEZhC,QAAAA,SAAS,EAAE;AAFC,OAAD,CAAbF;AAFJ,KAAA;qBAOmB,qBAAA,MAAA,EAAc;UAAXkC,IAAW,SAAXA;AAClBlC,MAAAA,aAAa,CAAC;AACZC,QAAAA,IAAI,EAAEiC,IADM;AAEZhC,QAAAA,SAAS,EAAE;AAFC,OAAD,CAAbF;AARJ,KAAA;oBAakB,oBAAA,MAAA,EAAc;UAAXkC,IAAW,SAAXA;AACjBlC,MAAAA,aAAa,CAAC;AACZC,QAAAA,IAAI,EAAEiC,IADM;AAEZhC,QAAAA,SAAS,EAAE;AAFC,OAAD,CAAbF;;AAdJ,GAFuD,EAsBvD;AACErE,IAAAA,eAAe,EAAEC,QADnB;AAEEC,IAAAA,gBAAgB,EAAE,KAAK;AAFzB,GAtBuD,CAAzD;AA4BA,MACE0C,OADF,GAKI0D,qBALJ,CACE1D,OADF;AAAA,MAEEQ,UAFF,GAKIkD,qBALJ,CAEElD,UAFF;AAAA,MAGEF,iCAHF,GAKIoD,qBALJ,CAGEpD,iCAHF;AAAA,MAIED,mBAJF,GAKIqD,qBALJ,CAIErD,mBAJF;AAOAL,EAAAA,OAAO;AAEPxC,EAAAA,MAAM,CAACoG,6BAAPpG,GAAuC;AACrCwC,IAAAA,OAAO,EAAPA,OADqC;AAErCQ,IAAAA,UAAU,EAAVA,UAFqC;AAGrCH,IAAAA,mBAAmB,EAAnBA,mBAHqC;AAIrCC,IAAAA,iCAAiC,EAAjCA,iCAJqC;AAKrCkB,IAAAA,cAAc,EAAdA,cALqC;AAMrCC,IAAAA,aAAa,EAAbA,aANqC;AAOrCI,IAAAA,qBAAqB,EAArBA,qBAPqC;AAQrCD,IAAAA,cAAc,EAAdA,cARqC;AASrCX,IAAAA,mBAAmB,EAAnBA,mBATqC;AAUrCG,IAAAA,uBAAuB,EAAvBA;AAVqC,GAAvC5D;"
}