{
  "version": 3,
  "file": "jsenv-exploring-index.js",
  "sources": [
    "../src/internal/runtime/detectBrowser/util.js",
    "../src/internal/runtime/detectBrowser/detectAndroid.js",
    "../src/internal/runtime/detectBrowser/detectInternetExplorer.js",
    "../src/internal/runtime/detectBrowser/detectOpera.js",
    "../src/internal/runtime/detectBrowser/detectEdge.js",
    "../src/internal/runtime/detectBrowser/detectFirefox.js",
    "../src/internal/runtime/detectBrowser/detectChrome.js",
    "../src/internal/runtime/detectBrowser/detectSafari.js",
    "../src/internal/runtime/detectBrowser/detectElectron.js",
    "../src/internal/runtime/detectBrowser/detectIOS.js",
    "../src/internal/runtime/detectBrowser/detectBrowser.js",
    "../src/internal/semantic-versioning/valueToVersion.js",
    "../src/internal/semantic-versioning/versionCompare.js",
    "../src/internal/semantic-versioning/versionIsBelow.js",
    "../src/internal/semantic-versioning/findHighestVersion.js",
    "../src/internal/runtime/resolveGroup.js",
    "../src/internal/runtime/resolveBrowserGroup.js",
    "../helpers/babel/defineProperty/defineProperty.js",
    "../node_modules/@jsenv/logger/src/createDetailedMessage.js",
    "../src/internal/CONSTANTS.js",
    "../src/internal/runtime/computeCompileIdFromGroupId.js",
    "../helpers/babel/objectSpread2/objectSpread2.js",
    "../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../node_modules/@jsenv/cancellation/src/createCancellationToken.js",
    "../helpers/babel/typeof/typeof.js",
    "../node_modules/@jsenv/cancellation/src/cancelError.js",
    "../src/internal/memoize.js",
    "../src/internal/toolbar/util/fetching.js",
    "../src/internal/fetchUsingXHR.js",
    "../src/internal/fetch-browser.js",
    "../src/internal/exploring/fetchExploringJson.js",
    "../src/internal/toolbar/util/preferences.js",
    "../src/internal/toolbar/util/animation.js",
    "../src/internal/exploring/exploring.js"
  ],
  "sourcesContent": [
    "export const firstMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 0 ? match[1] || undefined : undefined\n}\n\nexport const secondMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 1 ? match[2] || undefined : undefined\n}\n\nexport const userAgentToVersion = (userAgent) => {\n  return firstMatch(/version\\/(\\d+(\\.?_?\\d+)+)/i, userAgent) || undefined\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectAndroid = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/(android)/i.test(userAgent)) {\n    return {\n      name: \"android\",\n      version: firstMatch(/Android (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectInternetExplorer = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/msie|trident/i.test(userAgent)) {\n    return {\n      name: \"ie\",\n      version: firstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch, userAgentToVersion } from \"./util.js\"\n\nexport const detectOpera = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  // opera below 13\n  if (/opera/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version:\n        userAgentToVersion(userAgent) || firstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  // opera above 13\n  if (/opr\\/|opios/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version: firstMatch(/(?:opr|opios)[\\s/](\\S+)/i, userAgent) || userAgentToVersion(userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { secondMatch } from \"./util.js\"\n\nexport const detectEdge = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/edg([ea]|ios)/i.test(userAgent)) {\n    return {\n      name: \"edge\",\n      version: secondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectFirefox = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/firefox|iceweasel|fxios/i.test(userAgent)) {\n    return {\n      name: \"firefox\",\n      version: firstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { userAgentToVersion, firstMatch } from \"./util.js\"\n\nexport const detectChrome = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/chromium/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version:\n        firstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent) ||\n        userAgentToVersion(userAgent),\n    }\n  }\n\n  if (/chrome|crios|crmo/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version: firstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { userAgentToVersion } from \"./util.js\"\n\nexport const detectSafari = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/safari|applewebkit/i.test(userAgent)) {\n    return {\n      name: \"safari\",\n      version: userAgentToVersion(userAgent),\n    }\n  }\n  return null\n}\n",
    "export const detectElectron = () => null // TODO\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectIOS = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/iPhone;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  if (/iPad;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "// https://github.com/Ahmdrza/detect-browser/blob/26254f85cf92795655a983bfd759d85f3de850c6/detect-browser.js#L1\n// https://github.com/lancedikson/bowser/blob/master/src/parser-browsers.js#L1\n\nimport { detectAndroid } from \"./detectAndroid.js\"\nimport { detectInternetExplorer } from \"./detectInternetExplorer.js\"\nimport { detectOpera } from \"./detectOpera.js\"\nimport { detectEdge } from \"./detectEdge.js\"\nimport { detectFirefox } from \"./detectFirefox.js\"\nimport { detectChrome } from \"./detectChrome.js\"\nimport { detectSafari } from \"./detectSafari.js\"\nimport { detectElectron } from \"./detectElectron.js\"\nimport { detectIOS } from \"./detectIOS.js\"\n\nconst detectorCompose = (detectors) => () => {\n  let i = 0\n  while (i < detectors.length) {\n    const detector = detectors[i]\n    i++\n    const result = detector()\n    if (result) {\n      return result\n    }\n  }\n  return null\n}\n\nconst detector = detectorCompose([\n  detectOpera,\n  detectInternetExplorer,\n  detectEdge,\n  detectFirefox,\n  detectChrome,\n  detectSafari,\n  detectElectron,\n  detectIOS,\n  detectAndroid,\n])\n\nexport const detectBrowser = () => {\n  const { name = \"other\", version = \"unknown\" } = detector() || {}\n\n  return {\n    name: normalizeName(name),\n    version: normalizeVersion(version),\n  }\n}\n\nconst normalizeName = (name) => {\n  return name.toLowerCase()\n}\n\nconst normalizeVersion = (version) => {\n  if (version.indexOf(\".\") > -1) {\n    const parts = version.split(\".\")\n    // remove extraneous .\n    return parts.slice(0, 3).join(\".\")\n  }\n\n  if (version.indexOf(\"_\") > -1) {\n    const parts = version.split(\"_\")\n    // remove extraneous _\n    return parts.slice(0, 3).join(\"_\")\n  }\n\n  return version\n}\n",
    "export const valueToVersion = (value) => {\n  if (typeof value === \"number\") {\n    return numberToVersion(value)\n  }\n\n  if (typeof value === \"string\") {\n    return stringToVersion(value)\n  }\n\n  throw new TypeError(createValueErrorMessage({ version: value }))\n}\n\nconst numberToVersion = (number) => {\n  return {\n    major: number,\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst stringToVersion = (string) => {\n  if (string.indexOf(\".\") > -1) {\n    const parts = string.split(\".\")\n    return {\n      major: Number(parts[0]),\n      minor: parts[1] ? Number(parts[1]) : 0,\n      patch: parts[2] ? Number(parts[2]) : 0,\n    }\n  }\n\n  if (isNaN(string)) {\n    return {\n      major: 0,\n      minor: 0,\n      patch: 0,\n    }\n  }\n\n  return {\n    major: Number(string),\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst createValueErrorMessage = ({ value }) => `value must be a number or a string.\nvalue: ${value}`\n",
    "import { valueToVersion } from \"./valueToVersion.js\"\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = valueToVersion(versionA)\n  const semanticVersionB = valueToVersion(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n",
    "import { versionCompare } from \"./versionCompare.js\"\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n",
    "import { versionIsBelow } from \"./versionIsBelow.js\"\n\nexport const findHighestVersion = (...values) => {\n  if (values.length === 0) throw new Error(`missing argument`)\n\n  return values.reduce((highestVersion, value) => {\n    if (versionIsBelow(highestVersion, value)) {\n      return value\n    }\n    return highestVersion\n  })\n}\n",
    "import { findHighestVersion } from \"../semantic-versioning/index.js\"\n\nexport const resolveGroup = ({ name, version }, groupMap) => {\n  return Object.keys(groupMap).find((compileIdCandidate) => {\n    const { runtimeCompatMap } = groupMap[compileIdCandidate]\n    if (name in runtimeCompatMap === false) {\n      return false\n    }\n    const versionForGroup = runtimeCompatMap[name]\n\n    const highestVersion = findHighestVersion(version, versionForGroup)\n    return highestVersion === version\n  })\n}\n",
    "import { detectBrowser } from \"./detectBrowser/detectBrowser.js\"\nimport { resolveGroup } from \"./resolveGroup.js\"\n\nexport const resolveBrowserGroup = (groupMap) => resolveGroup(detectBrowser(), groupMap)\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "export const createDetailedMessage = (message, details = {}) => {\n  let string = `${message}`\n\n  Object.keys(details).forEach((key) => {\n    const value = details[key]\n    string += `\n--- ${key} ---\n${\n  Array.isArray(value)\n    ? value.join(`\n`)\n    : value\n}`\n  })\n\n  return string\n}\n",
    "export const COMPILE_ID_BEST = \"best\"\n\nexport const COMPILE_ID_OTHERWISE = \"otherwise\"\n\nexport const COMPILE_ID_BUILD_GLOBAL = \"otherwise-build-global\"\n\nexport const COMPILE_ID_BUILD_GLOBAL_FILES = \"otherwise-build-global-files\"\n\nexport const COMPILE_ID_BUILD_COMMONJS = \"otherwise-build-commonjs\"\n\nexport const COMPILE_ID_BUILD_COMMONJS_FILES = \"otherwise-build-commonjs-files\"\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { COMPILE_ID_OTHERWISE } from \"../CONSTANTS.js\"\n\nexport const computeCompileIdFromGroupId = ({ groupId, groupMap }) => {\n  if (typeof groupId === \"undefined\") {\n    if (COMPILE_ID_OTHERWISE in groupMap) return COMPILE_ID_OTHERWISE\n\n    const keys = Object.keys(groupMap)\n    if (keys.length === 1) return keys[0]\n\n    throw new Error(createUnexpectedGroupIdMessage({ groupMap }))\n  }\n\n  if (groupId in groupMap === false)\n    throw new Error(createUnexpectedGroupIdMessage({ groupId, groupMap }))\n\n  return groupId\n}\n\nconst createUnexpectedGroupIdMessage = ({ compileId, groupMap }) =>\n  createDetailedMessage(`unexpected groupId.`, {\n    [\"expected compiled id\"]: Object.keys(groupMap),\n    [\"received compile id\"]: compileId,\n  })\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nexport default function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    var source = arguments[i] === null ? {} : arguments[i]\n    if (i % 2) {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\n// This function is different to \"Reflect.ownKeys\". The enumerableOnly\n// filters on symbol properties only. Returned string properties are always\n// enumerable. It is good to use in objectSpread.\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly)\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    // eslint-disable-next-line prefer-spread\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "export const createCancellationToken = () => {\n  const register = (callback) => {\n    if (typeof callback !== \"function\") {\n      throw new Error(`callback must be a function, got ${callback}`)\n    }\n\n    return {\n      callback,\n      unregister: () => {},\n    }\n  }\n\n  const throwIfRequested = () => undefined\n\n  return {\n    register,\n    cancellationRequested: false,\n    throwIfRequested,\n  }\n}\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const createCancelError = (reason) => {\n  const cancelError = new Error(`canceled because ${reason}`)\n  cancelError.name = \"CANCEL_ERROR\"\n  cancelError.reason = reason\n  return cancelError\n}\n\nexport const isCancelError = (value) => {\n  return value && typeof value === \"object\" && value.name === \"CANCEL_ERROR\"\n}\n\nexport const errorToCancelReason = (error) => {\n  if (!isCancelError(error)) return \"\"\n  return error.reason\n}\n",
    "export const memoize = (compute) => {\n  let memoized = false\n  let memoizedValue\n\n  const fnWithMemoization = (...args) => {\n    if (memoized) {\n      return memoizedValue\n    }\n    // if compute is recursive wait for it to be fully done before storing the lockValue\n    // so set locked later\n    memoizedValue = compute(...args)\n    memoized = true\n    return memoizedValue\n  }\n\n  fnWithMemoization.forget = () => {\n    const value = memoizedValue\n    memoized = false\n    memoizedValue = undefined\n    return value\n  }\n\n  return fnWithMemoization\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { memoize } from \"../../memoize.js\"\n\nconst fetchNative = async (\n  url,\n  { cancellationToken = createCancellationToken(), ...options } = {},\n) => {\n  const abortController = new AbortController()\n\n  let cancelError\n  cancellationToken.register((reason) => {\n    cancelError = reason\n    abortController.abort(reason)\n  })\n\n  let response\n  try {\n    response = await window.fetch(url, {\n      signal: abortController.signal,\n      ...options,\n    })\n  } catch (e) {\n    if (cancelError && e.name === \"AbortError\") {\n      throw cancelError\n    }\n    throw e\n  }\n\n  return response\n}\n\nconst fetchPolyfill = async (...args) => {\n  const { fetchUsingXHR } = await loadPolyfill()\n  return fetchUsingXHR(...args)\n}\n\nconst loadPolyfill = memoize(() => import(\"../../fetchUsingXHR.js\"))\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" && typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchPolyfill\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { createDetailedMessage } from \"@jsenv/logger\"\n// ideally we should do some window.fetch detection (ensuring it has cancellation) and accordingly\n// fallback to this polyfill (or even use an existing polyfill would be better)\n// https://github.com/github/fetch/blob/master/fetch.js\n\nexport const fetchUsingXHR = async (\n  url,\n  {\n    cancellationToken = createCancellationToken(),\n    method = \"GET\",\n    credentials = \"same-origin\",\n    headers = {},\n    body = null,\n  } = {},\n) => {\n  const headersPromise = createPromiseAndHooks()\n  const bodyPromise = createPromiseAndHooks()\n\n  const xhr = new XMLHttpRequest()\n\n  const failure = (error) => {\n    // if it was already resolved, we must reject the body promise\n    if (headersPromise.settled) {\n      bodyPromise.reject(error)\n    } else {\n      headersPromise.reject(error)\n    }\n  }\n\n  const cleanup = () => {\n    xhr.ontimeout = null\n    xhr.onerror = null\n    xhr.onload = null\n    xhr.onreadystatechange = null\n  }\n\n  xhr.ontimeout = () => {\n    cleanup()\n    failure(new Error(`xhr request timeout on ${url}.`))\n  }\n\n  xhr.onerror = (error) => {\n    cleanup()\n    // unfortunately with have no clue why it fails\n    // might be cors for instance\n    failure(createRequestError(error, { url }))\n  }\n\n  xhr.onload = () => {\n    cleanup()\n    bodyPromise.resolve()\n  }\n\n  cancellationToken.register((cancelError) => {\n    xhr.abort()\n    failure(cancelError)\n  })\n\n  xhr.onreadystatechange = () => {\n    // https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest/readyState\n    const { readyState } = xhr\n\n    if (readyState === 2) {\n      headersPromise.resolve()\n    } else if (readyState === 4) {\n      cleanup()\n      bodyPromise.resolve()\n    }\n  }\n\n  xhr.open(method, url, true)\n  Object.keys(headers).forEach((key) => {\n    xhr.setRequestHeader(key, headers[key])\n  })\n  xhr.withCredentials = computeWithCredentials({ credentials, url })\n  if (\"responseType\" in xhr && hasBlob) {\n    xhr.responseType = \"blob\"\n  }\n  xhr.send(body)\n\n  await headersPromise\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n  const responseUrl = \"responseURL\" in xhr ? xhr.responseURL : headers[\"x-request-url\"]\n  let responseStatus = xhr.status\n  const responseStatusText = xhr.statusText\n  const responseHeaders = getHeadersFromXHR(xhr)\n\n  const readBody = async () => {\n    await bodyPromise\n\n    const { status } = xhr\n    // in Chrome on file:/// URLs, status is 0\n    if (status === 0) {\n      responseStatus = 200\n    }\n\n    const body = \"response\" in xhr ? xhr.response : xhr.responseText\n\n    return {\n      responseBody: body,\n      responseBodyType: detectBodyType(body),\n    }\n  }\n\n  const text = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return blobToText(responseBody)\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as text\")\n    }\n    if (responseBodyType === \"dataView\") {\n      return arrayBufferToText(responseBody.buffer)\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return arrayBufferToText(responseBody)\n    }\n    // if (responseBodyType === \"text\" || responseBodyType === 'searchParams') {\n    //   return body\n    // }\n    return String(responseBody)\n  }\n\n  const json = async () => {\n    const responseText = await text()\n    return JSON.parse(responseText)\n  }\n\n  const blob = async () => {\n    if (!hasBlob) {\n      throw new Error(`blob not supported`)\n    }\n\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return responseBody\n    }\n    if (responseBodyType === \"dataView\") {\n      return new Blob([cloneBuffer(responseBody.buffer)])\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return new Blob([cloneBuffer(responseBody)])\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as blob\")\n    }\n    return new Blob([String(responseBody)])\n  }\n\n  const arrayBuffer = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"arrayBuffer\") {\n      return cloneBuffer(responseBody)\n    }\n    const responseBlob = await blob()\n    return blobToArrayBuffer(responseBlob)\n  }\n\n  const formData = async () => {\n    if (!hasFormData) {\n      throw new Error(`formData not supported`)\n    }\n    const responseText = await text()\n    return textToFormData(responseText)\n  }\n\n  return {\n    url: responseUrl,\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: responseHeaders,\n    text,\n    json,\n    blob,\n    arrayBuffer,\n    formData,\n  }\n}\n\nconst canUseBlob = () => {\n  if (typeof window.FileReader !== \"function\") return false\n\n  if (typeof window.Blob !== \"function\") return false\n\n  try {\n    // eslint-disable-next-line no-new\n    new Blob()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasBlob = canUseBlob()\n\nconst hasFormData = typeof window.FormData === \"function\"\n\nconst hasArrayBuffer = typeof window.ArrayBuffer === \"function\"\n\nconst hasSearchParams = typeof window.URLSearchParams === \"function\"\n\nconst createRequestError = (error, { url }) => {\n  return new Error(\n    createDetailedMessage(`error during xhr request on ${url}.`, {\n      [\"error stack\"]: error.stack,\n    }),\n  )\n}\n\nconst createPromiseAndHooks = () => {\n  let resolve\n  let reject\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      promise.settled = true\n      res(value)\n    }\n    reject = (value) => {\n      promise.settled = true\n      rej(value)\n    }\n  })\n  promise.resolve = resolve\n  promise.reject = reject\n  return promise\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst detectBodyType = (body) => {\n  if (!body) {\n    return \"\"\n  }\n  if (typeof body === \"string\") {\n    return \"text\"\n  }\n  if (hasBlob && Blob.prototype.isPrototypeOf(body)) {\n    return \"blob\"\n  }\n  if (hasFormData && FormData.prototype.isPrototypeOf(body)) {\n    return \"formData\"\n  }\n  if (hasArrayBuffer) {\n    if (hasBlob && isDataView(body)) {\n      return `dataView`\n    }\n    if (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body)) {\n      return `arrayBuffer`\n    }\n  }\n  if (hasSearchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n    return \"searchParams\"\n  }\n  return \"\"\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n\nconst hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n\nconst hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n\nconst isDataView = (obj) => {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nconst isArrayBufferView =\n  ArrayBuffer.isView ||\n  (() => {\n    const viewClasses = [\n      \"[object Int8Array]\",\n      \"[object Uint8Array]\",\n      \"[object Uint8ClampedArray]\",\n      \"[object Int16Array]\",\n      \"[object Uint16Array]\",\n      \"[object Int32Array]\",\n      \"[object Uint32Array]\",\n      \"[object Float32Array]\",\n      \"[object Float64Array]\",\n    ]\n\n    return (value) => {\n      return value && viewClasses.includes(Object.prototype.toString.call(value))\n    }\n  })()\n\nconst textToFormData = (text) => {\n  const form = new FormData()\n  text\n    .trim()\n    .split(\"&\")\n    .forEach(function (bytes) {\n      if (bytes) {\n        const split = bytes.split(\"=\")\n        const name = split.shift().replace(/\\+/g, \" \")\n        const value = split.join(\"=\").replace(/\\+/g, \" \")\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nconst blobToArrayBuffer = async (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nconst blobToText = (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nconst arrayBufferToText = (arrayBuffer) => {\n  const view = new Uint8Array(arrayBuffer)\n  const chars = new Array(view.length)\n  let i = 0\n  while (i < view.length) {\n    chars[i] = String.fromCharCode(view[i])\n\n    i++\n  }\n  return chars.join(\"\")\n}\n\nconst fileReaderReady = (reader) => {\n  return new Promise(function (resolve, reject) {\n    reader.onload = function () {\n      resolve(reader.result)\n    }\n    reader.onerror = function () {\n      reject(reader.error)\n    }\n  })\n}\n\nconst cloneBuffer = (buffer) => {\n  if (buffer.slice) {\n    return buffer.slice(0)\n  }\n  const view = new Uint8Array(buffer.byteLength)\n  view.set(new Uint8Array(buffer))\n  return view.buffer\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { fetchUsingXHR } from \"./fetchUsingXHR.js\"\n\nconst fetchNative = async (\n  url,\n  { cancellationToken = createCancellationToken(), mode = \"cors\", ...options } = {},\n) => {\n  const abortController = new AbortController()\n\n  let cancelError\n  cancellationToken.register((reason) => {\n    cancelError = reason\n    abortController.abort(reason)\n  })\n\n  let response\n  try {\n    response = await window.fetch(url, {\n      signal: abortController.signal,\n      mode,\n      ...options,\n    })\n  } catch (e) {\n    if (cancelError && e.name === \"AbortError\") {\n      throw cancelError\n    }\n    throw e\n  }\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: \"\",\n    headers: responseToHeaders(response),\n    text: () => response.text(),\n    json: () => response.json(),\n    blob: () => response.blob(),\n    arrayBuffer: () => response.arrayBuffer(),\n    formData: () => response.formData(),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" && typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchUsingXHR\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { isCancelError } from \"@jsenv/cancellation/main.browser.js\"\nimport { fetchUrl } from \"../fetch-browser.js\"\n\nexport const fetchExploringJson = async ({ cancellationToken } = {}) => {\n  try {\n    const exploringJsonResponse = await fetchUrl(\"/.jsenv/exploring.json\", {\n      headers: { \"x-jsenv\": \"1\" },\n      cancellationToken,\n    })\n    const exploringConfig = await exploringJsonResponse.json()\n    return exploringConfig\n  } catch (e) {\n    if (isCancelError(e)) {\n      throw e\n    }\n    throw new Error(\n      createDetailedMessage(`Cannot communicate with exploring server due to a network error`, {\n        [\"error stack\"]: e.stack,\n      }),\n    )\n  }\n}\n",
    "export const createPreference = (name) => {\n  return {\n    has: () => localStorage.hasOwnProperty(name),\n    get: () =>\n      localStorage.hasOwnProperty(name) ? JSON.parse(localStorage.getItem(name)) : undefined,\n    set: (value) => localStorage.setItem(name, JSON.stringify(value)),\n  }\n}\n",
    "import { setStyles } from \"./dom.js\"\n\nconst animateFallback = () => {\n  return Promise.resolve()\n}\n\nconst animateNative = (node, keyframes, { cancellationToken, ...options } = {}) => {\n  const animation = node.animate(keyframes, options)\n  if (cancellationToken) {\n    cancellationToken.register(() => {\n      animation.cancel()\n    })\n  }\n  return new Promise((resolve) => {\n    animation.onfinish = resolve\n  })\n}\n\nexport const canUseAnimation = () => typeof HTMLElement.prototype.animate === \"function\"\n\nexport const animateElement = canUseAnimation() ? animateNative : animateFallback\n\nexport const fadeIn = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 0,\n      },\n      {\n        opacity: 1,\n      },\n    ],\n    options,\n  )\n\nexport const fadeOut = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 1,\n      },\n      {\n        opacity: 0,\n      },\n    ],\n    options,\n  )\n\nexport const move = (fromNode, toNode, options) => {\n  const fromComputedStyle = window.getComputedStyle(fromNode)\n  const toComputedStyle = window.getComputedStyle(toNode)\n  // get positions of input in toolbar and aElement\n  const fromPosition = fromNode.getBoundingClientRect()\n  const toPosition = toNode.getBoundingClientRect()\n\n  // we'll do the animation in a div preventing overflow and pointer events\n  const div = document.createElement(\"div\")\n  div.style.position = \"absolute\"\n  div.style.left = 0\n  div.style.top = 0\n  div.style.width = `${document.documentElement.scrollWidth}px`\n  div.style.height = `${document.documentElement.scrollHeight}px`\n  div.style.overflow = \"hidden\"\n  div.style.pointerEvents = \"none\"\n\n  const documentScroll = {\n    left: window.pageXOffset || document.documentElement.scrollLeft,\n    top: window.pageYOffset || document.documentElement.scrollTop,\n  }\n\n  // clone node and style it\n  const copy = fromNode.cloneNode(true)\n  copy.style.position = \"absolute\"\n  copy.style.left = `${documentScroll.left + fromPosition.left}px`\n  copy.style.top = `${documentScroll.top + fromPosition.top}px`\n  copy.style.maxWidth = `${fromPosition.right - fromPosition.left}px`\n  copy.style.overflow = toComputedStyle.overflow\n  copy.style.textOverflow = toComputedStyle.textOverflow\n  div.appendChild(copy)\n  document.body.appendChild(div)\n\n  const left = toPosition.left - fromPosition.left - (parseInt(fromComputedStyle.paddingLeft) || 0)\n  const top = toPosition.top - fromPosition.top - (parseInt(fromComputedStyle.paddingTop) || 0)\n  // define final position of new element and the duration\n  const translate = `translate(${left}px, ${top}px)`\n\n  // animate new element\n  return animateElement(\n    copy,\n    [\n      {\n        transform: \"translate(0px, 0px)\",\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n        fontSize: fromComputedStyle.fontSize,\n        height: `${fromPosition.bottom - fromPosition.top}px`,\n        width: \"100%\",\n      },\n      {\n        offset: 0.9,\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n      },\n      {\n        transform: translate,\n        backgroundColor: toComputedStyle.backgroundColor,\n        color: toComputedStyle.color,\n        fontSize: toComputedStyle.fontSize,\n        height: `${toPosition.bottom - toPosition.top}px`,\n        width: toComputedStyle.width,\n      },\n    ],\n    options,\n  ).then(() => {\n    div.parentNode.removeChild(div)\n  })\n}\n\n// the whole point of this toolbar animation wass to flight a visual imperfection when it's done by css transition.\n// This imperfection is a white line sometimes flickering at the bottom of the page.\n// It got fixed by removing the usage of calc(100vh - 40px)\n// It was hapenning in chrome, safari but not inside Firefox\n// I assume it's because Firefox does not read parent element min-height while\n// chrome use it to compute min-height: 100%\nexport const createToolbarAnimation = () => {\n  const collapsedState = {\n    \"#page\": { paddingBottom: 0 },\n    \"footer\": { height: 0 },\n    \"#toolbar\": { visibility: \"hidden\" },\n  }\n  const expandedState = {\n    \"#page\": { paddingBottom: \"40px\" },\n    \"footer\": { height: \"40px\" },\n    \"#toolbar\": { visibility: \"visible\" },\n  }\n  const expandTransition = transit(collapsedState, expandedState, { duration: 300 })\n\n  const expand = () => {\n    expandTransition.play()\n  }\n\n  const collapse = () => {\n    expandTransition.reverse()\n  }\n\n  return { expand, collapse }\n}\n\nexport const transit = (\n  fromState,\n  toState,\n  { commitStyles = true, fill = \"both\", duration = 300 } = {},\n) => {\n  const steps = []\n  Object.keys(fromState).forEach((selector) => {\n    const fromStyles = {}\n    const toStyles = {}\n    const element = document.querySelector(selector)\n\n    const keyframes = []\n    const fromProperties = fromState[selector]\n    const toProperties = toState[selector]\n    Object.keys(fromProperties).forEach((propertyName) => {\n      const from = fromProperties[propertyName]\n      const to = toProperties[propertyName]\n      fromStyles[propertyName] = from\n      toStyles[propertyName] = to\n    })\n    keyframes.push(fromStyles, toStyles)\n\n    let animation\n    if (canUseAnimation()) {\n      const effect = new KeyframeEffect(element, keyframes, { fill, duration })\n      animation = new Animation(effect)\n    } else {\n      animation = {\n        playbackRate: 1,\n        play: () => {\n          animation.onfinish()\n        },\n        reverse: () => {\n          animation.playbackRate = -1\n          animation.onfinish()\n        },\n        finish: () => {},\n        onfinish: () => {},\n      }\n    }\n\n    steps.push({\n      element,\n      animation,\n      fromStyles,\n      toStyles,\n    })\n  })\n\n  const play = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, toStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, toStyles)\n            }\n            resolve()\n          }\n          if (animation.playbackRate === -1) {\n            animation.reverse()\n          } else {\n            animation.play()\n          }\n        })\n      }),\n    )\n  }\n\n  const reverse = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, fromStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, fromStyles)\n            }\n            resolve()\n          }\n          animation.reverse()\n        })\n      }),\n    )\n  }\n\n  const finish = async () => {\n    steps.forEach(({ animation }) => {\n      animation.finish()\n    })\n  }\n\n  return { play, reverse, finish }\n}\n\nexport const startJavaScriptAnimation = ({\n  duration = 300,\n  timingFunction = (t) => t,\n  onProgress = () => {},\n  onCancel = () => {},\n  onComplete = () => {},\n}) => {\n  if (isNaN(duration)) {\n    // console.warn(`duration must be a number, received ${duration}`)\n    return () => {}\n  }\n  duration = parseInt(duration, 10)\n  const startMs = performance.now()\n  let currentRequestAnimationFrameId\n  let done = false\n  let rawProgress = 0\n  let progress = 0\n  const handler = () => {\n    currentRequestAnimationFrameId = null\n    const nowMs = performance.now()\n    rawProgress = Math.min((nowMs - startMs) / duration, 1)\n    progress = timingFunction(rawProgress)\n    done = rawProgress === 1\n    onProgress({\n      done,\n      rawProgress,\n      progress,\n    })\n    if (done) {\n      onComplete()\n    } else {\n      currentRequestAnimationFrameId = window.requestAnimationFrame(handler)\n    }\n  }\n  handler()\n  const stop = () => {\n    if (currentRequestAnimationFrameId) {\n      window.cancelAnimationFrame(currentRequestAnimationFrameId)\n      currentRequestAnimationFrameId = null\n    }\n    if (!done) {\n      done = true\n      onCancel({\n        rawProgress,\n        progress,\n      })\n    }\n  }\n  return stop\n}\n",
    "import { resolveBrowserGroup } from \"../runtime/resolveBrowserGroup.js\"\nimport { computeCompileIdFromGroupId } from \"../runtime/computeCompileIdFromGroupId.js\"\nimport { fetchUrl } from \"../toolbar/util/fetching.js\"\nimport { fetchExploringJson } from \"./fetchExploringJson.js\"\nimport { createPreference } from \"../toolbar/util/preferences.js\"\nimport { startJavaScriptAnimation } from \"../toolbar/util/animation.js\"\n\nconst fetchJSON = async (url, options) => {\n  const response = await fetchUrl(url, options)\n  const json = await response.json()\n  return json\n}\n\nconst groupPreference = createPreference(\"group\")\n\nconst run = async () => {\n  const {\n    projectDirectoryUrl,\n    explorableConfig,\n    outDirectoryRelativeUrl,\n  } = await fetchExploringJson()\n\n  const files = await fetchJSON(`/.jsenv/explorables.json`, {\n    method: \"GET\",\n    headers: {\n      \"x-jsenv\": \"1\",\n    },\n  })\n\n  const compileServerOrigin = document.location.origin\n  const outDirectoryUrl = String(new URL(outDirectoryRelativeUrl, compileServerOrigin))\n  const groupMapUrl = String(new URL(\"groupMap.json\", outDirectoryUrl))\n  const groupMap = await fetchJSON(groupMapUrl)\n  const compileId = computeCompileIdFromGroupId({\n    groupId: resolveBrowserGroup(groupMap),\n    groupMap,\n  })\n\n  const renderHtml = () => {\n    const fileListElement = document.querySelector(`[data-page=\"file-list\"]`).cloneNode(true)\n    const directoryName = directoryUrlToDirectoryName(projectDirectoryUrl)\n    const span = fileListElement.querySelector(\"h2 span\")\n    span.title = projectDirectoryUrl\n    span.textContent = directoryName\n\n    const h4 = fileListElement.querySelector(\"h4\")\n\n    const ul = fileListElement.querySelector(\"ul\")\n    ul.innerHTML = files\n      .map(\n        (file) =>\n          `<li>\n          <a\n            class=\"execution-link\"\n            data-relative-url=${file.relativeUrl}\n            href=${relativeUrlToCompiledUrl(file.relativeUrl)}\n          >\n            ${file.relativeUrl}\n          </a>\n        </li>`,\n      )\n      .join(\"\")\n\n    const groupFieldset = fileListElement.querySelector(\"#filter-group-set\")\n    const groupNames = Object.keys(explorableConfig)\n    groupFieldset.innerHTML = groupNames\n      .map(\n        (key) => `<label data-contains-hidden-input class=\"item\">\n  <input type=\"radio\" name=\"filter-group\" value=\"${key}\"/>\n  <span>${key}</span>\n</label>`,\n      )\n      .join(\"\")\n\n    const currentGroup = groupPreference.has() ? groupPreference.get() : groupNames[0]\n    Array.from(groupFieldset.querySelectorAll(\"input\")).forEach((inputRadio) => {\n      inputRadio.checked = inputRadio.value === currentGroup\n      inputRadio.onchange = () => {\n        if (inputRadio.checked) {\n          groupPreference.set(inputRadio.value)\n          enableGroup(inputRadio.value)\n        }\n      }\n    })\n\n    const enableGroup = (groupName) => {\n      const arrayOfElementToShow = []\n      const arrayOfElementToHide = []\n      files.forEach((file) => {\n        const fileLink = fileListElement.querySelector(`a[data-relative-url=\"${file.relativeUrl}\"]`)\n        const fileLi = fileLink.parentNode\n        if (file.meta[groupName]) {\n          arrayOfElementToShow.push(fileLi)\n        } else {\n          arrayOfElementToHide.push(fileLi)\n        }\n      })\n      arrayOfElementToShow.forEach((element) => {\n        element.removeAttribute(\"data-force-hide\")\n      })\n      arrayOfElementToHide.forEach((element) => {\n        element.setAttribute(\"data-force-hide\", \"\")\n      })\n\n      h4.innerHTML =\n        arrayOfElementToShow.length === 0\n          ? `No file found.\n              Config for this section: <pre>${JSON.stringify(\n                explorableConfig[groupName],\n                null,\n                \"  \",\n              )}</pre>`\n          : `${arrayOfElementToShow.length} files found. Click on the one you want to execute`\n    }\n    enableGroup(currentGroup)\n\n    document.querySelector(\"main\").appendChild(fileListElement)\n    makeMenuScrollable()\n  }\n\n  const relativeUrlToCompiledUrl = (relativeUrl) => {\n    return `${compileServerOrigin}/${outDirectoryRelativeUrl}${compileId}/${relativeUrl}`\n  }\n\n  const makeMenuScrollable = () => {\n    const getMenuWrapperSize = () => {\n      return document.querySelector(\".menu-wrapper\").getBoundingClientRect().width\n    }\n    let menuWrapperSize = getMenuWrapperSize()\n\n    const getMenuSize = () => {\n      return document.querySelector(\".menu\").getBoundingClientRect().width\n    }\n    let menuSize = getMenuSize()\n\n    const menuVisibleSize = menuWrapperSize\n    let menuInvisibleSize = menuSize - menuVisibleSize\n\n    const getMenuPosition = () => {\n      return document.querySelector(\".menu-wrapper\").scrollLeft\n    }\n\n    const scrollDuration = 300\n    const leftPaddle = document.querySelector(\".left-paddle\")\n    const rightPaddle = document.querySelector(\".right-paddle\")\n\n    const handleMenuScroll = () => {\n      menuInvisibleSize = menuSize - menuWrapperSize\n      const menuPosition = getMenuPosition()\n      const menuEndOffset = menuInvisibleSize\n\n      // show & hide the paddles, depending on scroll position\n      if (menuPosition <= 0 && menuEndOffset <= 0) {\n        // hide both paddles if the window is large enough to display all tabs\n        leftPaddle.classList.add(\"hidden\")\n        rightPaddle.classList.add(\"hidden\")\n      } else if (menuPosition <= 0) {\n        leftPaddle.classList.add(\"hidden\")\n        rightPaddle.classList.remove(\"hidden\")\n      } else if (menuPosition < Math.floor(menuEndOffset)) {\n        // show both paddles in the middle\n        leftPaddle.classList.remove(\"hidden\")\n        rightPaddle.classList.remove(\"hidden\")\n      } else if (menuPosition >= Math.floor(menuEndOffset)) {\n        leftPaddle.classList.remove(\"hidden\")\n        rightPaddle.classList.add(\"hidden\")\n      }\n    }\n    handleMenuScroll()\n\n    window.onresize = () => {\n      menuWrapperSize = getMenuWrapperSize()\n      menuSize = getMenuSize()\n      handleMenuScroll()\n    }\n\n    // finally, what happens when we are actually scrolling the menu\n    document.querySelector(\".menu-wrapper\").onscroll = () => {\n      handleMenuScroll()\n    }\n\n    // scroll to left\n    rightPaddle.onclick = () => {\n      const scrollStart = document.querySelector(\".menu-wrapper\").scrollLeft\n      const scrollEnd = scrollStart + menuWrapperSize\n      startJavaScriptAnimation({\n        duration: scrollDuration,\n        onProgress: ({ progress }) => {\n          document.querySelector(\".menu-wrapper\").scrollLeft =\n            scrollStart + (scrollEnd - scrollStart) * progress\n        },\n      })\n    }\n\n    // scroll to right\n    leftPaddle.onclick = () => {\n      const scrollStart = document.querySelector(\".menu-wrapper\").scrollLeft\n      const scrollEnd = scrollStart - menuWrapperSize\n      startJavaScriptAnimation({\n        duration: scrollDuration,\n        onProgress: ({ progress }) => {\n          document.querySelector(\".menu-wrapper\").scrollLeft =\n            scrollStart + (scrollEnd - scrollStart) * progress\n        },\n      })\n    }\n  }\n\n  const directoryUrlToDirectoryName = (directoryUrl) => {\n    const slashLastIndex = directoryUrl.lastIndexOf(\n      \"/\",\n      // ignore last slash\n      directoryUrl.length - 2,\n    )\n    if (slashLastIndex === -1) return \"\"\n\n    return directoryUrl.slice(slashLastIndex + 1)\n  }\n\n  renderHtml()\n}\n\nrun()\n"
  ],
  "names": [
    "firstMatch",
    "regexp",
    "string",
    "match",
    "length",
    "undefined",
    "secondMatch",
    "userAgentToVersion",
    "userAgent",
    "detectAndroid",
    "navigatorToBrowser",
    "window",
    "navigator",
    "appVersion",
    "test",
    "name",
    "version",
    "detectInternetExplorer",
    "userAgentToBrowser",
    "detectOpera",
    "detectEdge",
    "detectFirefox",
    "detectChrome",
    "detectSafari",
    "detectElectron",
    "detectIOS",
    "detectorCompose",
    "detectors",
    "i",
    "detector",
    "result",
    "detectBrowser",
    "normalizeName",
    "normalizeVersion",
    "toLowerCase",
    "indexOf",
    "parts",
    "split",
    "slice",
    "join",
    "valueToVersion",
    "value",
    "numberToVersion",
    "stringToVersion",
    "TypeError",
    "createValueErrorMessage",
    "number",
    "major",
    "minor",
    "patch",
    "Number",
    "isNaN",
    "versionCompare",
    "versionA",
    "versionB",
    "semanticVersionA",
    "semanticVersionB",
    "majorDiff",
    "minorDiff",
    "patchDiff",
    "versionIsBelow",
    "versionSupposedBelow",
    "versionSupposedAbove",
    "findHighestVersion",
    "values",
    "Error",
    "reduce",
    "highestVersion",
    "resolveGroup",
    "groupMap",
    "Object",
    "keys",
    "find",
    "compileIdCandidate",
    "runtimeCompatMap",
    "versionForGroup",
    "resolveBrowserGroup",
    "obj",
    "key",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "createDetailedMessage",
    "message",
    "details",
    "forEach",
    "Array",
    "isArray",
    "COMPILE_ID_OTHERWISE",
    "computeCompileIdFromGroupId",
    "groupId",
    "createUnexpectedGroupIdMessage",
    "compileId",
    "target",
    "arguments",
    "source",
    "ownKeys",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "getOwnPropertyDescriptor",
    "object",
    "enumerableOnly",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "push",
    "apply",
    "excluded",
    "sourceKeys",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "prototype",
    "propertyIsEnumerable",
    "call",
    "createCancellationToken",
    "register",
    "callback",
    "unregister",
    "throwIfRequested",
    "cancellationRequested",
    "nativeTypeOf",
    "customTypeOf",
    "Symbol",
    "constructor",
    "iterator",
    "isCancelError",
    "memoize",
    "compute",
    "memoized",
    "memoizedValue",
    "fnWithMemoization",
    "forget",
    "_await",
    "then",
    "direct",
    "Promise",
    "resolve",
    "fetchNative",
    "url",
    "cancellationToken",
    "options",
    "abortController",
    "AbortController",
    "cancelError",
    "reason",
    "abort",
    "response",
    "fetch",
    "signal",
    "e",
    "_catch",
    "body",
    "recover",
    "fetchPolyfill",
    "args",
    "loadPolyfill",
    "fetchUsingXHR",
    "_continue",
    "f",
    "reject",
    "fetchUrl",
    "method",
    "credentials",
    "headers",
    "headersPromise",
    "createPromiseAndHooks",
    "bodyPromise",
    "xhr",
    "XMLHttpRequest",
    "failure",
    "error",
    "settled",
    "cleanup",
    "ontimeout",
    "onerror",
    "onload",
    "onreadystatechange",
    "createRequestError",
    "readyState",
    "open",
    "setRequestHeader",
    "withCredentials",
    "computeWithCredentials",
    "hasBlob",
    "responseType",
    "send",
    "responseUrl",
    "responseURL",
    "responseStatus",
    "status",
    "responseStatusText",
    "statusText",
    "responseHeaders",
    "getHeadersFromXHR",
    "readBody",
    "responseText",
    "responseBody",
    "responseBodyType",
    "detectBodyType",
    "text",
    "blobToText",
    "arrayBufferToText",
    "buffer",
    "String",
    "json",
    "JSON",
    "parse",
    "blob",
    "Blob",
    "cloneBuffer",
    "arrayBuffer",
    "blobToArrayBuffer",
    "formData",
    "hasFormData",
    "textToFormData",
    "canUseBlob",
    "FileReader",
    "FormData",
    "hasArrayBuffer",
    "ArrayBuffer",
    "hasSearchParams",
    "URLSearchParams",
    "stack",
    "promise",
    "res",
    "rej",
    "originSameAsGlobalOrigin",
    "location",
    "globalOrigin",
    "origin",
    "hrefToOrigin",
    "isPrototypeOf",
    "isDataView",
    "isArrayBufferView",
    "headerMap",
    "headersString",
    "getAllResponseHeaders",
    "lines",
    "trim",
    "line",
    "shift",
    "href",
    "scheme",
    "hrefToScheme",
    "secondProtocolSlashIndex",
    "pathnameSlashIndex",
    "colonIndex",
    "DataView",
    "isView",
    "viewClasses",
    "includes",
    "toString",
    "form",
    "bytes",
    "replace",
    "append",
    "decodeURIComponent",
    "reader",
    "fileReaderReady",
    "readAsArrayBuffer",
    "readAsText",
    "view",
    "Uint8Array",
    "chars",
    "fromCharCode",
    "byteLength",
    "set",
    "mode",
    "responseToHeaders",
    "fetchExploringJson",
    "exploringJsonResponse",
    "createPreference",
    "has",
    "localStorage",
    "hasOwnProperty",
    "get",
    "getItem",
    "setItem",
    "stringify",
    "startJavaScriptAnimation",
    "duration",
    "timingFunction",
    "t",
    "onProgress",
    "onCancel",
    "onComplete",
    "parseInt",
    "startMs",
    "performance",
    "now",
    "currentRequestAnimationFrameId",
    "done",
    "rawProgress",
    "progress",
    "handler",
    "nowMs",
    "Math",
    "min",
    "requestAnimationFrame",
    "stop",
    "cancelAnimationFrame",
    "fetchJSON",
    "_async",
    "groupPreference",
    "_call",
    "run",
    "projectDirectoryUrl",
    "explorableConfig",
    "outDirectoryRelativeUrl",
    "files",
    "compileServerOrigin",
    "document",
    "outDirectoryUrl",
    "URL",
    "groupMapUrl",
    "renderHtml",
    "fileListElement",
    "querySelector",
    "cloneNode",
    "directoryName",
    "directoryUrlToDirectoryName",
    "span",
    "title",
    "textContent",
    "h4",
    "ul",
    "innerHTML",
    "map",
    "file",
    "relativeUrl",
    "relativeUrlToCompiledUrl",
    "groupFieldset",
    "groupNames",
    "currentGroup",
    "from",
    "querySelectorAll",
    "inputRadio",
    "checked",
    "onchange",
    "enableGroup",
    "groupName",
    "arrayOfElementToShow",
    "arrayOfElementToHide",
    "fileLink",
    "fileLi",
    "parentNode",
    "meta",
    "element",
    "removeAttribute",
    "setAttribute",
    "appendChild",
    "makeMenuScrollable",
    "getMenuWrapperSize",
    "getBoundingClientRect",
    "width",
    "menuWrapperSize",
    "getMenuSize",
    "menuSize",
    "menuVisibleSize",
    "menuInvisibleSize",
    "getMenuPosition",
    "scrollLeft",
    "scrollDuration",
    "leftPaddle",
    "rightPaddle",
    "handleMenuScroll",
    "menuPosition",
    "menuEndOffset",
    "classList",
    "add",
    "remove",
    "floor",
    "onresize",
    "onscroll",
    "onclick",
    "scrollStart",
    "scrollEnd",
    "directoryUrl",
    "slashLastIndex",
    "lastIndexOf"
  ],
  "mappings": "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"
}