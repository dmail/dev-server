{
  "version": 3,
  "file": "jsenv-node-system.cjs",
  "sources": [
    "../helpers/babel/defineProperty/defineProperty.js",
    "../helpers/babel/objectSpread2/objectSpread2.js",
    "../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../helpers/babel/typeof/typeof.js",
    "../node_modules/@jsenv/import-map/src/internal/assertImportMap.js",
    "../node_modules/@jsenv/import-map/src/internal/hasScheme.js",
    "../node_modules/@jsenv/import-map/src/internal/urlToScheme.js",
    "../node_modules/@jsenv/import-map/src/internal/urlToPathname.js",
    "../node_modules/@jsenv/import-map/src/internal/urlToOrigin.js",
    "../node_modules/@jsenv/import-map/src/internal/pathnameToParentPathname.js",
    "../node_modules/@jsenv/import-map/src/resolveUrl.js",
    "../node_modules/@jsenv/import-map/src/internal/tryUrlResolution.js",
    "../node_modules/@jsenv/import-map/src/resolveSpecifier.js",
    "../node_modules/@jsenv/import-map/src/sortImportMap.js",
    "../node_modules/@jsenv/import-map/src/normalizeImportMap.js",
    "../node_modules/@jsenv/import-map/src/internal/pathnameToExtension.js",
    "../node_modules/@jsenv/import-map/src/applyImportMap.js",
    "../node_modules/@jsenv/import-map/src/resolveImport.js",
    "../src/internal/bundling/import-meta-commonjs.js",
    "../src/internal/require.js",
    "../src/internal/fetchUrl.js",
    "../helpers/babel/arrayLikeToArray/arrayLikeToArray.js",
    "../helpers/babel/arrayWithoutHoles/arrayWithoutHoles.js",
    "../helpers/babel/iterableToArray/iterableToArray.js",
    "../helpers/babel/unsupportedIterableToArray/unsupportedIterableToArray.js",
    "../helpers/babel/nonIterableSpread/nonIterableSpread.js",
    "../helpers/babel/toConsumableArray/toConsumableArray.js",
    "../src/internal/error-stack-remapping/stackToString.js",
    "../src/internal/dataUrl.utils.js",
    "../src/internal/sourceMappingURLUtils.js",
    "../src/internal/filePathUtils.js",
    "../src/internal/error-stack-remapping/remapCallSite.js",
    "../src/internal/error-stack-remapping/getOriginalStackString.js",
    "../src/internal/error-stack-remapping/installErrorStackRemapping.js",
    "../src/internal/error-stack-remapping/installNodeErrorStackRemapping.js",
    "../helpers/babel/arrayWithHoles/arrayWithHoles.js",
    "../helpers/babel/iterableToArrayLimit/iterableToArrayLimit.js",
    "../helpers/babel/nonIterableRest/nonIterableRest.js",
    "../helpers/babel/slicedToArray/slicedToArray.js",
    "../node_modules/@jsenv/uneval/src/internal/isComposite.js",
    "../node_modules/@jsenv/uneval/src/internal/global-value-path.js",
    "../node_modules/@jsenv/uneval/src/internal/decompose.js",
    "../node_modules/@jsenv/uneval/src/internal/sortRecipe.js",
    "../node_modules/@jsenv/uneval/src/internal/escapeString.js",
    "../node_modules/@jsenv/uneval/src/uneval.js",
    "../src/internal/memoize.js",
    "../src/internal/runtime/createNodeRuntime/fetchSource.js",
    "../src/internal/CONSTANTS.js",
    "../src/internal/runtime/computeCompileIdFromGroupId.js",
    "../src/internal/runtime/detectNode/detectNode.js",
    "../src/internal/semantic-versioning/valueToVersion.js",
    "../src/internal/semantic-versioning/versionCompare.js",
    "../src/internal/semantic-versioning/versionIsBelow.js",
    "../src/internal/semantic-versioning/findHighestVersion.js",
    "../src/internal/runtime/resolveGroup.js",
    "../src/internal/runtime/resolveNodeGroup.js",
    "../src/internal/runtime/s.js",
    "../src/internal/runtime/module-registration.js",
    "../src/internal/runtime/valueInstall.js",
    "../src/internal/runtime/createNodeRuntime/isNativeNodeModuleBareSpecifier.js",
    "../src/internal/runtime/createNodeRuntime/evalSource.js",
    "../src/internal/runtime/createNodeRuntime/createNodeSystem.js",
    "../src/internal/runtime/createNodeRuntime/createNodeRuntime.js",
    "../src/nodeRuntime.js",
    "../src/internal/node-launcher/node-js-file.js"
  ],
  "sourcesContent": [
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nexport default function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    var source = arguments[i] === null ? {} : arguments[i]\n    if (i % 2) {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\n// This function is different to \"Reflect.ownKeys\". The enumerableOnly\n// filters on symbol properties only. Returned string properties are always\n// enumerable. It is good to use in objectSpread.\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly)\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    // eslint-disable-next-line prefer-spread\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const assertImportMap = (value) => {\n  if (value === null) {\n    throw new TypeError(`an importMap must be an object, got null`)\n  }\n\n  const type = typeof value\n  if (type !== \"object\") {\n    throw new TypeError(`an importMap must be an object, received ${value}`)\n  }\n\n  if (Array.isArray(value)) {\n    throw new TypeError(`an importMap must be an object, received array ${value}`)\n  }\n}\n",
    "export const hasScheme = (string) => {\n  return /^[a-zA-Z]{2,}:/.test(string)\n}\n",
    "export const urlToScheme = (urlString) => {\n  const colonIndex = urlString.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return urlString.slice(0, colonIndex)\n}\n",
    "import { urlToScheme } from \"./urlToScheme.js\"\n\nexport const urlToPathname = (urlString) => {\n  return ressourceToPathname(urlToRessource(urlString))\n}\n\nconst urlToRessource = (urlString) => {\n  const scheme = urlToScheme(urlString)\n\n  if (scheme === \"file\") {\n    return urlString.slice(\"file://\".length)\n  }\n\n  if (scheme === \"https\" || scheme === \"http\") {\n    // remove origin\n    const afterProtocol = urlString.slice(scheme.length + \"://\".length)\n    const pathnameSlashIndex = afterProtocol.indexOf(\"/\", \"://\".length)\n    return afterProtocol.slice(pathnameSlashIndex)\n  }\n\n  return urlString.slice(scheme.length + 1)\n}\n\nconst ressourceToPathname = (ressource) => {\n  const searchSeparatorIndex = ressource.indexOf(\"?\")\n  return searchSeparatorIndex === -1 ? ressource : ressource.slice(0, searchSeparatorIndex)\n}\n",
    "import { urlToScheme } from \"./urlToScheme.js\"\n\nexport const urlToOrigin = (urlString) => {\n  const scheme = urlToScheme(urlString)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = urlString.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return urlString\n    return urlString.slice(0, pathnameSlashIndex)\n  }\n\n  return urlString.slice(0, scheme.length + 1)\n}\n",
    "export const pathnameToParentPathname = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex === -1) {\n    return \"/\"\n  }\n\n  return pathname.slice(0, slashLastIndex + 1)\n}\n",
    "// could be useful: https://url.spec.whatwg.org/#url-miscellaneous\n\nimport { urlToScheme } from \"./internal/urlToScheme.js\"\nimport { urlToPathname } from \"./internal/urlToPathname.js\"\nimport { urlToOrigin } from \"./internal/urlToOrigin.js\"\nimport { pathnameToParentPathname } from \"./internal/pathnameToParentPathname.js\"\nimport { hasScheme } from \"./internal/hasScheme.js\"\n\nexport const resolveUrl = (specifier, baseUrl) => {\n  if (baseUrl) {\n    if (typeof baseUrl !== \"string\") {\n      throw new TypeError(writeBaseUrlMustBeAString({ baseUrl, specifier }))\n    }\n    if (!hasScheme(baseUrl)) {\n      throw new Error(writeBaseUrlMustBeAbsolute({ baseUrl, specifier }))\n    }\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  if (!baseUrl) {\n    throw new Error(writeBaseUrlRequired({ baseUrl, specifier }))\n  }\n\n  // scheme relative\n  if (specifier.slice(0, 2) === \"//\") {\n    return `${urlToScheme(baseUrl)}:${specifier}`\n  }\n\n  // origin relative\n  if (specifier[0] === \"/\") {\n    return `${urlToOrigin(baseUrl)}${specifier}`\n  }\n\n  const baseOrigin = urlToOrigin(baseUrl)\n  const basePathname = urlToPathname(baseUrl)\n\n  if (specifier === \".\") {\n    const baseDirectoryPathname = pathnameToParentPathname(basePathname)\n    return `${baseOrigin}${baseDirectoryPathname}`\n  }\n\n  // pathname relative inside\n  if (specifier.slice(0, 2) === \"./\") {\n    const baseDirectoryPathname = pathnameToParentPathname(basePathname)\n    return `${baseOrigin}${baseDirectoryPathname}${specifier.slice(2)}`\n  }\n\n  // pathname relative outside\n  if (specifier.slice(0, 3) === \"../\") {\n    let unresolvedPathname = specifier\n    const importerFolders = basePathname.split(\"/\")\n    importerFolders.pop()\n\n    while (unresolvedPathname.slice(0, 3) === \"../\") {\n      unresolvedPathname = unresolvedPathname.slice(3)\n      // when there is no folder left to resolved\n      // we just ignore '../'\n      if (importerFolders.length) {\n        importerFolders.pop()\n      }\n    }\n\n    const resolvedPathname = `${importerFolders.join(\"/\")}/${unresolvedPathname}`\n    return `${baseOrigin}${resolvedPathname}`\n  }\n\n  // bare\n  if (basePathname === \"\") {\n    return `${baseOrigin}/${specifier}`\n  }\n  if (basePathname[basePathname.length] === \"/\") {\n    return `${baseOrigin}${basePathname}${specifier}`\n  }\n  return `${baseOrigin}${pathnameToParentPathname(basePathname)}${specifier}`\n}\n\nconst writeBaseUrlMustBeAString = ({ baseUrl, specifier }) => `baseUrl must be a string.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlMustBeAbsolute = ({ baseUrl, specifier }) => `baseUrl must be absolute.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlRequired = ({\n  baseUrl,\n  specifier,\n}) => `baseUrl required to resolve relative specifier.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n",
    "import { hasScheme } from \"./hasScheme.js\"\nimport { resolveUrl } from \"../resolveUrl.js\"\n\nexport const tryUrlResolution = (string, url) => {\n  const result = resolveUrl(string, url)\n  return hasScheme(result) ? result : null\n}\n",
    "import { hasScheme } from \"./internal/hasScheme.js\"\nimport { resolveUrl } from \"./resolveUrl.js\"\n\nexport const resolveSpecifier = (specifier, importer) => {\n  if (\n    specifier === \".\" ||\n    specifier[0] === \"/\" ||\n    specifier.startsWith(\"./\") ||\n    specifier.startsWith(\"../\")\n  ) {\n    return resolveUrl(specifier, importer)\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  return null\n}\n",
    "import { assertImportMap } from \"./internal/assertImportMap.js\"\n\nexport const sortImportMap = (importMap) => {\n  assertImportMap(importMap)\n\n  const { imports, scopes } = importMap\n  return {\n    imports: imports ? sortImports(imports) : undefined,\n    scopes: scopes ? sortScopes(scopes) : undefined,\n  }\n}\n\nexport const sortImports = (imports) => {\n  const importsSorted = {}\n  Object.keys(imports)\n    .sort(compareLengthOrLocaleCompare)\n    .forEach((name) => {\n      importsSorted[name] = imports[name]\n    })\n  return importsSorted\n}\n\nexport const sortScopes = (scopes) => {\n  const scopesSorted = {}\n  Object.keys(scopes)\n    .sort(compareLengthOrLocaleCompare)\n    .forEach((scopeName) => {\n      scopesSorted[scopeName] = sortImports(scopes[scopeName])\n    })\n  return scopesSorted\n}\n\nconst compareLengthOrLocaleCompare = (a, b) => {\n  return b.length - a.length || a.localeCompare(b)\n}\n",
    "import { assertImportMap } from \"./internal/assertImportMap.js\"\nimport { tryUrlResolution } from \"./internal/tryUrlResolution.js\"\nimport { resolveSpecifier } from \"./resolveSpecifier.js\"\nimport { sortImports, sortScopes } from \"./sortImportMap.js\"\n\nexport const normalizeImportMap = (importMap, baseUrl) => {\n  assertImportMap(importMap)\n  if (typeof baseUrl !== \"string\") {\n    throw new TypeError(formulateBaseUrlMustBeAString({ baseUrl }))\n  }\n\n  const { imports, scopes } = importMap\n\n  return {\n    imports: imports ? normalizeImports(imports, baseUrl) : undefined,\n    scopes: scopes ? normalizeScopes(scopes, baseUrl) : undefined,\n  }\n}\n\nconst normalizeImports = (imports, baseUrl) => {\n  const importsNormalized = {}\n  Object.keys(imports).forEach((specifier) => {\n    const address = imports[specifier]\n\n    if (typeof address !== \"string\") {\n      console.warn(\n        formulateAddressMustBeAString({\n          address,\n          specifier,\n        }),\n      )\n      return\n    }\n\n    const specifierResolved = resolveSpecifier(specifier, baseUrl) || specifier\n\n    const addressUrl = tryUrlResolution(address, baseUrl)\n    if (addressUrl === null) {\n      console.warn(\n        formulateAdressResolutionFailed({\n          address,\n          baseUrl,\n          specifier,\n        }),\n      )\n      return\n    }\n\n    if (specifier.endsWith(\"/\") && !addressUrl.endsWith(\"/\")) {\n      console.warn(\n        formulateAddressUrlRequiresTrailingSlash({\n          addressUrl,\n          address,\n          specifier,\n        }),\n      )\n      return\n    }\n    importsNormalized[specifierResolved] = addressUrl\n  })\n  return sortImports(importsNormalized)\n}\n\nconst normalizeScopes = (scopes, baseUrl) => {\n  const scopesNormalized = {}\n  Object.keys(scopes).forEach((scope) => {\n    const scopeValue = scopes[scope]\n    const scopeUrl = tryUrlResolution(scope, baseUrl)\n    if (scopeUrl === null) {\n      console.warn(\n        formulateScopeResolutionFailed({\n          scope,\n          baseUrl,\n        }),\n      )\n      return\n    }\n    const scopeValueNormalized = normalizeImports(scopeValue, baseUrl)\n    scopesNormalized[scopeUrl] = scopeValueNormalized\n  })\n  return sortScopes(scopesNormalized)\n}\n\nconst formulateBaseUrlMustBeAString = ({ baseUrl }) => `baseUrl must be a string.\n--- base url ---\n${baseUrl}`\n\nconst formulateAddressMustBeAString = ({ specifier, address }) => `Address must be a string.\n--- address ---\n${address}\n--- specifier ---\n${specifier}`\n\nconst formulateAdressResolutionFailed = ({\n  address,\n  baseUrl,\n  specifier,\n}) => `Address url resolution failed.\n--- address ---\n${address}\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst formulateAddressUrlRequiresTrailingSlash = ({\n  addressURL,\n  address,\n  specifier,\n}) => `Address must end with /.\n--- address url ---\n${addressURL}\n--- address ---\n${address}\n--- specifier ---\n${specifier}`\n\nconst formulateScopeResolutionFailed = ({ scope, baseUrl }) => `Scope url resolution failed.\n--- scope ---\n${scope}\n--- base url ---\n${baseUrl}`\n",
    "export const pathnameToExtension = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex !== -1) {\n    pathname = pathname.slice(slashLastIndex + 1)\n  }\n\n  const dotLastIndex = pathname.lastIndexOf(\".\")\n  if (dotLastIndex === -1) return \"\"\n  // if (dotLastIndex === pathname.length - 1) return \"\"\n  return pathname.slice(dotLastIndex)\n}\n",
    "import { assertImportMap } from \"./internal/assertImportMap.js\"\nimport { hasScheme } from \"./internal/hasScheme.js\"\nimport { tryUrlResolution } from \"./internal/tryUrlResolution.js\"\nimport { resolveSpecifier } from \"./resolveSpecifier.js\"\n\nexport const applyImportMap = ({ importMap, specifier, importer }) => {\n  assertImportMap(importMap)\n  if (typeof specifier !== \"string\") {\n    throw new TypeError(writeSpecifierMustBeAString({ specifier, importer }))\n  }\n  if (importer) {\n    if (typeof importer !== \"string\") {\n      throw new TypeError(writeImporterMustBeAString({ importer, specifier }))\n    }\n    if (!hasScheme(importer)) {\n      throw new Error(writeImporterMustBeAbsolute({ importer, specifier }))\n    }\n  }\n\n  const specifierUrl = resolveSpecifier(specifier, importer)\n  const specifierNormalized = specifierUrl || specifier\n\n  const { scopes } = importMap\n  if (scopes && importer) {\n    const scopeKeyMatching = Object.keys(scopes).find((scopeKey) => {\n      return scopeKey === importer || specifierIsPrefixOf(scopeKey, importer)\n    })\n    if (scopeKeyMatching) {\n      const scopeValue = scopes[scopeKeyMatching]\n      const remappingFromScopeImports = applyImports(specifierNormalized, scopeValue)\n      if (remappingFromScopeImports !== null) {\n        return remappingFromScopeImports\n      }\n    }\n  }\n\n  const { imports } = importMap\n  if (imports) {\n    const remappingFromImports = applyImports(specifierNormalized, imports)\n    if (remappingFromImports !== null) {\n      return remappingFromImports\n    }\n  }\n\n  if (specifierUrl) {\n    return specifierUrl\n  }\n\n  throw new Error(writeBareSpecifierMustBeRemapped({ specifier, importer }))\n}\n\nconst applyImports = (specifier, imports) => {\n  const importKeyArray = Object.keys(imports)\n\n  let i = 0\n  while (i < importKeyArray.length) {\n    const importKey = importKeyArray[i]\n    i++\n    if (importKey === specifier) {\n      const importValue = imports[importKey]\n      return importValue\n    }\n    if (specifierIsPrefixOf(importKey, specifier)) {\n      const importValue = imports[importKey]\n      const afterImportKey = specifier.slice(importKey.length)\n\n      return tryUrlResolution(afterImportKey, importValue)\n    }\n  }\n\n  return null\n}\n\nconst specifierIsPrefixOf = (specifierHref, href) => {\n  return specifierHref[specifierHref.length - 1] === \"/\" && href.startsWith(specifierHref)\n}\n\nconst writeSpecifierMustBeAString = ({ specifier, importer }) => `specifier must be a string.\n--- specifier ---\n${specifier}\n--- importer ---\n${importer}`\n\nconst writeImporterMustBeAString = ({ importer, specifier }) => `importer must be a string.\n--- importer ---\n${importer}\n--- specifier ---\n${specifier}`\n\nconst writeImporterMustBeAbsolute = ({ importer, specifier }) => `importer must be an absolute url.\n--- importer ---\n${importer}\n--- specifier ---\n${specifier}`\n\nconst writeBareSpecifierMustBeRemapped = ({ specifier, importer }) => `Unmapped bare specifier.\n--- specifier ---\n${specifier}\n--- importer ---\n${importer}`\n",
    "import { urlToPathname } from \"./internal/urlToPathname.js\"\nimport { pathnameToExtension } from \"./internal/pathnameToExtension.js\"\nimport { resolveUrl } from \"./resolveUrl.js\"\nimport { applyImportMap } from \"./applyImportMap.js\"\n\nexport const resolveImport = ({ specifier, importer, importMap, defaultExtension = true }) => {\n  return applyDefaultExtension({\n    url: importMap\n      ? applyImportMap({ importMap, specifier, importer })\n      : resolveUrl(specifier, importer),\n    importer,\n    defaultExtension,\n  })\n}\n\nconst applyDefaultExtension = ({ url, importer, defaultExtension }) => {\n  if (urlToPathname(url).endsWith(\"/\")) {\n    return url\n  }\n\n  if (typeof defaultExtension === \"string\") {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\") {\n      return `${url}${defaultExtension}`\n    }\n    return url\n  }\n\n  if (defaultExtension === true) {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\" && importer) {\n      const importerPathname = urlToPathname(importer)\n      const importerExtension = pathnameToExtension(importerPathname)\n      return `${url}${importerExtension}`\n    }\n  }\n  return url\n}\n",
    "/* global require, __filename */\n// eslint-disable-next-line import/no-unresolved\nimport importMap from \"/jsenv.importmap\"\nimport { normalizeImportMap } from \"@jsenv/import-map/src/normalizeImportMap.js\"\nimport { resolveImport } from \"@jsenv/import-map/src/resolveImport.js\"\n\nconst nodeRequire = require\nexport { nodeRequire as require }\n\nconst filenameContainsBackSlashes = __filename.indexOf(\"\\\\\") > -1\n\nexport const url = filenameContainsBackSlashes\n  ? `file:///${__filename.replace(/\\\\/g, \"/\")}`\n  : `file://${__filename}`\n\nexport const resolve = (specifier) => {\n  return Promise.resolve(\n    resolveImport({\n      specifier,\n      importer: url,\n      importMap: memoizedGetImportMap(),\n      defaultExtension: false,\n    }),\n  )\n}\n\n// better for perf and helps rollup to tree shake this out\n// when import.meta.resolve is not used\nlet memoizedImportMap\nconst memoizedGetImportMap = () => {\n  if (memoizedImportMap) return memoizedImportMap\n  memoizedImportMap = normalizeImportMap(importMap, url)\n  return memoizedImportMap\n}\n",
    "import { createRequire } from \"module\"\n\nexport const require = createRequire(import.meta.url)\n",
    "import { globalAgent } from \"https\"\nimport { fetchUrl as serverFetchUrl } from \"@jsenv/server\"\n\n// ideally we should only pass this to the fetch below\nglobalAgent.options.rejectUnauthorized = false\n\nexport const fetchUrl = async (\n  url,\n  { simplified = false, ignoreHttpsError = true, ...rest } = {},\n) => {\n  const response = await serverFetchUrl(url, { simplified, ignoreHttpsError, ...rest })\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: response.statusText,\n    headers: responseToHeaders(response),\n    text: response.text.bind(response),\n    json: response.json.bind(response),\n    blob: response.blob.bind(response),\n    arrayBuffer: response.arrayBuffer.bind(response),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n",
    "/* eslint-disable no-eq-null, eqeqeq */\nexport default function arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length\n  var arr2 = new Array(len)\n  for (var i = 0; i < len; i++) arr2[i] = arr[i]\n  return arr2\n}\n",
    "import arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\n// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr)\n}\n",
    "// eslint-disable-next-line consistent-return\nexport default (iter) => {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter)\n}\n",
    "/* eslint-disable consistent-return */\nimport arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\nexport default function unsupportedIterableToArray(o, minLen) {\n  if (!o) return\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen)\n  var n = Object.prototype.toString.call(o).slice(8, -1)\n  if (n === \"Object\" && o.constructor) n = o.constructor.name\n  if (n === \"Map\" || n === \"Set\") return Array.from(o)\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return arrayLikeToArray(o, minLen)\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n",
    "import arrayWithoutHoles from \"../arrayWithoutHoles/arrayWithoutHoles.js\"\nimport iterableToArray from \"../iterableToArray/iterableToArray.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableSpread from \"../nonIterableSpread/nonIterableSpread.js\"\n\nexport default (arr) =>\n  arrayWithoutHoles(arr) ||\n  iterableToArray(arr) ||\n  unsupportedIterableToArray(arr) ||\n  nonIterableSpread()\n",
    "export const stackToString = (stack, { error, indent }) => {\n  const name = error.name || \"Error\"\n  const message = error.message || \"\"\n  const stackString = stack.map((callSite) => `\\n${indent}at ${callSite}`).join(\"\")\n\n  return `${name}: ${message}${stackString}`\n}\n",
    "export const parseDataUrl = (dataUrl) => {\n  const afterDataProtocol = dataUrl.slice(\"data:\".length)\n  const commaIndex = afterDataProtocol.indexOf(\",\")\n  const beforeComma = afterDataProtocol.slice(0, commaIndex)\n\n  let mediaType\n  let base64Flag\n  if (beforeComma.endsWith(`;base64`)) {\n    mediaType = beforeComma.slice(0, -`;base64`.length)\n    base64Flag = true\n  } else {\n    mediaType = beforeComma\n    base64Flag = false\n  }\n\n  const afterComma = afterDataProtocol.slice(commaIndex + 1)\n  return {\n    mediaType: mediaType === \"\" ? \"text/plain;charset=US-ASCII\" : mediaType,\n    base64Flag,\n    data: afterComma,\n  }\n}\n\nexport const stringifyDataUrl = ({ mediaType, base64Flag = true, data }) => {\n  if (!mediaType || mediaType === \"text/plain;charset=US-ASCII\") {\n    // can be a buffer or a string, hence check on data.length instead of !data or data === ''\n    if (data.length === 0) {\n      return `data:,`\n    }\n    if (base64Flag) {\n      return `data:,${data}`\n    }\n    return `data:,${dataToBase64(data)}`\n  }\n  if (base64Flag) {\n    return `data:${mediaType};base64,${dataToBase64(data)}`\n  }\n  return `data:${mediaType},${data}`\n}\n\nexport const dataUrlToRawData = ({ base64Flag, data }) => {\n  return base64Flag ? base64ToString(data) : data\n}\n\nexport const dataToBase64 =\n  typeof window === \"object\" ? window.atob : (data) => Buffer.from(data).toString(\"base64\")\n\nexport const base64ToString =\n  typeof window === \"object\"\n    ? window.btoa\n    : (base64String) => Buffer.from(base64String, \"base64\").toString(\"utf8\")\n",
    "export const getJavaScriptSourceMappingUrl = (javaScriptSource) => {\n  let sourceMappingUrl\n  replaceSourceMappingUrl(javaScriptSource, javascriptSourceMappingUrlCommentRegexp, (value) => {\n    sourceMappingUrl = value\n  })\n  return sourceMappingUrl\n}\n\nexport const setJavaScriptSourceMappingUrl = (javaScriptSource, sourceMappingFileUrl) => {\n  let replaced\n  const sourceAfterReplace = replaceSourceMappingUrl(\n    javaScriptSource,\n    javascriptSourceMappingUrlCommentRegexp,\n    () => {\n      replaced = true\n      return sourceMappingFileUrl ? writeJavaScriptSourceMappingURL(sourceMappingFileUrl) : \"\"\n    },\n  )\n  if (replaced) {\n    return sourceAfterReplace\n  }\n\n  return sourceMappingFileUrl\n    ? `${javaScriptSource}\n${writeJavaScriptSourceMappingURL(sourceMappingFileUrl)}`\n    : javaScriptSource\n}\n\nexport const getCssSourceMappingUrl = (cssSource) => {\n  let sourceMappingUrl\n  replaceSourceMappingUrl(cssSource, cssSourceMappingUrlCommentRegExp, (value) => {\n    sourceMappingUrl = value\n  })\n  return sourceMappingUrl\n}\n\nexport const setCssSourceMappingUrl = (cssSource, sourceMappingFileUrl) => {\n  let replaced\n  const sourceAfterReplace = replaceSourceMappingUrl(\n    cssSource,\n    cssSourceMappingUrlCommentRegExp,\n    () => {\n      replaced = true\n      return sourceMappingFileUrl ? writeCssSourceMappingUrl(sourceMappingFileUrl) : \"\"\n    },\n  )\n  if (replaced) {\n    return sourceAfterReplace\n  }\n  return sourceMappingFileUrl\n    ? `${cssSource}\n${writeCssSourceMappingUrl(sourceMappingFileUrl)}`\n    : cssSource\n}\n\nconst javascriptSourceMappingUrlCommentRegexp = /\\/\\/ ?# ?sourceMappingURL=([^\\s'\"]+)/g\nconst cssSourceMappingUrlCommentRegExp = /\\/\\*# ?sourceMappingURL=([^\\s'\"]+) \\*\\//g\n\n// ${\"//#\"} is to avoid a parser thinking there is a sourceMappingUrl for this file\nconst writeJavaScriptSourceMappingURL = (value) => `${\"//#\"} sourceMappingURL=${value}`\nconst writeCssSourceMappingUrl = (value) => `/*# sourceMappingURL=${value} */`\n\nexport const sourcemapToBase64Url = (sourcemap) => {\n  const asBase64 = Buffer.from(JSON.stringify(sourcemap)).toString(\"base64\")\n  return `data:application/json;charset=utf-8;base64,${asBase64}`\n}\n\nconst replaceSourceMappingUrl = (source, regexp, callback) => {\n  let lastSourceMappingUrl\n  let matchSourceMappingUrl\n  while ((matchSourceMappingUrl = regexp.exec(source))) {\n    lastSourceMappingUrl = matchSourceMappingUrl\n  }\n  if (lastSourceMappingUrl) {\n    const index = lastSourceMappingUrl.index\n    const before = source.slice(0, index)\n    const after = source.slice(index)\n    const mappedAfter = after.replace(regexp, (match, firstGroup) => {\n      return callback(firstGroup)\n    })\n    return `${before}${mappedAfter}`\n  }\n  return source\n}\n",
    "export const isWindowsFilePath = (path) => startsWithWindowsDriveLetter(path) && path[2] === \"\\\\\"\n\nexport const startsWithWindowsDriveLetter = (string) => {\n  const firstChar = string[0]\n  if (!/[a-zA-Z]/.test(firstChar)) return false\n\n  const secondChar = string[1]\n  if (secondChar !== \":\") return false\n\n  return true\n}\n\nexport const windowsFilePathToUrl = (windowsFilePath) => {\n  return `file:///${replaceBackSlashesWithSlashes(windowsFilePath)}`\n}\n\nexport const replaceBackSlashesWithSlashes = (string) => string.replace(/\\\\/g, \"/\")\n",
    "import { startsWithWindowsDriveLetter, windowsFilePathToUrl } from \"../filePathUtils.js\"\n\nexport const remapCallSite = async (\n  callSite,\n  { urlToSourcemapConsumer, resolveFile, readErrorStack, onFailure },\n) => {\n  if (callSite.isNative()) {\n    return callSite\n  }\n\n  // Most call sites will return the source file from getFileName(), but code\n  // passed to eval() ending in \"//# sourceURL=...\" will return the source file\n  // from getScriptNameOrSourceURL() instead\n  const source = callSite.getFileName() || callSite.getScriptNameOrSourceURL()\n  if (source) {\n    const line = callSite.getLineNumber()\n    const column = callSite.getColumnNumber() - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveFile,\n      urlToSourcemapConsumer,\n      readErrorStack,\n      onFailure,\n    })\n\n    const callSiteClone = cloneCallSite(callSite)\n\n    callSiteClone.getFunctionName = () => originalPosition.name || callSite.getFunctionName()\n    callSiteClone.getFileName = () => originalPosition.source\n    callSiteClone.getLineNumber = () => originalPosition.line\n    callSiteClone.getColumnNumber = () => originalPosition.column + 1\n    callSiteClone.getScriptNameOrSourceURL = () => originalPosition.source\n\n    return callSiteClone\n  }\n\n  // Code called using eval() needs special handling\n  if (callSite.isEval()) {\n    const origin = callSite.getEvalOrigin()\n    if (origin) {\n      const callSiteClone = cloneCallSite(callSite)\n      const originalEvalOrigin = await remapEvalOrigin(origin, {\n        resolveFile,\n        urlToSourcemapConsumer,\n        readErrorStack,\n        onFailure,\n      })\n      callSiteClone.getEvalOrigin = () => originalEvalOrigin\n      return callSiteClone\n    }\n    return callSite\n  }\n\n  // If we get here then we were unable to change the source position\n  return callSite\n}\n\nconst cloneCallSite = (callSite) => {\n  const callSiteClone = {}\n  methods.forEach((name) => {\n    callSiteClone[name] = () => callSite[name]()\n  })\n  callSiteClone.toString = () => callSiteToFunctionCall(callSiteClone)\n\n  return callSiteClone\n}\n\nconst methods = [\n  \"getColumnNumber\",\n  \"getEvalOrigin\",\n  \"getFileName\",\n  \"getFunction\",\n  \"getFunctionName\",\n  \"getLineNumber\",\n  \"getMethodName\",\n  \"getPosition\",\n  \"getScriptNameOrSourceURL\",\n  \"getThis\",\n  \"getTypeName\",\n  \"isConstructor\",\n  \"isEval\",\n  \"isNative\",\n  \"isToplevel\",\n  \"toString\",\n]\n\nconst callSiteToFunctionCall = (callSite) => {\n  const fileLocation = callSiteToFileLocation(callSite)\n  const isConstructor = callSite.isConstructor()\n  const isMethodCall = !callSite.isToplevel() && !isConstructor\n\n  if (isMethodCall) {\n    return `${callSiteToMethodCall(callSite)} (${fileLocation})`\n  }\n\n  const functionName = callSite.getFunctionName()\n  if (isConstructor) {\n    return `new ${functionName || \"<anonymous>\"} (${fileLocation})`\n  }\n\n  if (functionName) {\n    return `${functionName} (${fileLocation})`\n  }\n\n  return `${fileLocation}`\n}\n\nconst callSiteToMethodCall = (callSite) => {\n  const functionName = callSite.getFunctionName()\n  const typeName = callSiteToType(callSite)\n\n  if (!functionName) {\n    return `${typeName}.<anonymous>`\n  }\n\n  const methodName = callSite.getMethodName()\n  const as = generateAs({ methodName, functionName })\n\n  if (typeName && !functionName.startsWith(typeName)) {\n    return `${typeName}.${functionName}${as}`\n  }\n\n  return `${functionName}${as}`\n}\n\nconst generateAs = ({ methodName, functionName }) => {\n  if (!methodName) return \"\"\n  if (functionName.indexOf(`.${methodName}`) === functionName.length - methodName.length - 1)\n    return \"\"\n  return ` [as ${methodName}]`\n}\n\nconst callSiteToType = (callSite) => {\n  const typeName = callSite.getTypeName()\n  // Fixes shim to be backward compatible with Node v0 to v4\n  if (typeName === \"[object Object]\") {\n    return \"null\"\n  }\n  return typeName\n}\n\nconst callSiteToFileLocation = (callSite) => {\n  if (callSite.isNative()) return \"native\"\n\n  const sourceFile = callSiteToSourceFile(callSite)\n  const lineNumber = callSite.getLineNumber()\n  if (lineNumber === null) {\n    return sourceFile\n  }\n\n  const columnNumber = callSite.getColumnNumber()\n  if (!columnNumber) {\n    return `${sourceFile}:${lineNumber}`\n  }\n\n  return `${sourceFile}:${lineNumber}:${columnNumber}`\n}\n\nconst callSiteToSourceFile = (callSite) => {\n  const fileName = callSite.getScriptNameOrSourceURL()\n\n  if (fileName) {\n    return fileName\n  }\n\n  // Source code does not originate from a file and is not native, but we\n  // can still get the source position inside the source string, e.g. in\n  // an eval string.\n  if (callSite.isEval()) {\n    return `${callSite.getEvalOrigin()}, <anonymous>`\n  }\n\n  return \"<anonymous>\"\n}\n\n// Parses code generated by FormatEvalOrigin(), a function inside V8:\n// https://code.google.com/p/v8/source/browse/trunk/src/messages.js\nconst remapEvalOrigin = async (origin, { resolveFile, urlToSourcemapConsumer, onFailure }) => {\n  // Most eval() calls are in this format\n  const topLevelEvalMatch = /^eval at ([^(]+) \\((.+):(\\d+):(\\d+)\\)$/.exec(origin)\n  if (topLevelEvalMatch) {\n    const source = topLevelEvalMatch[2]\n    const line = Number(topLevelEvalMatch[3])\n    const column = topLevelEvalMatch[4] - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveFile,\n      urlToSourcemapConsumer,\n      onFailure,\n    })\n    return `eval at ${topLevelEvalMatch[1]} (${originalPosition.source}:${originalPosition.line}:${\n      originalPosition.column + 1\n    })`\n  }\n\n  // Parse nested eval() calls using recursion\n  const nestedEvalMatch = /^eval at ([^(]+) \\((.+)\\)$/.exec(origin)\n  if (nestedEvalMatch) {\n    const originalEvalOrigin = await remapEvalOrigin(nestedEvalMatch[2], {\n      resolveFile,\n      urlToSourcemapConsumer,\n      onFailure,\n    })\n    return `eval at ${nestedEvalMatch[1]} (${originalEvalOrigin})`\n  }\n\n  // Make sure we still return useful information if we didn't find anything\n  return origin\n}\n\nconst remapSourcePosition = async ({\n  source,\n  line,\n  column,\n  resolveFile,\n  urlToSourcemapConsumer,\n  readErrorStack,\n  onFailure,\n}) => {\n  const position = { source, line, column }\n\n  const url = sourceToUrl(source, { resolveFile })\n  if (!url) return position\n\n  const sourceMapConsumer = await urlToSourcemapConsumer(url)\n\n  if (!sourceMapConsumer) return position\n\n  try {\n    const originalPosition = sourceMapConsumer.originalPositionFor(position)\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    const originalSource = originalPosition.source\n\n    if (originalSource === null) return position\n    originalPosition.source = resolveFile(originalSource, url, { type: \"file-original\" })\n\n    return originalPosition\n  } catch (e) {\n    onFailure(`error while remapping position.\n--- error stack ---\n${readErrorStack(e)}\n--- source ---\n${source}\n--- line ---\n${line}\n--- column ---\n${column}`)\n    return position\n  }\n}\n\nconst sourceToUrl = (source, { resolveFile }) => {\n  if (startsWithScheme(source)) {\n    return source\n  }\n\n  // linux filesystem path\n  if (source[0] === \"/\") {\n    return resolveFile(source)\n  }\n\n  // be careful, due to babel or something like that we might receive paths like\n  // C:/directory/file.js (without backslashes we would expect on windows)\n  // In that case we consider C: is the signe we are on windows\n  // And I avoid to rely on process.platform === \"win32\" because this file might be executed in chrome\n  if (startsWithWindowsDriveLetter(source)) {\n    return windowsFilePathToUrl(source)\n  }\n\n  // I don't think we will ever encounter relative file in the stack trace\n  // but if it ever happens we are safe :)\n  if (source.slice(0, 2) === \"./\" || source.slice(0, 3) === \"../\") {\n    return resolveFile(source)\n  }\n\n  // we have received a \"bare specifier\" for the source\n  // it happens for internal/process/task_queues.js for instance\n  // if we do return resolveFile(source) it will be converted to\n  // file:///C:/project-directory/internal/process/task_queues.js in node\n  // and\n  // http://domain.com/internal/process/task_queues.js\n  // but the file will certainly be a 404\n  // and if not it won't be the right file anyway\n  // for now we assume \"bare specifier\" in the stack trace\n  // are internal files that are pointless to try to remap\n  return null\n}\n\nconst startsWithScheme = (string) => {\n  return /^[a-zA-Z]{2,}:/.test(string)\n}\n",
    "import { parseDataUrl, dataUrlToRawData } from \"../dataUrl.utils.js\"\nimport { getJavaScriptSourceMappingUrl } from \"../sourceMappingURLUtils.js\"\nimport { remapCallSite } from \"./remapCallSite.js\"\nimport { stackToString } from \"./stackToString.js\"\n\nexport const generateOriginalStackString = async ({\n  stack,\n  error,\n  resolveFile,\n  fetchFile,\n  SourceMapConsumer,\n  indent,\n  readErrorStack,\n  onFailure,\n}) => {\n  const urlToSourcemapConsumer = memoizeByFirstArgStringValue(async (stackTraceFileUrl) => {\n    try {\n      let text\n      try {\n        const fileResponse = await fetchFile(stackTraceFileUrl)\n        const { status } = fileResponse\n        if (status !== 200) {\n          if (status === 404) {\n            onFailure(`stack trace file not found at ${stackTraceFileUrl}`)\n          } else {\n            onFailure(`unexpected response fetching stack trace file.\n--- response status ---\n${status}\n--- response text ---\n${fileResponse.body}\n--- stack trace file ---\n${stackTraceFileUrl}`)\n          }\n          return null\n        }\n        text = await fileResponse.text()\n      } catch (e) {\n        onFailure(`error while fetching stack trace file.\n--- fetch error stack ---\n${readErrorStack(e)}\n--- stack trace file ---\n${stackTraceFileUrl}`)\n\n        return null\n      }\n\n      const jsSourcemapUrl = getJavaScriptSourceMappingUrl(text)\n      if (!jsSourcemapUrl) {\n        return null\n      }\n\n      let sourcemapUrl\n      let sourcemapString\n      if (jsSourcemapUrl.startsWith(\"data:\")) {\n        sourcemapUrl = stackTraceFileUrl\n        sourcemapString = dataUrlToRawData(parseDataUrl(jsSourcemapUrl))\n      } else {\n        sourcemapUrl = resolveFile(jsSourcemapUrl, stackTraceFileUrl, {\n          type: \"source-map\",\n        })\n\n        try {\n          const sourcemapResponse = await fetchFile(sourcemapUrl)\n          const { status } = sourcemapResponse\n          if (status !== 200) {\n            if (status === 404) {\n              onFailure(`sourcemap file not found at ${sourcemapUrl}`)\n            } else {\n              onFailure(`unexpected response for sourcemap file.\n--- response status ---\n${status}\n--- response text ---\n${await sourcemapResponse.text()}\n--- sourcemap url ---\n${sourcemapUrl}`)\n            }\n            return null\n          }\n          sourcemapString = await sourcemapResponse.text()\n        } catch (e) {\n          onFailure(`error while fetching sourcemap.\n--- fetch error stack ---\n${readErrorStack(e)}\n--- sourcemap url ---\n${sourcemapUrl}`)\n          return null\n        }\n      }\n\n      let sourceMap\n      try {\n        sourceMap = JSON.parse(sourcemapString)\n      } catch (e) {\n        onFailure(`error while parsing sourcemap.\n--- parse error stack ---\n${readErrorStack(e)}\n--- sourcemap url ---\n${sourcemapUrl}`)\n        return null\n      }\n\n      let { sourcesContent } = sourceMap\n\n      if (!sourcesContent) {\n        sourcesContent = []\n        sourceMap.sourcesContent = sourcesContent\n      }\n\n      let firstSourceMapSourceFailure = null\n\n      await Promise.all(\n        sourceMap.sources.map(async (source, index) => {\n          if (index in sourcesContent) return\n\n          const sourcemapSourceUrl = resolveFile(source, sourcemapUrl, { type: \"source\" })\n          try {\n            const sourceResponse = await fetchFile(sourcemapSourceUrl)\n            const { status } = sourceResponse\n            if (status !== 200) {\n              if (firstSourceMapSourceFailure) return\n\n              if (status === 404) {\n                firstSourceMapSourceFailure = `sourcemap source not found.\n--- sourcemap source url ---\n${sourcemapSourceUrl}\n--- sourcemap url ---\n${sourcemapUrl}`\n                return\n              }\n              firstSourceMapSourceFailure = `unexpected response for sourcemap source.\n  --- response status ---\n  ${status}\n  --- response text ---\n  ${await sourceResponse.text()}\n  --- sourcemap source url ---\n  ${sourcemapSourceUrl}\n  --- sourcemap url ---\n  ${sourcemapUrl}`\n              return\n            }\n\n            const sourceString = await sourceResponse.text()\n            sourcesContent[index] = sourceString\n          } catch (e) {\n            if (firstSourceMapSourceFailure) return\n            firstSourceMapSourceFailure = `error while fetching sourcemap source.\n--- fetch error stack ---\n${readErrorStack(e)}\n--- sourcemap source url ---\n${sourcemapSourceUrl}\n--- sourcemap url ---\n${sourcemapUrl}`\n          }\n        }),\n      )\n\n      if (firstSourceMapSourceFailure) {\n        onFailure(firstSourceMapSourceFailure)\n        return null\n      }\n\n      return new SourceMapConsumer(sourceMap)\n    } catch (e) {\n      onFailure(`error while preparing a sourceMap consumer for a stack trace file.\n--- error stack ---\n${readErrorStack(e)}\n--- stack trace file ---\n${stackTraceFileUrl}`)\n      return null\n    }\n  })\n\n  try {\n    const originalStack = await Promise.all(\n      stack.map((callSite) =>\n        remapCallSite(callSite, {\n          resolveFile,\n          urlToSourcemapConsumer,\n          readErrorStack,\n          onFailure,\n        }),\n      ),\n    )\n    return stackToString(originalStack, { error, indent })\n  } catch (e) {\n    const unmappedStack = stackToString(stack, { error, indent })\n    onFailure(`error while computing original stack.\n--- stack from error while computing ---\n${readErrorStack(e)}\n--- stack from error to remap ---\n${unmappedStack}`)\n    // in case of error return the non remapped stack\n    return unmappedStack\n  }\n}\n\nconst memoizeByFirstArgStringValue = (fn) => {\n  const stringValueCache = {}\n  return (firstArgValue) => {\n    if (firstArgValue in stringValueCache) return stringValueCache[firstArgValue]\n    const value = fn(firstArgValue)\n    stringValueCache[firstArgValue] = value\n    return value\n  }\n}\n",
    "import { stackToString } from \"./stackToString.js\"\nimport { generateOriginalStackString } from \"./getOriginalStackString.js\"\n\nexport const installErrorStackRemapping = ({\n  fetchFile,\n  resolveFile,\n  SourceMapConsumer,\n  indent = \"  \",\n}) => {\n  if (typeof fetchFile !== \"function\") {\n    throw new TypeError(`fetchFile must be a function, got ${fetchFile}`)\n  }\n  if (typeof SourceMapConsumer !== \"function\") {\n    throw new TypeError(`sourceMapConsumer must be a function, got ${SourceMapConsumer}`)\n  }\n  if (typeof indent !== \"string\") {\n    throw new TypeError(`indent must be a string, got ${indent}`)\n  }\n\n  const errorOriginalStackStringCache = new WeakMap()\n  const errorRemapFailureCallbackMap = new WeakMap()\n\n  let installed = false\n  const previousPrepareStackTrace = Error.prepareStackTrace\n  const install = () => {\n    if (installed) return\n    installed = true\n    Error.prepareStackTrace = prepareStackTrace\n  }\n\n  const uninstall = () => {\n    if (!installed) return\n    installed = false\n    Error.prepareStackTrace = previousPrepareStackTrace\n  }\n\n  // ensure we do not use prepareStackTrace for thoose error\n  // otherwise we would recursively remap error stack\n  // and if the reason causing the failure is still here\n  // it would create an infinite loop\n  const readErrorStack = (error) => {\n    uninstall()\n    const stack = error.stack\n    install()\n    return stack\n  }\n\n  const prepareStackTrace = (error, stack) => {\n    const onFailure = (failureData) => {\n      const failureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (failureCallbackArray) {\n        failureCallbackArray.forEach((callback) => callback(failureData))\n      }\n    }\n\n    const originalStackStringPromise = generateOriginalStackString({\n      stack,\n      error,\n      resolveFile,\n      fetchFile: memoizeFetch(fetchFile),\n      SourceMapConsumer,\n      readErrorStack,\n      indent,\n      onFailure,\n    })\n    errorOriginalStackStringCache.set(error, originalStackStringPromise)\n\n    return stackToString(stack, { error, indent })\n  }\n\n  const getErrorOriginalStackString = async (\n    error,\n    {\n      onFailure = (message) => {\n        console.warn(message)\n      },\n    } = {},\n  ) => {\n    if (onFailure) {\n      const remapFailureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (remapFailureCallbackArray) {\n        errorRemapFailureCallbackMap.set(error, [...remapFailureCallbackArray, onFailure])\n      } else {\n        errorRemapFailureCallbackMap.set(error, [onFailure])\n      }\n    }\n\n    // ensure Error.prepareStackTrace gets triggered by reading error.stack now\n    const { stack } = error\n    const promise = errorOriginalStackStringCache.get(error)\n\n    if (promise) {\n      const originalStack = await promise\n      errorRemapFailureCallbackMap.get(error)\n      return originalStack\n    }\n\n    return stack\n  }\n\n  install()\n\n  return { getErrorOriginalStackString, uninstall }\n}\n\nconst memoizeFetch = (fetchUrl) => {\n  const urlCache = {}\n  return async (url) => {\n    if (url in urlCache) {\n      return urlCache[url]\n    }\n    const responsePromise = fetchUrl(url)\n    urlCache[url] = responsePromise\n    return responsePromise\n  }\n}\n",
    "import { ensureWindowsDriveLetter, resolveUrl } from \"@jsenv/util\"\nimport { require } from \"@jsenv/core/src/internal/require.js\"\nimport { fetchUrl } from \"../fetchUrl.js\"\nimport { installErrorStackRemapping } from \"./installErrorStackRemapping.js\"\n\nconst { SourceMapConsumer } = require(\"source-map\")\n\nexport const installNodeErrorStackRemapping = ({ projectDirectoryUrl, ...options }) =>\n  installErrorStackRemapping({\n    SourceMapConsumer,\n    fetchFile: fetchUrl,\n    resolveFile: (specifier, importer = projectDirectoryUrl) => {\n      return ensureWindowsDriveLetter(resolveUrl(specifier, importer), importer)\n    },\n    ...options,\n  })\n",
    "// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arr\n}\n",
    "export default (arr, i) => {\n  // this is an expanded form of \\`for...of\\` that properly supports abrupt completions of\n  // iterators etc. variable names have been minimised to reduce the size of this massive\n  // helper. sometimes spec compliance is annoying :(\n  //\n  // _n = _iteratorNormalCompletion\n  // _d = _didIteratorError\n  // _e = _iteratorError\n  // _i = _iterator\n  // _s = _step\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return\n  var _arr = []\n  var _n = true\n  var _d = false\n  var _e\n  var _i = arr[Symbol.iterator]()\n  var _s\n  try {\n    for (; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value)\n      if (i && _arr.length === i) break\n    }\n  } catch (err) {\n    _d = true\n    _e = err\n  } finally {\n    try {\n      if (!_n && _i.return !== null) _i.return()\n    } finally {\n      if (_d) throw _e\n    }\n  }\n  // eslint-disable-next-line consistent-return\n  return _arr\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n",
    "import arrayWithHoles from \"../arrayWithHoles/arrayWithHoles.js\"\nimport iterableToArrayLimit from \"../iterableToArrayLimit/iterableToArrayLimit.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableRest from \"../nonIterableRest/nonIterableRest.js\"\n\nexport default (arr, i) =>\n  arrayWithHoles(arr) ||\n  iterableToArrayLimit(arr, i) ||\n  unsupportedIterableToArray(arr, i) ||\n  nonIterableRest()\n",
    "// https://developer.mozilla.org/en-US/docs/Glossary/Primitive\n\nexport const isComposite = (value) => {\n  if (value === null) return false\n  const type = typeof value\n  if (type === \"object\") return true\n  if (type === \"function\") return true\n  return false\n}\n",
    "import { isComposite } from \"./isComposite.js\"\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\nconst compositeWellKnownMap = new WeakMap()\nconst primitiveWellKnownMap = new Map()\n\nexport const getCompositeGlobalPath = (value) => compositeWellKnownMap.get(value)\n\nexport const getPrimitiveGlobalPath = (value) => primitiveWellKnownMap.get(value)\n\nconst visitGlobalObject = (value) => {\n  const visitValue = (value, path) => {\n    if (isComposite(value)) {\n      if (compositeWellKnownMap.has(value)) return // prevent infinite recursion\n      compositeWellKnownMap.set(value, path)\n\n      const visitProperty = (property) => {\n        let descriptor\n        try {\n          descriptor = Object.getOwnPropertyDescriptor(value, property)\n        } catch (e) {\n          if (e.name === \"SecurityError\") {\n            return\n          }\n          throw e\n        }\n\n        if (!descriptor) {\n          // it's apparently possible to have getOwnPropertyNames returning\n          // a property that later returns a null descriptor\n          // for instance window.showModalDialog in webkit 13.0\n          return\n        }\n\n        // do not trigger getter/setter\n        if (\"value\" in descriptor) {\n          const propertyValue = descriptor.value\n          visitValue(propertyValue, [...path, property])\n        }\n      }\n\n      Object.getOwnPropertyNames(value).forEach((name) => visitProperty(name))\n      Object.getOwnPropertySymbols(value).forEach((symbol) => visitProperty(symbol))\n    }\n\n    primitiveWellKnownMap.set(value, path)\n    return\n  }\n\n  visitValue(value, [])\n}\n\nif (typeof window === \"object\") visitGlobalObject(window)\n\nif (typeof global === \"object\") visitGlobalObject(global)\n",
    "/**\n * transforms a javascript value into an object describing it.\n *\n */\n\nimport { isComposite } from \"./isComposite.js\"\nimport { getCompositeGlobalPath, getPrimitiveGlobalPath } from \"./global-value-path.js\"\n\nexport const decompose = (mainValue, { functionAllowed, prototypeStrict }) => {\n  const valueMap = {}\n  const recipeArray = []\n\n  const valueToIdentifier = (value, path = []) => {\n    if (!isComposite(value)) {\n      const existingIdentifier = identifierForPrimitive(value)\n      if (existingIdentifier !== undefined) return existingIdentifier\n      const identifier = identifierForNewValue(value)\n      recipeArray[identifier] = primitiveToRecipe(value)\n      return identifier\n    }\n\n    if (typeof Promise === \"function\" && value instanceof Promise)\n      throw new Error(createPromiseAreNotSupportedMessage({ path }))\n    if (typeof WeakSet === \"function\" && value instanceof WeakSet)\n      throw new Error(createWeakSetAreNotSupportedMessage({ path }))\n    if (typeof WeakMap === \"function\" && value instanceof WeakMap)\n      throw new Error(createWeakMapAreNotSupportedMessage({ path }))\n    if (typeof value === \"function\" && !functionAllowed)\n      throw new Error(createForbiddenFunctionMessage({ path }))\n\n    const existingIdentifier = identifierForComposite(value)\n    if (existingIdentifier !== undefined) return existingIdentifier\n    const identifier = identifierForNewValue(value)\n\n    const compositeGlobalPath = getCompositeGlobalPath(value)\n    if (compositeGlobalPath) {\n      recipeArray[identifier] = createGlobalReferenceRecipe(compositeGlobalPath)\n      return identifier\n    }\n\n    const propertyDescriptionArray = []\n    Object.getOwnPropertyNames(value).forEach((propertyName) => {\n      const propertyDescriptor = Object.getOwnPropertyDescriptor(value, propertyName)\n      const propertyNameIdentifier = valueToIdentifier(propertyName, [...path, propertyName])\n      const propertyDescription = computePropertyDescription(propertyDescriptor, propertyName, path)\n      propertyDescriptionArray.push({ propertyNameIdentifier, propertyDescription })\n    })\n\n    const symbolDescriptionArray = []\n    Object.getOwnPropertySymbols(value).forEach((symbol) => {\n      const propertyDescriptor = Object.getOwnPropertyDescriptor(value, symbol)\n      const symbolIdentifier = valueToIdentifier(symbol, [...path, `[${symbol.toString()}]`])\n      const propertyDescription = computePropertyDescription(propertyDescriptor, symbol, path)\n      symbolDescriptionArray.push({ symbolIdentifier, propertyDescription })\n    })\n\n    const methodDescriptionArray = computeMethodDescriptionArray(value, path)\n\n    const extensible = Object.isExtensible(value)\n\n    recipeArray[identifier] = createCompositeRecipe({\n      propertyDescriptionArray,\n      symbolDescriptionArray,\n      methodDescriptionArray,\n      extensible,\n    })\n    return identifier\n  }\n\n  const computePropertyDescription = (propertyDescriptor, propertyNameOrSymbol, path) => {\n    if (propertyDescriptor.set && !functionAllowed)\n      throw new Error(createForbiddenPropertySetterMessage({ path, propertyNameOrSymbol }))\n    if (propertyDescriptor.get && !functionAllowed)\n      throw new Error(createForbiddenPropertyGetterMessage({ path, propertyNameOrSymbol }))\n\n    return {\n      configurable: propertyDescriptor.configurable,\n      writable: propertyDescriptor.writable,\n      enumerable: propertyDescriptor.enumerable,\n      getIdentifier:\n        \"get\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.get, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:get]]\",\n            ])\n          : undefined,\n      setIdentifier:\n        \"set\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.set, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:set]]\",\n            ])\n          : undefined,\n      valueIdentifier:\n        \"value\" in propertyDescriptor\n          ? valueToIdentifier(propertyDescriptor.value, [\n              ...path,\n              String(propertyNameOrSymbol),\n              \"[[descriptor:value]]\",\n            ])\n          : undefined,\n    }\n  }\n\n  const computeMethodDescriptionArray = (value, path) => {\n    const methodDescriptionArray = []\n\n    if (typeof Set === \"function\" && value instanceof Set) {\n      const callArray = []\n      value.forEach((entryValue, index) => {\n        const entryValueIdentifier = valueToIdentifier(entryValue, [\n          ...path,\n          `[[SetEntryValue]]`,\n          index,\n        ])\n        callArray.push([entryValueIdentifier])\n      })\n      methodDescriptionArray.push({ methodNameIdentifier: valueToIdentifier(\"add\"), callArray })\n    }\n\n    if (typeof Map === \"function\" && value instanceof Map) {\n      const callArray = []\n      value.forEach((entryValue, entryKey) => {\n        const entryKeyIdentifier = valueToIdentifier(entryKey, [\n          ...path,\n          \"[[MapEntryKey]]\",\n          entryKey,\n        ])\n        const entryValueIdentifier = valueToIdentifier(entryValue, [\n          ...path,\n          \"[[MapEntryValue]]\",\n          entryValue,\n        ])\n        callArray.push([entryKeyIdentifier, entryValueIdentifier])\n      })\n      methodDescriptionArray.push({ methodNameIdentifier: valueToIdentifier(\"set\"), callArray })\n    }\n\n    return methodDescriptionArray\n  }\n\n  const identifierForPrimitive = (value) => {\n    return Object.keys(valueMap).find((existingIdentifier) => {\n      const existingValue = valueMap[existingIdentifier]\n      if (Object.is(value, existingValue)) return true\n      return value === existingValue\n    })\n  }\n\n  const identifierForComposite = (value) => {\n    return Object.keys(valueMap).find((existingIdentifier) => {\n      const existingValue = valueMap[existingIdentifier]\n      return value === existingValue\n    })\n  }\n\n  const identifierForNewValue = (value) => {\n    const identifier = nextIdentifier()\n    valueMap[identifier] = value\n    return identifier\n  }\n\n  let currentIdentifier = -1\n  const nextIdentifier = () => {\n    const identifier = String(parseInt(currentIdentifier) + 1)\n    currentIdentifier = identifier\n    return identifier\n  }\n\n  const mainIdentifier = valueToIdentifier(mainValue)\n\n  // prototype, important to keep after the whole structure was visited\n  // so that we discover if any prototype is part of the value\n  const prototypeValueToIdentifier = (prototypeValue) => {\n    // prototype is null\n    if (prototypeValue === null) return valueToIdentifier(prototypeValue)\n\n    // prototype found somewhere already\n    const prototypeExistingIdentifier = identifierForComposite(prototypeValue)\n    if (prototypeExistingIdentifier !== undefined) return prototypeExistingIdentifier\n\n    // mark prototype as visited\n    const prototypeIdentifier = identifierForNewValue(prototypeValue)\n\n    // prototype is a global reference ?\n    const prototypeGlobalPath = getCompositeGlobalPath(prototypeValue)\n    if (prototypeGlobalPath) {\n      recipeArray[prototypeIdentifier] = createGlobalReferenceRecipe(prototypeGlobalPath)\n      return prototypeIdentifier\n    }\n\n    // otherwise prototype is unknown\n    if (prototypeStrict) {\n      throw new Error(createUnknownPrototypeMessage({ prototypeValue }))\n    }\n\n    return prototypeValueToIdentifier(Object.getPrototypeOf(prototypeValue), true)\n  }\n  const identifierForValueOf = (value, path = []) => {\n    if (value instanceof Array) return valueToIdentifier(value.length, [...path, \"length\"])\n\n    if (\"valueOf\" in value === false) return undefined\n\n    if (typeof value.valueOf !== \"function\") return undefined\n\n    const valueOfReturnValue = value.valueOf()\n    if (!isComposite(valueOfReturnValue))\n      return valueToIdentifier(valueOfReturnValue, [...path, \"valueOf()\"])\n\n    if (valueOfReturnValue === value) return undefined\n\n    throw new Error(createUnexpectedValueOfReturnValueMessage())\n  }\n\n  recipeArray.slice().forEach((recipe, index) => {\n    if (recipe.type === \"composite\") {\n      const value = valueMap[index]\n\n      if (typeof value === \"function\") {\n        const valueOfIdentifier = nextIdentifier()\n        recipeArray[valueOfIdentifier] = {\n          type: \"primitive\",\n          value,\n        }\n        recipe.valueOfIdentifier = valueOfIdentifier\n        return\n      }\n\n      if (value instanceof RegExp) {\n        const valueOfIdentifier = nextIdentifier()\n        recipeArray[valueOfIdentifier] = {\n          type: \"primitive\",\n          value,\n        }\n        recipe.valueOfIdentifier = valueOfIdentifier\n        return\n      }\n\n      // valueOf, mandatory to uneval new Date(10) for instance.\n      recipe.valueOfIdentifier = identifierForValueOf(value)\n      const prototypeValue = Object.getPrototypeOf(value)\n      recipe.prototypeIdentifier = prototypeValueToIdentifier(prototypeValue, true)\n    }\n  })\n\n  return {\n    recipeArray,\n    mainIdentifier,\n    valueMap,\n  }\n}\n\nconst primitiveToRecipe = (value) => {\n  if (typeof value === \"symbol\") return symbolToRecipe(value)\n\n  return createPimitiveRecipe(value)\n}\n\nconst symbolToRecipe = (symbol) => {\n  const globalSymbolKey = Symbol.keyFor(symbol)\n  if (globalSymbolKey !== undefined) return createGlobalSymbolRecipe(globalSymbolKey)\n\n  const symbolGlobalPath = getPrimitiveGlobalPath(symbol)\n  if (!symbolGlobalPath) throw new Error(createUnknownSymbolMessage({ symbol }))\n\n  return createGlobalReferenceRecipe(symbolGlobalPath)\n}\n\nconst createPimitiveRecipe = (value) => {\n  return {\n    type: \"primitive\",\n    value,\n  }\n}\n\nconst createGlobalReferenceRecipe = (path) => {\n  const recipe = {\n    type: \"global-reference\",\n    path,\n  }\n  return recipe\n}\n\nconst createGlobalSymbolRecipe = (key) => {\n  return {\n    type: \"global-symbol\",\n    key,\n  }\n}\n\nconst createCompositeRecipe = ({\n  prototypeIdentifier,\n  valueOfIdentifier,\n  propertyDescriptionArray,\n  symbolDescriptionArray,\n  methodDescriptionArray,\n  extensible,\n}) => {\n  return {\n    type: \"composite\",\n    prototypeIdentifier,\n    valueOfIdentifier,\n    propertyDescriptionArray,\n    symbolDescriptionArray,\n    methodDescriptionArray,\n    extensible,\n  }\n}\n\nconst createPromiseAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) return `promise are not supported.`\n\n  return `promise are not supported.\npromise found at: ${path.join(\"\")}`\n}\n\nconst createWeakSetAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) return `weakSet are not supported.`\n\n  return `weakSet are not supported.\nweakSet found at: ${path.join(\"\")}`\n}\n\nconst createWeakMapAreNotSupportedMessage = ({ path }) => {\n  if (path.length === 0) return `weakMap are not supported.`\n\n  return `weakMap are not supported.\nweakMap found at: ${path.join(\"\")}`\n}\n\nconst createForbiddenFunctionMessage = ({ path }) => {\n  if (path.length === 0) return `function are not allowed.`\n\n  return `function are not allowed.\nfunction found at: ${path.join(\"\")}`\n}\n\nconst createForbiddenPropertyGetterMessage = ({\n  path,\n  propertyNameOrSymbol,\n}) => `property getter are not allowed.\ngetter found on property: ${String(propertyNameOrSymbol)}\nat: ${path.join(\"\")}`\n\nconst createForbiddenPropertySetterMessage = ({\n  path,\n  propertyNameOrSymbol,\n}) => `property setter are not allowed.\nsetter found on property: ${String(propertyNameOrSymbol)}\nat: ${path.join(\"\")}`\n\nconst createUnexpectedValueOfReturnValueMessage = () =>\n  `valueOf() must return a primitive of the object itself.`\n\nconst createUnknownSymbolMessage = ({\n  symbol,\n}) => `symbol must be global, like Symbol.iterator, or created using Symbol.for().\nsymbol: ${symbol.toString()}`\n\nconst createUnknownPrototypeMessage = ({ prototypeValue }) =>\n  `prototype must be global, like Object.prototype, or somewhere in the value.\nprototype constructor name: ${prototypeValue.constructor.name}`\n",
    "// be carefull because this function is mutating recipe objects inside the recipeArray.\n// this is not an issue because each recipe object is not accessible from the outside\n// when used internally by uneval\nexport const sortRecipe = (recipeArray) => {\n  const findInRecipePrototypeChain = (recipe, callback) => {\n    let currentRecipe = recipe\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      if (currentRecipe.type !== \"composite\") break\n      const prototypeIdentifier = currentRecipe.prototypeIdentifier\n      if (prototypeIdentifier === undefined) break\n      currentRecipe = recipeArray[prototypeIdentifier]\n\n      if (callback(currentRecipe, prototypeIdentifier)) return prototypeIdentifier\n    }\n    return undefined\n  }\n\n  const recipeArrayOrdered = recipeArray.slice()\n  recipeArrayOrdered.sort((leftRecipe, rightRecipe) => {\n    const leftType = leftRecipe.type\n    const rightType = rightRecipe.type\n\n    if (leftType === \"composite\" && rightType === \"composite\") {\n      const rightRecipeIsInLeftRecipePrototypeChain = findInRecipePrototypeChain(\n        leftRecipe,\n        (recipeCandidate) => recipeCandidate === rightRecipe,\n      )\n      // if left recipe requires right recipe, left must be after right\n      if (rightRecipeIsInLeftRecipePrototypeChain) return 1\n\n      const leftRecipeIsInRightRecipePrototypeChain = findInRecipePrototypeChain(\n        rightRecipe,\n        (recipeCandidate) => recipeCandidate === leftRecipe,\n      )\n      // if right recipe requires left recipe, right must be after left\n      if (leftRecipeIsInRightRecipePrototypeChain) return -1\n    }\n\n    if (leftType !== rightType) {\n      // if left is a composite, left must be after right\n      if (leftType === \"composite\") return 1\n      // if right is a composite, right must be after left\n      if (rightType === \"composite\") return -1\n    }\n\n    const leftIndex = recipeArray.indexOf(leftRecipe)\n    const rightIndex = recipeArray.indexOf(rightRecipe)\n    // left was before right, don't change that\n    if (leftIndex < rightIndex) return -1\n    // right was after left, don't change that\n    return 1\n  })\n\n  return recipeArrayOrdered\n}\n",
    "// https://github.com/joliss/js-string-escape/blob/master/index.js\n// http://javascript.crockford.com/remedial.html\nexport const escapeString = (value) => {\n  const string = String(value)\n  let i = 0\n  const j = string.length\n  var escapedString = \"\"\n  while (i < j) {\n    const char = string[i]\n    let escapedChar\n    if (char === '\"' || char === \"'\" || char === \"\\\\\") {\n      escapedChar = `\\\\${char}`\n    } else if (char === \"\\n\") {\n      escapedChar = \"\\\\n\"\n    } else if (char === \"\\r\") {\n      escapedChar = \"\\\\r\"\n    } else if (char === \"\\u2028\") {\n      escapedChar = \"\\\\u2028\"\n    } else if (char === \"\\u2029\") {\n      escapedChar = \"\\\\u2029\"\n    } else {\n      escapedChar = char\n    }\n    escapedString += escapedChar\n    i++\n  }\n  return escapedString\n}\n",
    "import { decompose } from \"./internal/decompose.js\"\nimport { sortRecipe } from \"./internal/sortRecipe.js\"\nimport { escapeString } from \"./internal/escapeString.js\"\n\nexport const uneval = (value, { functionAllowed = false, prototypeStrict = false } = {}) => {\n  const { recipeArray, mainIdentifier, valueMap } = decompose(value, {\n    functionAllowed,\n    prototypeStrict,\n  })\n  const recipeArraySorted = sortRecipe(recipeArray)\n\n  let source = `(function () {\nvar globalObject\ntry {\n  globalObject = Function('return this')() || (42, eval)('this');\n} catch(e) {\n  globalObject = window;\n}\n\nfunction safeDefineProperty(object, propertyNameOrSymbol, descriptor) {\n  var currentDescriptor = Object.getOwnPropertyDescriptor(object, propertyNameOrSymbol);\n  if (currentDescriptor && !currentDescriptor.configurable) return\n  Object.defineProperty(object, propertyNameOrSymbol, descriptor)\n};\n`\n\n  const variableNameMap = {}\n  recipeArray.forEach((recipe, index) => {\n    const indexSorted = recipeArraySorted.indexOf(recipe)\n    variableNameMap[index] = `_${indexSorted}`\n  })\n\n  const identifierToVariableName = (identifier) => variableNameMap[identifier]\n\n  const recipeToSetupSource = (recipe) => {\n    if (recipe.type === \"primitive\") return primitiveRecipeToSetupSource(recipe)\n    if (recipe.type === \"global-symbol\") return globalSymbolRecipeToSetupSource(recipe)\n    if (recipe.type === \"global-reference\") return globalReferenceRecipeToSetupSource(recipe)\n    return compositeRecipeToSetupSource(recipe)\n  }\n\n  const primitiveRecipeToSetupSource = ({ value }) => {\n    if (typeof value === \"string\") return `\"${escapeString(value)}\";`\n    if (Object.is(value, -0)) return \"-0;\"\n    return `${String(value)};`\n  }\n\n  const globalSymbolRecipeToSetupSource = (recipe) => {\n    return `Symbol.for(\"${escapeString(recipe.key)}\");`\n  }\n\n  const globalReferenceRecipeToSetupSource = (recipe) => {\n    const pathSource = recipe.path.map((part) => `[\"${escapeString(part)}\"]`).join(\"\")\n    return `globalObject${pathSource};`\n  }\n\n  const compositeRecipeToSetupSource = ({ prototypeIdentifier, valueOfIdentifier }) => {\n    if (prototypeIdentifier === undefined) return identifierToVariableName(valueOfIdentifier)\n\n    const prototypeValue = valueMap[prototypeIdentifier]\n    if (prototypeValue === null) return `Object.create(null);`\n\n    const prototypeConstructor = prototypeValue.constructor\n    if (prototypeConstructor === Object)\n      return `Object.create(${identifierToVariableName(prototypeIdentifier)});`\n\n    if (valueOfIdentifier === undefined) return `new ${prototypeConstructor.name}();`\n\n    return `new ${prototypeConstructor.name}(${identifierToVariableName(valueOfIdentifier)});`\n  }\n\n  recipeArraySorted.forEach((recipe) => {\n    const recipeVariableName = identifierToVariableName(recipeArray.indexOf(recipe))\n    source += `var ${recipeVariableName} = ${recipeToSetupSource(recipe, recipeVariableName)}\n`\n  })\n\n  const recipeToMutateSource = (recipe, recipeVariableName) => {\n    if (recipe.type === \"composite\")\n      return compositeRecipeToMutateSource(recipe, recipeVariableName)\n    return ``\n  }\n\n  const compositeRecipeToMutateSource = (\n    { propertyDescriptionArray, symbolDescriptionArray, methodDescriptionArray, extensible },\n    recipeVariableName,\n  ) => {\n    let mutateSource = ``\n\n    propertyDescriptionArray.forEach(({ propertyNameIdentifier, propertyDescription }) => {\n      mutateSource += generateDefinePropertySource(\n        recipeVariableName,\n        propertyNameIdentifier,\n        propertyDescription,\n      )\n    })\n\n    symbolDescriptionArray.forEach(({ symbolIdentifier, propertyDescription }) => {\n      mutateSource += generateDefinePropertySource(\n        recipeVariableName,\n        symbolIdentifier,\n        propertyDescription,\n      )\n    })\n\n    methodDescriptionArray.forEach(({ methodNameIdentifier, callArray }) => {\n      mutateSource += generateMethodCallSource(recipeVariableName, methodNameIdentifier, callArray)\n    })\n\n    if (!extensible) {\n      mutateSource += generatePreventExtensionSource(recipeVariableName)\n    }\n\n    return mutateSource\n  }\n\n  const generateDefinePropertySource = (\n    recipeVariableName,\n    propertyNameOrSymbolIdentifier,\n    propertyDescription,\n  ) => {\n    const propertyOrSymbolVariableName = identifierToVariableName(propertyNameOrSymbolIdentifier)\n\n    const propertyDescriptorSource = generatePropertyDescriptorSource(propertyDescription)\n    return `safeDefineProperty(${recipeVariableName}, ${propertyOrSymbolVariableName}, ${propertyDescriptorSource});`\n  }\n\n  const generatePropertyDescriptorSource = ({\n    configurable,\n    writable,\n    enumerable,\n    getIdentifier,\n    setIdentifier,\n    valueIdentifier,\n  }) => {\n    if (valueIdentifier === undefined) {\n      return `{\n  configurable: ${configurable},\n  enumerable: ${enumerable},\n  get: ${getIdentifier === undefined ? undefined : identifierToVariableName(getIdentifier)},\n  set: ${setIdentifier === undefined ? undefined : identifierToVariableName(setIdentifier)},\n}`\n    }\n\n    return `{\n  configurable: ${configurable},\n  writable: ${writable},\n  enumerable: ${enumerable},\n  value: ${valueIdentifier === undefined ? undefined : identifierToVariableName(valueIdentifier)}\n}`\n  }\n\n  const generateMethodCallSource = (recipeVariableName, methodNameIdentifier, callArray) => {\n    let methodCallSource = ``\n\n    const methodVariableName = identifierToVariableName(methodNameIdentifier)\n    callArray.forEach((argumentIdentifiers) => {\n      const argumentVariableNames = argumentIdentifiers.map((argumentIdentifier) =>\n        identifierToVariableName(argumentIdentifier),\n      )\n\n      methodCallSource += `${recipeVariableName}[${methodVariableName}](${argumentVariableNames.join(\n        \",\",\n      )});`\n    })\n\n    return methodCallSource\n  }\n\n  const generatePreventExtensionSource = (recipeVariableName) => {\n    return `Object.preventExtensions(${recipeVariableName});`\n  }\n\n  recipeArraySorted.forEach((recipe) => {\n    const recipeVariableName = identifierToVariableName(recipeArray.indexOf(recipe))\n    source += `${recipeToMutateSource(recipe, recipeVariableName)}`\n  })\n\n  source += `return ${identifierToVariableName(mainIdentifier)}; })()`\n\n  return source\n}\n",
    "export const memoize = (compute) => {\n  let memoized = false\n  let memoizedValue\n\n  const fnWithMemoization = (...args) => {\n    if (memoized) {\n      return memoizedValue\n    }\n    // if compute is recursive wait for it to be fully done before storing the lockValue\n    // so set locked later\n    memoizedValue = compute(...args)\n    memoized = true\n    return memoizedValue\n  }\n\n  fnWithMemoization.forget = () => {\n    const value = memoizedValue\n    memoized = false\n    memoizedValue = undefined\n    return value\n  }\n\n  return fnWithMemoization\n}\n",
    "import { fetchUrl } from \"../../fetchUrl.js\"\n\nexport const fetchSource = (url, { executionId } = {}) => {\n  return fetchUrl(url, {\n    ignoreHttpsError: true,\n    headers: {\n      ...(executionId ? { \"x-jsenv-execution-id\": executionId } : {}),\n    },\n  })\n}\n",
    "export const COMPILE_ID_BEST = \"best\"\n\nexport const COMPILE_ID_OTHERWISE = \"otherwise\"\n\nexport const COMPILE_ID_GLOBAL_BUNDLE = \"otherwise-global-bundle\"\n\nexport const COMPILE_ID_GLOBAL_BUNDLE_FILES = \"otherwise-global-bundle-files\"\n\nexport const COMPILE_ID_COMMONJS_BUNDLE = \"otherwise-commonjs-bundle\"\n\nexport const COMPILE_ID_COMMONJS_BUNDLE_FILES = \"otherwise-commonjs-bundle-files\"\n",
    "import { COMPILE_ID_OTHERWISE } from \"../CONSTANTS.js\"\n\nexport const computeCompileIdFromGroupId = ({ groupId, groupMap }) => {\n  if (typeof groupId === \"undefined\") {\n    if (COMPILE_ID_OTHERWISE in groupMap) return COMPILE_ID_OTHERWISE\n\n    const keys = Object.keys(groupMap)\n    if (keys.length === 1) return keys[0]\n\n    throw new Error(createUnexpectedGroupIdMessage({ groupMap }))\n  }\n\n  if (groupId in groupMap === false)\n    throw new Error(createUnexpectedGroupIdMessage({ groupId, groupMap }))\n\n  return groupId\n}\n\nconst createUnexpectedGroupIdMessage = ({ compileId, groupMap }) => `unexpected groupId.\n--- expected compiled id ----\n${Object.keys(groupMap)}\n--- received compile id ---\n${compileId}`\n",
    "export const detectNode = () => {\n  return { name: \"node\", version: process.version.slice(1) }\n}\n",
    "export const valueToVersion = (value) => {\n  if (typeof value === \"number\") {\n    return numberToVersion(value)\n  }\n\n  if (typeof value === \"string\") {\n    return stringToVersion(value)\n  }\n\n  throw new TypeError(createValueErrorMessage({ version: value }))\n}\n\nconst numberToVersion = (number) => {\n  return {\n    major: number,\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst stringToVersion = (string) => {\n  if (string.indexOf(\".\") > -1) {\n    const parts = string.split(\".\")\n    return {\n      major: Number(parts[0]),\n      minor: parts[1] ? Number(parts[1]) : 0,\n      patch: parts[2] ? Number(parts[2]) : 0,\n    }\n  }\n\n  if (isNaN(string)) {\n    return {\n      major: 0,\n      minor: 0,\n      patch: 0,\n    }\n  }\n\n  return {\n    major: Number(string),\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst createValueErrorMessage = ({ value }) => `value must be a number or a string.\nvalue: ${value}`\n",
    "import { valueToVersion } from \"./valueToVersion.js\"\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = valueToVersion(versionA)\n  const semanticVersionB = valueToVersion(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n",
    "import { versionCompare } from \"./versionCompare.js\"\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n",
    "import { versionIsBelow } from \"./versionIsBelow.js\"\n\nexport const findHighestVersion = (...values) => {\n  if (values.length === 0) throw new Error(`missing argument`)\n\n  return values.reduce((highestVersion, value) => {\n    if (versionIsBelow(highestVersion, value)) {\n      return value\n    }\n    return highestVersion\n  })\n}\n",
    "import { findHighestVersion } from \"../semantic-versioning/index.js\"\n\nexport const resolveGroup = ({ name, version }, groupMap) => {\n  return Object.keys(groupMap).find((compileIdCandidate) => {\n    const { runtimeCompatMap } = groupMap[compileIdCandidate]\n    if (name in runtimeCompatMap === false) {\n      return false\n    }\n    const versionForGroup = runtimeCompatMap[name]\n\n    const highestVersion = findHighestVersion(version, versionForGroup)\n    return highestVersion === version\n  })\n}\n",
    "import { detectNode } from \"./detectNode/detectNode.js\"\nimport { resolveGroup } from \"./resolveGroup.js\"\n\nexport const resolveNodeGroup = (groupMap) => resolveGroup(detectNode(), groupMap)\n",
    "/*\n* SJS 6.6.1\n* Minimal SystemJS Build\n*/\n(function () {\n  function errMsg(errCode, msg) {\n    return (msg || \"\") + \" (SystemJS https://git.io/JvFET#\" + errCode + \")\";\n  }\n\n  var hasSymbol = typeof Symbol !== 'undefined';\n  var hasSelf = typeof self !== 'undefined';\n  var hasDocument = typeof document !== 'undefined';\n\n  var envGlobal = hasSelf ? self : global;\n\n  var baseUrl;\n\n  if (hasDocument) {\n    var baseEl = document.querySelector('base[href]');\n    if (baseEl)\n      baseUrl = baseEl.href;\n  }\n\n  if (!baseUrl && typeof location !== 'undefined') {\n    baseUrl = location.href.split('#')[0].split('?')[0];\n    var lastSepIndex = baseUrl.lastIndexOf('/');\n    if (lastSepIndex !== -1)\n      baseUrl = baseUrl.slice(0, lastSepIndex + 1);\n  }\n\n  var backslashRegEx = /\\\\/g;\n  function resolveIfNotPlainOrUrl (relUrl, parentUrl) {\n    if (relUrl.indexOf('\\\\') !== -1)\n      relUrl = relUrl.replace(backslashRegEx, '/');\n    // protocol-relative\n    if (relUrl[0] === '/' && relUrl[1] === '/') {\n      return parentUrl.slice(0, parentUrl.indexOf(':') + 1) + relUrl;\n    }\n    // relative-url\n    else if (relUrl[0] === '.' && (relUrl[1] === '/' || relUrl[1] === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\n        relUrl.length === 1  && (relUrl += '/')) ||\n        relUrl[0] === '/') {\n      var parentProtocol = parentUrl.slice(0, parentUrl.indexOf(':') + 1);\n      // Disabled, but these cases will give inconsistent results for deep backtracking\n      //if (parentUrl[parentProtocol.length] !== '/')\n      //  throw Error('Cannot resolve');\n      // read pathname from parent URL\n      // pathname taken to be part after leading \"/\"\n      var pathname;\n      if (parentUrl[parentProtocol.length + 1] === '/') {\n        // resolving to a :// so we need to read out the auth and host\n        if (parentProtocol !== 'file:') {\n          pathname = parentUrl.slice(parentProtocol.length + 2);\n          pathname = pathname.slice(pathname.indexOf('/') + 1);\n        }\n        else {\n          pathname = parentUrl.slice(8);\n        }\n      }\n      else {\n        // resolving to :/ so pathname is the /... part\n        pathname = parentUrl.slice(parentProtocol.length + (parentUrl[parentProtocol.length] === '/'));\n      }\n\n      if (relUrl[0] === '/')\n        return parentUrl.slice(0, parentUrl.length - pathname.length - 1) + relUrl;\n\n      // join together and split for removal of .. and . segments\n      // looping the string instead of anything fancy for perf reasons\n      // '../../../../../z' resolved to 'x/y' is just 'z'\n      var segmented = pathname.slice(0, pathname.lastIndexOf('/') + 1) + relUrl;\n\n      var output = [];\n      var segmentIndex = -1;\n      for (var i = 0; i < segmented.length; i++) {\n        // busy reading a segment - only terminate on '/'\n        if (segmentIndex !== -1) {\n          if (segmented[i] === '/') {\n            output.push(segmented.slice(segmentIndex, i + 1));\n            segmentIndex = -1;\n          }\n        }\n\n        // new segment - check if it is relative\n        else if (segmented[i] === '.') {\n          // ../ segment\n          if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i + 2 === segmented.length)) {\n            output.pop();\n            i += 2;\n          }\n          // ./ segment\n          else if (segmented[i + 1] === '/' || i + 1 === segmented.length) {\n            i += 1;\n          }\n          else {\n            // the start of a new segment as below\n            segmentIndex = i;\n          }\n        }\n        // it is the start of a new segment\n        else {\n          segmentIndex = i;\n        }\n      }\n      // finish reading out the last segment\n      if (segmentIndex !== -1)\n        output.push(segmented.slice(segmentIndex));\n      return parentUrl.slice(0, parentUrl.length - pathname.length) + output.join('');\n    }\n  }\n\n  /*\n   * Import maps implementation\n   *\n   * To make lookups fast we pre-resolve the entire import map\n   * and then match based on backtracked hash lookups\n   *\n   */\n\n  function resolveUrl (relUrl, parentUrl) {\n    return resolveIfNotPlainOrUrl(relUrl, parentUrl) || (relUrl.indexOf(':') !== -1 ? relUrl : resolveIfNotPlainOrUrl('./' + relUrl, parentUrl));\n  }\n\n  function resolveAndComposePackages (packages, outPackages, baseUrl, parentMap, parentUrl) {\n    for (var p in packages) {\n      var resolvedLhs = resolveIfNotPlainOrUrl(p, baseUrl) || p;\n      var rhs = packages[p];\n      // package fallbacks not currently supported\n      if (typeof rhs !== 'string')\n        continue;\n      var mapped = resolveImportMap(parentMap, resolveIfNotPlainOrUrl(rhs, baseUrl) || rhs, parentUrl);\n      if (!mapped) {\n        targetWarning('W1', p, rhs);\n      }\n      else\n        outPackages[resolvedLhs] = mapped;\n    }\n  }\n\n  function resolveAndComposeImportMap (json, baseUrl, outMap) {\n    if (json.imports)\n      resolveAndComposePackages(json.imports, outMap.imports, baseUrl, outMap, null);\n\n    var u;\n    for (u in json.scopes || {}) {\n      var resolvedScope = resolveUrl(u, baseUrl);\n      resolveAndComposePackages(json.scopes[u], outMap.scopes[resolvedScope] || (outMap.scopes[resolvedScope] = {}), baseUrl, outMap, resolvedScope);\n    }\n\n    for (u in json.depcache || {})\n      outMap.depcache[resolveUrl(u, baseUrl)] = json.depcache[u];\n\n    for (u in json.integrity || {})\n      outMap.integrity[resolveUrl(u, baseUrl)] = json.integrity[u];\n  }\n\n  function getMatch (path, matchObj) {\n    if (matchObj[path])\n      return path;\n    var sepIndex = path.length;\n    do {\n      var segment = path.slice(0, sepIndex + 1);\n      if (segment in matchObj)\n        return segment;\n    } while ((sepIndex = path.lastIndexOf('/', sepIndex - 1)) !== -1)\n  }\n\n  function applyPackages (id, packages) {\n    var pkgName = getMatch(id, packages);\n    if (pkgName) {\n      var pkg = packages[pkgName];\n      if (pkg === null) return;\n      if (id.length > pkgName.length && pkg[pkg.length - 1] !== '/') {\n        targetWarning('W2', pkgName, pkg);\n      }\n      else\n        return pkg + id.slice(pkgName.length);\n    }\n  }\n\n  function targetWarning (code, match, target, msg) {\n    console.warn(errMsg(code,  [target, match].join(', ') ));\n  }\n\n  function resolveImportMap (importMap, resolvedOrPlain, parentUrl) {\n    var scopes = importMap.scopes;\n    var scopeUrl = parentUrl && getMatch(parentUrl, scopes);\n    while (scopeUrl) {\n      var packageResolution = applyPackages(resolvedOrPlain, scopes[scopeUrl]);\n      if (packageResolution)\n        return packageResolution;\n      scopeUrl = getMatch(scopeUrl.slice(0, scopeUrl.lastIndexOf('/')), scopes);\n    }\n    return applyPackages(resolvedOrPlain, importMap.imports) || resolvedOrPlain.indexOf(':') !== -1 && resolvedOrPlain;\n  }\n\n  /*\n   * SystemJS Core\n   *\n   * Provides\n   * - System.import\n   * - System.register support for\n   *     live bindings, function hoisting through circular references,\n   *     reexports, dynamic import, import.meta.url, top-level await\n   * - System.getRegister to get the registration\n   * - Symbol.toStringTag support in Module objects\n   * - Hookable System.createContext to customize import.meta\n   * - System.onload(err, id, deps) handler for tracing / hot-reloading\n   *\n   * Core comes with no System.prototype.resolve or\n   * System.prototype.instantiate implementations\n   */\n\n  var toStringTag = hasSymbol && Symbol.toStringTag;\n  var REGISTRY = hasSymbol ? Symbol() : '@';\n\n  function SystemJS () {\n    this[REGISTRY] = {};\n  }\n\n  var systemJSPrototype = SystemJS.prototype;\n\n  systemJSPrototype.import = function (id, parentUrl) {\n    var loader = this;\n    return Promise.resolve(loader.prepareImport())\n    .then(function() {\n      return loader.resolve(id, parentUrl);\n    })\n    .then(function (id) {\n      var load = getOrCreateLoad(loader, id);\n      return load.C || topLevelLoad(loader, load);\n    });\n  };\n\n  // Hookable createContext function -> allowing eg custom import meta\n  systemJSPrototype.createContext = function (parentId) {\n    var loader = this;\n    return {\n      url: parentId,\n      resolve: function (id, parentUrl) {\n        return Promise.resolve(loader.resolve(id, parentUrl || parentId));\n      }\n    };\n  };\n  function loadToId (load) {\n    return load.id;\n  }\n  function triggerOnload (loader, load, err, isErrSource) {\n    loader.onload(err, load.id, load.d && load.d.map(loadToId), !!isErrSource);\n    if (err)\n      throw err;\n  }\n\n  var lastRegister;\n  systemJSPrototype.register = function (deps, declare) {\n    lastRegister = [deps, declare];\n  };\n\n  /*\n   * getRegister provides the last anonymous System.register call\n   */\n  systemJSPrototype.getRegister = function () {\n    var _lastRegister = lastRegister;\n    lastRegister = undefined;\n    return _lastRegister;\n  };\n\n  function getOrCreateLoad (loader, id, firstParentUrl) {\n    var load = loader[REGISTRY][id];\n    if (load)\n      return load;\n\n    var importerSetters = [];\n    var ns = Object.create(null);\n    if (toStringTag)\n      Object.defineProperty(ns, toStringTag, { value: 'Module' });\n\n    var instantiatePromise = Promise.resolve()\n    .then(function () {\n      return loader.instantiate(id, firstParentUrl);\n    })\n    .then(function (registration) {\n      if (!registration)\n        throw Error(errMsg(2,  id ));\n      function _export (name, value) {\n        // note if we have hoisted exports (including reexports)\n        load.h = true;\n        var changed = false;\n        if (typeof name !== 'object') {\n          if (!(name in ns) || ns[name] !== value) {\n            ns[name] = value;\n            changed = true;\n          }\n        }\n        else {\n          for (var p in name) {\n            var value = name[p];\n            if (!(p in ns) || ns[p] !== value) {\n              ns[p] = value;\n              changed = true;\n            }\n          }\n\n          if (name.__esModule) {\n            ns.__esModule = name.__esModule;\n          }\n        }\n        if (changed)\n          for (var i = 0; i < importerSetters.length; i++) {\n            var setter = importerSetters[i];\n            if (setter) setter(ns);\n          }\n        return value;\n      }\n      var declared = registration[1](_export, registration[1].length === 2 ? {\n        import: function (importId) {\n          return loader.import(importId, id);\n        },\n        meta: loader.createContext(id)\n      } : undefined);\n      load.e = declared.execute || function () {};\n      return [registration[0], declared.setters || []];\n    });\n\n    var linkPromise = instantiatePromise\n    .then(function (instantiation) {\n      return Promise.all(instantiation[0].map(function (dep, i) {\n        var setter = instantiation[1][i];\n        return Promise.resolve(loader.resolve(dep, id))\n        .then(function (depId) {\n          var depLoad = getOrCreateLoad(loader, depId, id);\n          // depLoad.I may be undefined for already-evaluated\n          return Promise.resolve(depLoad.I)\n          .then(function () {\n            if (setter) {\n              depLoad.i.push(setter);\n              // only run early setters when there are hoisted exports of that module\n              // the timing works here as pending hoisted export calls will trigger through importerSetters\n              if (depLoad.h || !depLoad.I)\n                setter(depLoad.n);\n            }\n            return depLoad;\n          });\n        })\n      }))\n      .then(\n        function (depLoads) {\n          load.d = depLoads;\n        },\n        !true\n      )\n    });\n\n    linkPromise.catch(function (err) {\n      load.e = null;\n      load.er = err;\n    });\n\n    // Capital letter = a promise function\n    return load = loader[REGISTRY][id] = {\n      id: id,\n      // importerSetters, the setters functions registered to this dependency\n      // we retain this to add more later\n      i: importerSetters,\n      // module namespace object\n      n: ns,\n\n      // instantiate\n      I: instantiatePromise,\n      // link\n      L: linkPromise,\n      // whether it has hoisted exports\n      h: false,\n\n      // On instantiate completion we have populated:\n      // dependency load records\n      d: undefined,\n      // execution function\n      // set to NULL immediately after execution (or on any failure) to indicate execution has happened\n      // in such a case, C should be used, and E, I, L will be emptied\n      e: undefined,\n\n      // On execution we have populated:\n      // the execution error if any\n      er: undefined,\n      // in the case of TLA, the execution promise\n      E: undefined,\n\n      // On execution, L, I, E cleared\n\n      // Promise for top-level completion\n      C: undefined\n    };\n  }\n\n  function instantiateAll (loader, load, loaded) {\n    if (!loaded[load.id]) {\n      loaded[load.id] = true;\n      // load.L may be undefined for already-instantiated\n      return Promise.resolve(load.L)\n      .then(function () {\n        return Promise.all(load.d.map(function (dep) {\n          return instantiateAll(loader, dep, loaded);\n        }));\n      })\n    }\n  }\n\n  function topLevelLoad (loader, load) {\n    return load.C = instantiateAll(loader, load, {})\n    .then(function () {\n      return postOrderExec(loader, load, {});\n    })\n    .then(function () {\n      return load.n;\n    });\n  }\n\n  // the closest we can get to call(undefined)\n  var nullContext = Object.freeze(Object.create(null));\n\n  // returns a promise if and only if a top-level await subgraph\n  // throws on sync errors\n  function postOrderExec (loader, load, seen) {\n    if (seen[load.id])\n      return;\n    seen[load.id] = true;\n\n    if (!load.e) {\n      if (load.er)\n        throw load.er;\n      if (load.E)\n        return load.E;\n      return;\n    }\n\n    // deps execute first, unless circular\n    var depLoadPromises;\n    load.d.forEach(function (depLoad) {\n        try {\n          var depLoadPromise = postOrderExec(loader, depLoad, seen);\n          if (depLoadPromise)\n            (depLoadPromises = depLoadPromises || []).push(depLoadPromise);\n        }\n        catch (err) {\n          load.e = null;\n          load.er = err;\n          throw err;\n        }\n    });\n    if (depLoadPromises)\n      return Promise.all(depLoadPromises).then(doExec, function (err) {\n        load.e = null;\n        load.er = err;\n        throw err;\n      });\n\n    return doExec();\n\n    function doExec () {\n      try {\n        var execPromise = load.e.call(nullContext);\n        if (execPromise) {\n            execPromise = execPromise.then(function () {\n              load.C = load.n;\n              load.E = null; // indicates completion\n              if (!true) triggerOnload(loader, load, null, true);\n            }, function (err) {\n              load.er = err;\n              load.E = null;\n              if (!true) triggerOnload(loader, load, err, true);\n              else throw err;\n            });\n          return load.E = load.E || execPromise;\n        }\n        // (should be a promise, but a minify optimization to leave out Promise.resolve)\n        load.C = load.n;\n        if (!true) triggerOnload(loader, load, null, true);\n      }\n      catch (err) {\n        load.er = err;\n        throw err;\n      }\n      finally {\n        load.L = load.I = undefined;\n        load.e = null;\n      }\n    }\n  }\n\n  envGlobal.System = new SystemJS();\n\n  /*\n   * SystemJS browser attachments for script and import map processing\n   */\n\n  var importMapPromise = Promise.resolve();\n  var importMap = { imports: {}, scopes: {}, depcache: {}, integrity: {} };\n\n  // Scripts are processed immediately, on the first System.import, and on DOMReady.\n  // Import map scripts are processed only once (by being marked) and in order for each phase.\n  // This is to avoid using DOM mutation observers in core, although that would be an alternative.\n  var processFirst = hasDocument;\n  systemJSPrototype.prepareImport = function (doProcessScripts) {\n    if (processFirst || doProcessScripts) {\n      processScripts();\n      processFirst = false;\n    }\n    return importMapPromise;\n  };\n  if (hasDocument) {\n    processScripts();\n    window.addEventListener('DOMContentLoaded', processScripts);\n  }\n\n  function processScripts () {\n    [].forEach.call(document.querySelectorAll('script'), function (script) {\n      if (script.sp) // sp marker = systemjs processed\n        return;\n      // TODO: deprecate systemjs-module in next major now that we have auto import\n      if (script.type === 'systemjs-module') {\n        script.sp = true;\n        if (!script.src)\n          return;\n        System.import(script.src.slice(0, 7) === 'import:' ? script.src.slice(7) : resolveUrl(script.src, baseUrl));\n      }\n      else if (script.type === 'systemjs-importmap') {\n        script.sp = true;\n        var fetchPromise = script.src ? fetch(script.src).then(function (res) {\n          return res.text();\n        }) : script.innerHTML;\n        importMapPromise = importMapPromise.then(function () {\n          return fetchPromise;\n        }).then(function (text) {\n          extendImportMap(importMap, text, script.src || baseUrl);\n        });\n      }\n    });\n  }\n\n  function extendImportMap (importMap, newMapText, newMapUrl) {\n    try {\n      var newMap = JSON.parse(newMapText);\n    } catch (err) {\n      throw Error( errMsg(1) );\n    }\n    resolveAndComposeImportMap(newMap, newMapUrl, importMap);\n  }\n\n  /*\n   * Script instantiation loading\n   */\n\n  if (hasDocument) {\n    window.addEventListener('error', function (evt) {\n      lastWindowErrorUrl = evt.filename;\n      lastWindowError = evt.error;\n    });\n    var baseOrigin = location.origin;\n  }\n\n  systemJSPrototype.createScript = function (url) {\n    var script = document.createElement('script');\n    script.async = true;\n    // Only add cross origin for actual cross origin\n    // this is because Safari triggers for all\n    // - https://bugs.webkit.org/show_bug.cgi?id=171566\n    if (url.indexOf(baseOrigin + '/'))\n      script.crossOrigin = 'anonymous';\n    var integrity = importMap.integrity[url];\n    if (integrity)\n      script.integrity = integrity;\n    script.src = url;\n    return script;\n  };\n\n  // Auto imports -> script tags can be inlined directly for load phase\n  var lastAutoImportDeps, lastAutoImportTimeout;\n  var autoImportCandidates = {};\n  var systemRegister = systemJSPrototype.register;\n  systemJSPrototype.register = function (deps, declare) {\n    if (hasDocument && document.readyState === 'loading' && typeof deps !== 'string') {\n      var scripts = document.getElementsByTagName('script');\n      var lastScript = scripts[scripts.length - 1];\n      var url = lastScript && lastScript.src;\n      if (url) {\n        lastAutoImportDeps = deps;\n        // if this is already a System load, then the instantiate has already begun\n        // so this re-import has no consequence\n        var loader = this;\n        lastAutoImportTimeout = setTimeout(function () {\n          autoImportCandidates[url] = [deps, declare];\n          loader.import(url);\n        });\n      }\n    }\n    else {\n      lastAutoImportDeps = undefined;\n    }\n    return systemRegister.call(this, deps, declare);\n  };\n\n  var lastWindowErrorUrl, lastWindowError;\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\n    var autoImportRegistration = autoImportCandidates[url];\n    if (autoImportRegistration) {\n      delete autoImportCandidates[url];\n      return autoImportRegistration;\n    }\n    var loader = this;\n    return new Promise(function (resolve, reject) {\n      var script = systemJSPrototype.createScript(url);\n      script.addEventListener('error', function () {\n        reject(Error(errMsg(3,  [url, firstParentUrl].join(', ') )));\n      });\n      script.addEventListener('load', function () {\n        document.head.removeChild(script);\n        // Note that if an error occurs that isn't caught by this if statement,\n        // that getRegister will return null and a \"did not instantiate\" error will be thrown.\n        if (lastWindowErrorUrl === url) {\n          reject(lastWindowError);\n        }\n        else {\n          var register = loader.getRegister();\n          // Clear any auto import registration for dynamic import scripts during load\n          if (register && register[0] === lastAutoImportDeps)\n            clearTimeout(lastAutoImportTimeout);\n          resolve(register);\n        }\n      });\n      document.head.appendChild(script);\n    });\n  };\n\n  systemJSPrototype.resolve = function (id, parentUrl) {\n    parentUrl = parentUrl || !true  || baseUrl;\n    return resolveImportMap(( importMap), resolveIfNotPlainOrUrl(id, parentUrl) || id, parentUrl) || throwUnresolved(id, parentUrl);\n  };\n\n  function throwUnresolved (id, parentUrl) {\n    throw Error(errMsg(8,  [id, parentUrl].join(', ') ));\n  }\n\n  var systemInstantiate = systemJSPrototype.instantiate;\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\n    var preloads = ( importMap).depcache[url];\n    if (preloads) {\n      for (var i = 0; i < preloads.length; i++)\n        getOrCreateLoad(this, this.resolve(preloads[i], url), url);\n    }\n    return systemInstantiate.call(this, url, firstParentUrl);\n  };\n\n  /*\n   * Supports loading System.register in workers\n   */\n\n  if (hasSelf && typeof importScripts === 'function')\n    systemJSPrototype.instantiate = function (url) {\n      var loader = this;\n      return Promise.resolve().then(function () {\n        importScripts(url);\n        return loader.getRegister();\n      });\n    };\n\n}());",
    "export const fromFunctionReturningNamespace = (fn, data) => {\n  return fromFunctionReturningRegisteredModule(() => {\n    // should we compute the namespace here\n    // or as it is done below, defer to execute ?\n    // I think defer to execute is better\n    return [\n      [],\n      (_export) => {\n        return {\n          execute: () => {\n            const namespace = fn()\n            _export(namespace)\n          },\n        }\n      },\n    ]\n  }, data)\n}\n\nconst fromFunctionReturningRegisteredModule = (fn, data) => {\n  try {\n    return fn()\n  } catch (error) {\n    throw new Error(`Module instantiation error.\n--- instantiation error stack ---\n${error.stack}${getModuleDetails(data)}`)\n  }\n}\n\nexport const fromUrl = async ({\n  url,\n  importerUrl,\n  fetchSource,\n  instantiateJavaScript,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n}) => {\n  const moduleResponse = await fetchSource(url, {\n    importerUrl,\n  })\n\n  if (moduleResponse.status === 404) {\n    throw new Error(\n      `Module file cannot be found.\n${getModuleDetails({\n  url,\n  importerUrl,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n  notFound: true,\n})}`,\n    )\n  }\n\n  const contentType = moduleResponse.headers[\"content-type\"] || \"\"\n\n  if (moduleResponse.status === 500 && contentType === \"application/json\") {\n    const bodyAsJson = await moduleResponse.json()\n    if (bodyAsJson.message && bodyAsJson.filename && \"columnNumber\" in bodyAsJson) {\n      const error = new Error(`Module file cannot be parsed.\n--- parsing error message ---\n${bodyAsJson.message}\n${getModuleDetails({ url, importerUrl, compileServerOrigin, outDirectoryRelativeUrl })}`)\n      error.parsingError = bodyAsJson\n      throw error\n    }\n  }\n\n  if (moduleResponse.status < 200 || moduleResponse.status >= 300) {\n    throw new Error(`Module file response status is unexpected.\n--- status ---\n${moduleResponse.status}\n--- allowed status\n200 to 299\n--- statusText ---\n${moduleResponse.statusText}\n${getModuleDetails({ url, importerUrl, compileServerOrigin, outDirectoryRelativeUrl })}`)\n  }\n\n  // don't forget to keep it close to https://github.com/systemjs/systemjs/blob/9a15cfd3b7a9fab261e1848b1b2fa343d73afedb/src/extras/module-types.js#L21\n  // and in sync with loadModule in createJsenvRollupPlugin.js\n  if (contentType === \"application/javascript\" || contentType === \"text/javascript\") {\n    const bodyAsText = await moduleResponse.text()\n    return fromFunctionReturningRegisteredModule(\n      () => instantiateJavaScript(bodyAsText, moduleResponse.url),\n      {\n        url: moduleResponse.url,\n        importerUrl,\n        compileServerOrigin,\n        outDirectoryRelativeUrl,\n      },\n    )\n  }\n\n  if (contentType === \"application/json\" || contentType === \"application/importmap+json\") {\n    const bodyAsJson = await moduleResponse.json()\n    return fromFunctionReturningNamespace(\n      () => {\n        return {\n          default: bodyAsJson,\n        }\n      },\n      {\n        url: moduleResponse.url,\n        importerUrl,\n        compileServerOrigin,\n        outDirectoryRelativeUrl,\n      },\n    )\n  }\n\n  if (contentTypeShouldBeReadAsText(contentType)) {\n    return fromFunctionReturningNamespace(\n      () => {\n        return {\n          default: moduleResponse.url,\n        }\n      },\n      {\n        url: moduleResponse.url,\n        importerUrl,\n        compileServerOrigin,\n        outDirectoryRelativeUrl,\n      },\n    )\n  }\n\n  if (contentType) {\n    // for now content type different of javascript are not unusual anymore\n    // ideally we would not use static import to tell rollup we have a dependency to an url\n    // insetad we would write something that would be compatible with web strandard such as\n    // new URL('./whatever', import.meta.url)\n    // or import.meta.resolve('./whatever')\n    //     console.warn(`Module content-type is unusual.\n    // --- content-type ---\n    // ${contentType}\n    // --- allowed content-type ---\n    // application/javascript\n    // application/json\n    // text/*\n    // ${getModuleDetails({ url, importerUrl, compileServerOrigin, outDirectoryRelativeUrl })}`)\n  } else {\n    console.warn(`Module content-type is missing.\n--- allowed content-type ---\napplication/javascript\napplication/json\ntext/*\n${getModuleDetails({ url, importerUrl, compileServerOrigin, outDirectoryRelativeUrl })}`)\n  }\n\n  return fromFunctionReturningNamespace(\n    () => {\n      return {\n        default: moduleResponse.url,\n      }\n    },\n    {\n      url: moduleResponse.url,\n      importerUrl,\n      compileServerOrigin,\n      outDirectoryRelativeUrl,\n    },\n  )\n}\n\nconst contentTypeShouldBeReadAsText = (contentType) => {\n  if (contentType.startsWith(\"text/\")) {\n    return true\n  }\n  if (contentType === \"image/svg+xml\") {\n    return true\n  }\n  return false\n}\n\n// const textToBase64 =\n//   typeof window === \"object\"\n//     ? (text) => window.btoa(window.unescape(window.encodeURIComponent(text)))\n//     : (text) => Buffer.from(text, \"utf8\").toString(\"base64\")\n\nconst getModuleDetails = ({\n  url,\n  importerUrl,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n  notFound = false,\n}) => {\n  const relativeUrl = tryToFindProjectRelativeUrl(url, {\n    compileServerOrigin,\n    outDirectoryRelativeUrl,\n  })\n\n  const importerRelativeUrl = tryToFindProjectRelativeUrl(importerUrl, {\n    compileServerOrigin,\n    outDirectoryRelativeUrl,\n  })\n\n  const details = notFound\n    ? {\n        ...(importerUrl ? { [\"import declared in\"]: importerRelativeUrl || importerUrl } : {}),\n        ...(relativeUrl ? { file: relativeUrl } : {}),\n        [\"file url\"]: url,\n      }\n    : {\n        ...(relativeUrl ? { file: relativeUrl } : {}),\n        [\"file url\"]: url,\n        ...(importerUrl ? { [\"imported by\"]: importerRelativeUrl || importerUrl } : {}),\n      }\n\n  return Object.keys(details).map((key) => {\n    return `--- ${key} ---\n${details[key]}`\n  }).join(`\n`)\n}\n\nconst tryToFindProjectRelativeUrl = (url, { compileServerOrigin, outDirectoryRelativeUrl }) => {\n  if (!url) {\n    return null\n  }\n\n  if (!url.startsWith(`${compileServerOrigin}/`)) {\n    return null\n  }\n\n  if (url === compileServerOrigin) {\n    return null\n  }\n\n  const afterOrigin = url.slice(`${compileServerOrigin}/`.length)\n  if (!afterOrigin.startsWith(outDirectoryRelativeUrl)) {\n    return null\n  }\n\n  const afterCompileDirectory = afterOrigin.slice(outDirectoryRelativeUrl.length)\n  const nextSlashIndex = afterCompileDirectory.indexOf(\"/\")\n  if (nextSlashIndex === -1) {\n    return null\n  }\n\n  const afterCompileId = afterCompileDirectory.slice(nextSlashIndex + 1)\n  return afterCompileId\n}\n",
    "export const valueInstall = (object, name, value) => {\n  const has = name in object\n  const previous = object[name]\n\n  object[name] = value\n\n  return () => {\n    if (has) {\n      object[name] = previous\n    } else {\n      delete object[name]\n    }\n  }\n}\n",
    "const NATIVE_NODE_MODULE_SPECIFIER_ARRAY = [\n  \"assert\",\n  \"async_hooks\",\n  \"buffer_ieee754\",\n  \"buffer\",\n  \"child_process\",\n  \"cluster\",\n  \"console\",\n  \"constants\",\n  \"crypto\",\n  \"_debugger\",\n  \"dgram\",\n  \"dns\",\n  \"domain\",\n  \"events\",\n  \"freelist\",\n  \"fs\",\n  \"fs/promises\",\n  \"_http_agent\",\n  \"_http_client\",\n  \"_http_common\",\n  \"_http_incoming\",\n  \"_http_outgoing\",\n  \"_http_server\",\n  \"http\",\n  \"http2\",\n  \"https\",\n  \"inspector\",\n  \"_linklist\",\n  \"module\",\n  \"net\",\n  \"node-inspect/lib/_inspect\",\n  \"node-inspect/lib/internal/inspect_client\",\n  \"node-inspect/lib/internal/inspect_repl\",\n  \"os\",\n  \"path\",\n  \"perf_hooks\",\n  \"process\",\n  \"punycode\",\n  \"querystring\",\n  \"readline\",\n  \"repl\",\n  \"smalloc\",\n  \"_stream_duplex\",\n  \"_stream_transform\",\n  \"_stream_wrap\",\n  \"_stream_passthrough\",\n  \"_stream_readable\",\n  \"_stream_writable\",\n  \"stream\",\n  \"string_decoder\",\n  \"sys\",\n  \"timers\",\n  \"_tls_common\",\n  \"_tls_legacy\",\n  \"_tls_wrap\",\n  \"tls\",\n  \"trace_events\",\n  \"tty\",\n  \"url\",\n  \"util\",\n  \"v8/tools/arguments\",\n  \"v8/tools/codemap\",\n  \"v8/tools/consarray\",\n  \"v8/tools/csvparser\",\n  \"v8/tools/logreader\",\n  \"v8/tools/profile_view\",\n  \"v8/tools/splaytree\",\n  \"v8\",\n  \"vm\",\n  \"worker_threads\",\n  \"zlib\",\n  // global is special\n  \"global\",\n]\n\nexport const isNativeNodeModuleBareSpecifier = (specifier) =>\n  NATIVE_NODE_MODULE_SPECIFIER_ARRAY.includes(specifier)\n",
    "import { Script } from \"vm\"\n\nexport const evalSource = (code, filePath) => {\n  const script = new Script(code, { filename: filePath })\n  return script.runInThisContext()\n}\n",
    "/* eslint-disable import/max-dependencies */\nimport { urlToFileSystemPath, resolveUrl } from \"@jsenv/util\"\nimport { resolveImport } from \"@jsenv/import-map\"\nimport { require } from \"../../require.js\"\nimport \"../s.js\"\nimport { fromFunctionReturningNamespace, fromUrl } from \"../module-registration.js\"\nimport { valueInstall } from \"../valueInstall.js\"\nimport { isNativeNodeModuleBareSpecifier } from \"./isNativeNodeModuleBareSpecifier.js\"\nimport { evalSource } from \"./evalSource.js\"\n\nconst GLOBAL_SPECIFIER = \"global\"\n\nexport const createNodeSystem = ({\n  projectDirectoryUrl,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n  importMap,\n  importDefaultExtension,\n  fetchSource,\n} = {}) => {\n  if (typeof global.System === \"undefined\") {\n    throw new Error(`global.System is undefined`)\n  }\n\n  const nodeSystem = new global.System.constructor()\n\n  const resolve = (specifier, importer) => {\n    if (specifier === GLOBAL_SPECIFIER) return specifier\n\n    if (isNativeNodeModuleBareSpecifier(specifier)) return specifier\n\n    return resolveImport({\n      specifier,\n      importer,\n      importMap,\n      defaultExtension: importDefaultExtension,\n    })\n  }\n\n  nodeSystem.resolve = resolve\n\n  nodeSystem.instantiate = async (url, importerUrl) => {\n    if (url === GLOBAL_SPECIFIER) {\n      return fromFunctionReturningNamespace(() => global, {\n        url,\n        importerUrl,\n        compileServerOrigin,\n        outDirectoryRelativeUrl,\n      })\n    }\n\n    if (isNativeNodeModuleBareSpecifier(url)) {\n      return fromFunctionReturningNamespace(\n        () => {\n          // eslint-disable-next-line import/no-dynamic-require\n          const moduleExportsForNativeNodeModule = require(url)\n          return moduleExportsToModuleNamespace(moduleExportsForNativeNodeModule)\n        },\n        {\n          url,\n          importerUrl,\n          compileServerOrigin,\n          outDirectoryRelativeUrl,\n        },\n      )\n    }\n\n    return fromUrl({\n      url,\n      importerUrl,\n      fetchSource,\n      instantiateJavaScript: (responseBody, responseUrl) => {\n        const uninstallSystemGlobal = valueInstall(global, \"System\", nodeSystem)\n        try {\n          evalSource(\n            responseBody,\n            responseUrlToSourceUrl(responseUrl, {\n              projectDirectoryUrl,\n              compileServerOrigin,\n            }),\n          )\n        } finally {\n          uninstallSystemGlobal()\n        }\n\n        return nodeSystem.getRegister()\n      },\n      outDirectoryRelativeUrl,\n      compileServerOrigin,\n    })\n  }\n\n  // https://github.com/systemjs/systemjs/blob/master/docs/hooks.md#createcontexturl---object\n  nodeSystem.createContext = (url) => {\n    const originalUrl = urlToOriginalUrl(url, {\n      projectDirectoryUrl,\n      outDirectoryRelativeUrl,\n      compileServerOrigin,\n    })\n\n    return {\n      url: originalUrl,\n      resolve: (specifier) => {\n        const urlResolved = resolve(specifier, url)\n        return urlToOriginalUrl(urlResolved, {\n          projectDirectoryUrl,\n          outDirectoryRelativeUrl,\n          compileServerOrigin,\n        })\n      },\n    }\n  }\n\n  return nodeSystem\n}\n\nconst responseUrlToSourceUrl = (responseUrl, { compileServerOrigin, projectDirectoryUrl }) => {\n  if (responseUrl.startsWith(\"file://\")) {\n    return urlToFileSystemPath(responseUrl)\n  }\n  // compileServerOrigin is optionnal\n  // because we can also create a node system and use it to import a bundle\n  // from filesystem. In that case there is no compileServerOrigin\n  if (compileServerOrigin && responseUrl.startsWith(`${compileServerOrigin}/`)) {\n    const afterOrigin = responseUrl.slice(`${compileServerOrigin}/`.length)\n    const fileUrl = resolveUrl(afterOrigin, projectDirectoryUrl)\n    return urlToFileSystemPath(fileUrl)\n  }\n  return responseUrl\n}\n\nconst urlToOriginalUrl = (\n  url,\n  { projectDirectoryUrl, outDirectoryRelativeUrl, compileServerOrigin },\n) => {\n  if (!url.startsWith(`${compileServerOrigin}/`)) {\n    return url\n  }\n\n  if (url === compileServerOrigin) {\n    return url\n  }\n\n  const afterOrigin = url.slice(`${compileServerOrigin}/`.length)\n  if (!afterOrigin.startsWith(outDirectoryRelativeUrl)) {\n    return url\n  }\n\n  const afterCompileDirectory = afterOrigin.slice(outDirectoryRelativeUrl.length)\n  const nextSlashIndex = afterCompileDirectory.indexOf(\"/\")\n  if (nextSlashIndex === -1) {\n    return url\n  }\n\n  const afterCompileId = afterCompileDirectory.slice(nextSlashIndex + 1)\n  return resolveUrl(afterCompileId, projectDirectoryUrl)\n}\n\nconst moduleExportsToModuleNamespace = (moduleExports) => {\n  // keep in mind moduleExports can be a function (like require('stream'))\n  if (typeof moduleExports === \"object\" && \"default\" in moduleExports) {\n    return moduleExports\n  }\n\n  return {\n    ...moduleExports,\n    default: moduleExports,\n  }\n}\n",
    "import { normalizeImportMap } from \"@jsenv/import-map\"\nimport { uneval } from \"@jsenv/uneval\"\n// do not use memoize from @jsenv/util to avoid pulling @jsenv/util code into the node bundle\nimport { memoize } from \"../../memoize.js\"\nimport { fetchUrl } from \"../../fetchUrl.js\"\nimport { fetchSource } from \"./fetchSource.js\"\nimport { computeCompileIdFromGroupId } from \"../computeCompileIdFromGroupId.js\"\nimport { resolveNodeGroup } from \"../resolveNodeGroup.js\"\nimport { createNodeSystem } from \"./createNodeSystem.js\"\n\nconst memoizedCreateNodeSystem = memoize(createNodeSystem)\n\nexport const createNodeRuntime = async ({\n  projectDirectoryUrl,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n}) => {\n  const outDirectoryUrl = `${projectDirectoryUrl}${outDirectoryRelativeUrl}`\n  const groupMapUrl = String(new URL(\"groupMap.json\", outDirectoryUrl))\n  const envUrl = String(new URL(\"env.json\", outDirectoryUrl))\n  const [groupMap, { importMapFileRelativeUrl, importDefaultExtension }] = await Promise.all([\n    importJson(groupMapUrl),\n    importJson(envUrl),\n  ])\n  const compileId = computeCompileIdFromGroupId({\n    groupId: resolveNodeGroup(groupMap),\n    groupMap,\n  })\n  const compileDirectoryRelativeUrl = `${outDirectoryRelativeUrl}${compileId}/`\n\n  let importMap\n  if (importMapFileRelativeUrl) {\n    const importmapFileUrl = `${compileServerOrigin}/${compileDirectoryRelativeUrl}${importMapFileRelativeUrl}`\n    const importmapFileResponse = await fetchUrl(importmapFileUrl)\n    const importmap = importmapFileResponse.status === 404 ? {} : await importmapFileResponse.json()\n    const importmapNormalized = normalizeImportMap(importmap, importmapFileUrl)\n    importMap = importmapNormalized\n  }\n\n  const importFile = async (specifier) => {\n    const nodeSystem = await memoizedCreateNodeSystem({\n      projectDirectoryUrl,\n      compileServerOrigin,\n      outDirectoryRelativeUrl,\n      importMap,\n      importDefaultExtension,\n      fetchSource,\n    })\n    return makePromiseKeepNodeProcessAlive(nodeSystem.import(specifier))\n  }\n\n  const executeFile = async (\n    specifier,\n    { errorExposureInConsole = true, errorTransform = (error) => error } = {},\n  ) => {\n    const nodeSystem = await memoizedCreateNodeSystem({\n      projectDirectoryUrl,\n      compileServerOrigin,\n      outDirectoryRelativeUrl,\n      importMap,\n      importDefaultExtension,\n      fetchSource,\n    })\n    try {\n      const namespace = await makePromiseKeepNodeProcessAlive(nodeSystem.import(specifier))\n      return {\n        status: \"completed\",\n        namespace,\n        coverageMap: readCoverage(),\n      }\n    } catch (error) {\n      let transformedError\n      try {\n        transformedError = await errorTransform(error)\n      } catch (e) {\n        transformedError = error\n      }\n\n      if (errorExposureInConsole) console.error(transformedError)\n\n      return {\n        status: \"errored\",\n        exceptionSource: unevalException(transformedError),\n        coverageMap: readCoverage(),\n      }\n    }\n  }\n\n  return {\n    compileDirectoryRelativeUrl,\n    importFile,\n    executeFile,\n  }\n}\n\nconst importJson = async (url) => {\n  const response = await fetchSource(url)\n  const object = await response.json()\n  return object\n}\n\nconst unevalException = (value) => {\n  return uneval(value)\n}\n\nconst readCoverage = () => global.__coverage__\n\nconst makePromiseKeepNodeProcessAlive = async (promise) => {\n  const timerId = setInterval(() => {}, 10000)\n\n  try {\n    const value = await promise\n    return value\n  } finally {\n    clearInterval(timerId)\n  }\n}\n",
    "import { createNodeRuntime } from \"./internal/runtime/createNodeRuntime/createNodeRuntime.js\"\n\nexport const nodeRuntime = {\n  create: createNodeRuntime,\n}\n",
    "import { resolveUrl } from \"@jsenv/util\"\nimport { installNodeErrorStackRemapping } from \"../error-stack-remapping/installNodeErrorStackRemapping.js\"\nimport { nodeRuntime } from \"../../nodeRuntime.js\"\n\nexport const execute = async ({\n  projectDirectoryUrl,\n  fileRelativeUrl,\n  compileServerOrigin,\n  outDirectoryRelativeUrl,\n\n  executionId,\n  // do not log in the console\n  // because error handling becomes responsability\n  // of node code launching node process\n  // it avoids seeing error in runtime logs during testing\n  errorExposureInConsole = false,\n}) => {\n  const { compileDirectoryRelativeUrl, executeFile } = await nodeRuntime.create({\n    projectDirectoryUrl,\n    compileServerOrigin,\n    outDirectoryRelativeUrl,\n  })\n\n  const { getErrorOriginalStackString } = installNodeErrorStackRemapping({\n    projectDirectoryUrl,\n  })\n\n  const compiledFileRemoteUrl = resolveUrl(\n    fileRelativeUrl,\n    `${compileServerOrigin}/${compileDirectoryRelativeUrl}`,\n  )\n  return executeFile(compiledFileRemoteUrl, {\n    executionId,\n    errorTransform: async (error) => {\n      // code can throw something else than an error\n      // in that case return it unchanged\n      if (!error || !(error instanceof Error)) return error\n\n      const originalStack = await getErrorOriginalStackString(error)\n      error.stack = originalStack\n      return error\n    },\n    errorExposureInConsole,\n  })\n}\n"
  ],
  "names": [
    "obj",
    "key",
    "value",
    "Object",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "target",
    "i",
    "arguments",
    "length",
    "source",
    "ownKeys",
    "forEach",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "getOwnPropertyDescriptor",
    "object",
    "enumerableOnly",
    "keys",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "push",
    "apply",
    "excluded",
    "sourceKeys",
    "indexOf",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "prototype",
    "propertyIsEnumerable",
    "call",
    "nativeTypeOf",
    "customTypeOf",
    "Symbol",
    "constructor",
    "iterator",
    "assertImportMap",
    "TypeError",
    "type",
    "Array",
    "isArray",
    "hasScheme",
    "string",
    "test",
    "urlToScheme",
    "urlString",
    "colonIndex",
    "slice",
    "urlToPathname",
    "ressourceToPathname",
    "urlToRessource",
    "scheme",
    "afterProtocol",
    "pathnameSlashIndex",
    "ressource",
    "searchSeparatorIndex",
    "urlToOrigin",
    "secondProtocolSlashIndex",
    "pathnameToParentPathname",
    "pathname",
    "slashLastIndex",
    "lastIndexOf",
    "resolveUrl",
    "specifier",
    "baseUrl",
    "writeBaseUrlMustBeAString",
    "Error",
    "writeBaseUrlMustBeAbsolute",
    "writeBaseUrlRequired",
    "baseOrigin",
    "basePathname",
    "baseDirectoryPathname",
    "unresolvedPathname",
    "importerFolders",
    "split",
    "pop",
    "resolvedPathname",
    "join",
    "tryUrlResolution",
    "url",
    "result",
    "resolveSpecifier",
    "importer",
    "startsWith",
    "sortImports",
    "imports",
    "importsSorted",
    "sort",
    "compareLengthOrLocaleCompare",
    "name",
    "sortScopes",
    "scopes",
    "scopesSorted",
    "scopeName",
    "a",
    "b",
    "localeCompare",
    "normalizeImportMap",
    "importMap",
    "formulateBaseUrlMustBeAString",
    "normalizeImports",
    "undefined",
    "normalizeScopes",
    "importsNormalized",
    "address",
    "console",
    "warn",
    "formulateAddressMustBeAString",
    "specifierResolved",
    "addressUrl",
    "formulateAdressResolutionFailed",
    "endsWith",
    "formulateAddressUrlRequiresTrailingSlash",
    "scopesNormalized",
    "scope",
    "scopeValue",
    "scopeUrl",
    "formulateScopeResolutionFailed",
    "scopeValueNormalized",
    "addressURL",
    "pathnameToExtension",
    "dotLastIndex",
    "applyImportMap",
    "writeSpecifierMustBeAString",
    "writeImporterMustBeAString",
    "writeImporterMustBeAbsolute",
    "specifierUrl",
    "specifierNormalized",
    "scopeKeyMatching",
    "find",
    "scopeKey",
    "specifierIsPrefixOf",
    "remappingFromScopeImports",
    "applyImports",
    "remappingFromImports",
    "writeBareSpecifierMustBeRemapped",
    "importKeyArray",
    "importKey",
    "importValue",
    "afterImportKey",
    "specifierHref",
    "href",
    "resolveImport",
    "defaultExtension",
    "applyDefaultExtension",
    "extension",
    "importerPathname",
    "importerExtension",
    "nodeRequire",
    "require",
    "filenameContainsBackSlashes",
    "__filename",
    "replace",
    "createRequire",
    "then",
    "direct",
    "Promise",
    "resolve",
    "f",
    "args",
    "e",
    "reject",
    "globalAgent",
    "options",
    "rejectUnauthorized",
    "fetchUrl",
    "simplified",
    "ignoreHttpsError",
    "rest",
    "serverFetchUrl",
    "response",
    "status",
    "statusText",
    "headers",
    "responseToHeaders",
    "text",
    "bind",
    "json",
    "blob",
    "arrayBuffer",
    "arrayLikeToArray",
    "arr",
    "len",
    "arr2",
    "iter",
    "from",
    "unsupportedIterableToArray",
    "o",
    "minLen",
    "n",
    "toString",
    "arrayWithoutHoles",
    "iterableToArray",
    "nonIterableSpread",
    "stackToString",
    "stack",
    "error",
    "indent",
    "message",
    "stackString",
    "map",
    "callSite",
    "parseDataUrl",
    "dataUrl",
    "afterDataProtocol",
    "commaIndex",
    "beforeComma",
    "mediaType",
    "base64Flag",
    "afterComma",
    "data",
    "dataUrlToRawData",
    "base64ToString",
    "dataToBase64",
    "window",
    "atob",
    "Buffer",
    "btoa",
    "base64String",
    "getJavaScriptSourceMappingUrl",
    "javaScriptSource",
    "sourceMappingUrl",
    "replaceSourceMappingUrl",
    "javascriptSourceMappingUrlCommentRegexp",
    "regexp",
    "callback",
    "lastSourceMappingUrl",
    "matchSourceMappingUrl",
    "exec",
    "index",
    "before",
    "after",
    "mappedAfter",
    "match",
    "firstGroup",
    "startsWithWindowsDriveLetter",
    "firstChar",
    "secondChar",
    "windowsFilePathToUrl",
    "windowsFilePath",
    "replaceBackSlashesWithSlashes",
    "body",
    "remapCallSite",
    "urlToSourcemapConsumer",
    "resolveFile",
    "readErrorStack",
    "onFailure",
    "isNative",
    "getFileName",
    "getScriptNameOrSourceURL",
    "line",
    "getLineNumber",
    "column",
    "getColumnNumber",
    "remapSourcePosition",
    "originalPosition",
    "callSiteClone",
    "cloneCallSite",
    "getFunctionName",
    "isEval",
    "origin",
    "getEvalOrigin",
    "remapEvalOrigin",
    "originalEvalOrigin",
    "methods",
    "callSiteToFunctionCall",
    "fileLocation",
    "callSiteToFileLocation",
    "isConstructor",
    "isMethodCall",
    "isToplevel",
    "callSiteToMethodCall",
    "functionName",
    "typeName",
    "callSiteToType",
    "methodName",
    "getMethodName",
    "as",
    "generateAs",
    "getTypeName",
    "sourceFile",
    "callSiteToSourceFile",
    "lineNumber",
    "columnNumber",
    "fileName",
    "topLevelEvalMatch",
    "Number",
    "nestedEvalMatch",
    "position",
    "sourceToUrl",
    "sourceMapConsumer",
    "originalPositionFor",
    "originalSource",
    "startsWithScheme",
    "recover",
    "generateOriginalStackString",
    "fetchFile",
    "SourceMapConsumer",
    "memoizeByFirstArgStringValue",
    "stackTraceFileUrl",
    "fileResponse",
    "jsSourcemapUrl",
    "sourcemapUrl",
    "sourcemapString",
    "sourcemapResponse",
    "sourceMap",
    "JSON",
    "parse",
    "sourcesContent",
    "firstSourceMapSourceFailure",
    "all",
    "sources",
    "sourcemapSourceUrl",
    "sourceResponse",
    "sourceString",
    "originalStack",
    "unmappedStack",
    "fn",
    "stringValueCache",
    "firstArgValue",
    "installErrorStackRemapping",
    "errorOriginalStackStringCache",
    "WeakMap",
    "errorRemapFailureCallbackMap",
    "installed",
    "previousPrepareStackTrace",
    "prepareStackTrace",
    "install",
    "uninstall",
    "failureData",
    "failureCallbackArray",
    "get",
    "originalStackStringPromise",
    "memoizeFetch",
    "set",
    "getErrorOriginalStackString",
    "remapFailureCallbackArray",
    "promise",
    "urlCache",
    "responsePromise",
    "installNodeErrorStackRemapping",
    "projectDirectoryUrl",
    "ensureWindowsDriveLetter",
    "_arr",
    "_n",
    "_d",
    "_e",
    "_i",
    "_s",
    "next",
    "done",
    "err",
    "return",
    "arrayWithHoles",
    "iterableToArrayLimit",
    "nonIterableRest",
    "isComposite",
    "compositeWellKnownMap",
    "primitiveWellKnownMap",
    "Map",
    "getCompositeGlobalPath",
    "getPrimitiveGlobalPath",
    "visitGlobalObject",
    "visitValue",
    "path",
    "has",
    "visitProperty",
    "property",
    "descriptor",
    "propertyValue",
    "getOwnPropertyNames",
    "symbol",
    "global",
    "decompose",
    "mainValue",
    "functionAllowed",
    "prototypeStrict",
    "valueMap",
    "recipeArray",
    "valueToIdentifier",
    "existingIdentifier",
    "identifierForPrimitive",
    "identifier",
    "identifierForNewValue",
    "primitiveToRecipe",
    "createPromiseAreNotSupportedMessage",
    "WeakSet",
    "createWeakSetAreNotSupportedMessage",
    "createWeakMapAreNotSupportedMessage",
    "createForbiddenFunctionMessage",
    "identifierForComposite",
    "compositeGlobalPath",
    "createGlobalReferenceRecipe",
    "propertyDescriptionArray",
    "propertyName",
    "propertyDescriptor",
    "propertyNameIdentifier",
    "propertyDescription",
    "computePropertyDescription",
    "symbolDescriptionArray",
    "symbolIdentifier",
    "methodDescriptionArray",
    "computeMethodDescriptionArray",
    "extensible",
    "isExtensible",
    "createCompositeRecipe",
    "propertyNameOrSymbol",
    "createForbiddenPropertySetterMessage",
    "createForbiddenPropertyGetterMessage",
    "getIdentifier",
    "String",
    "setIdentifier",
    "valueIdentifier",
    "Set",
    "callArray",
    "entryValue",
    "entryValueIdentifier",
    "methodNameIdentifier",
    "entryKey",
    "entryKeyIdentifier",
    "existingValue",
    "is",
    "nextIdentifier",
    "currentIdentifier",
    "parseInt",
    "mainIdentifier",
    "prototypeValueToIdentifier",
    "prototypeValue",
    "prototypeExistingIdentifier",
    "prototypeIdentifier",
    "prototypeGlobalPath",
    "createUnknownPrototypeMessage",
    "getPrototypeOf",
    "identifierForValueOf",
    "valueOf",
    "valueOfReturnValue",
    "createUnexpectedValueOfReturnValueMessage",
    "recipe",
    "valueOfIdentifier",
    "RegExp",
    "symbolToRecipe",
    "createPimitiveRecipe",
    "globalSymbolKey",
    "keyFor",
    "createGlobalSymbolRecipe",
    "symbolGlobalPath",
    "createUnknownSymbolMessage",
    "sortRecipe",
    "findInRecipePrototypeChain",
    "currentRecipe",
    "recipeArrayOrdered",
    "leftRecipe",
    "rightRecipe",
    "leftType",
    "rightType",
    "rightRecipeIsInLeftRecipePrototypeChain",
    "recipeCandidate",
    "leftRecipeIsInRightRecipePrototypeChain",
    "leftIndex",
    "rightIndex",
    "escapeString",
    "j",
    "escapedString",
    "char",
    "escapedChar",
    "uneval",
    "recipeArraySorted",
    "variableNameMap",
    "indexSorted",
    "identifierToVariableName",
    "recipeToSetupSource",
    "primitiveRecipeToSetupSource",
    "globalSymbolRecipeToSetupSource",
    "globalReferenceRecipeToSetupSource",
    "compositeRecipeToSetupSource",
    "pathSource",
    "part",
    "prototypeConstructor",
    "recipeVariableName",
    "recipeToMutateSource",
    "compositeRecipeToMutateSource",
    "mutateSource",
    "generateDefinePropertySource",
    "generateMethodCallSource",
    "generatePreventExtensionSource",
    "propertyNameOrSymbolIdentifier",
    "propertyOrSymbolVariableName",
    "propertyDescriptorSource",
    "generatePropertyDescriptorSource",
    "methodCallSource",
    "methodVariableName",
    "argumentIdentifiers",
    "argumentVariableNames",
    "argumentIdentifier",
    "memoize",
    "compute",
    "memoized",
    "memoizedValue",
    "fnWithMemoization",
    "forget",
    "fetchSource",
    "executionId",
    "COMPILE_ID_OTHERWISE",
    "computeCompileIdFromGroupId",
    "groupId",
    "groupMap",
    "createUnexpectedGroupIdMessage",
    "compileId",
    "detectNode",
    "version",
    "process",
    "valueToVersion",
    "numberToVersion",
    "stringToVersion",
    "createValueErrorMessage",
    "number",
    "major",
    "minor",
    "patch",
    "parts",
    "isNaN",
    "versionCompare",
    "versionA",
    "versionB",
    "semanticVersionA",
    "semanticVersionB",
    "majorDiff",
    "minorDiff",
    "patchDiff",
    "versionIsBelow",
    "versionSupposedBelow",
    "versionSupposedAbove",
    "findHighestVersion",
    "values",
    "reduce",
    "highestVersion",
    "resolveGroup",
    "compileIdCandidate",
    "runtimeCompatMap",
    "versionForGroup",
    "resolveNodeGroup",
    "errMsg",
    "errCode",
    "msg",
    "hasSymbol",
    "hasSelf",
    "self",
    "hasDocument",
    "document",
    "envGlobal",
    "baseEl",
    "querySelector",
    "location",
    "lastSepIndex",
    "backslashRegEx",
    "resolveIfNotPlainOrUrl",
    "relUrl",
    "parentUrl",
    "parentProtocol",
    "segmented",
    "output",
    "segmentIndex",
    "resolveAndComposePackages",
    "packages",
    "outPackages",
    "parentMap",
    "p",
    "resolvedLhs",
    "rhs",
    "mapped",
    "resolveImportMap",
    "targetWarning",
    "resolveAndComposeImportMap",
    "outMap",
    "u",
    "resolvedScope",
    "depcache",
    "integrity",
    "getMatch",
    "matchObj",
    "sepIndex",
    "segment",
    "applyPackages",
    "id",
    "pkgName",
    "pkg",
    "code",
    "resolvedOrPlain",
    "packageResolution",
    "toStringTag",
    "REGISTRY",
    "SystemJS",
    "systemJSPrototype",
    "import",
    "loader",
    "prepareImport",
    "load",
    "getOrCreateLoad",
    "C",
    "topLevelLoad",
    "createContext",
    "parentId",
    "loadToId",
    "triggerOnload",
    "isErrSource",
    "onload",
    "d",
    "lastRegister",
    "register",
    "deps",
    "declare",
    "getRegister",
    "_lastRegister",
    "firstParentUrl",
    "importerSetters",
    "ns",
    "create",
    "instantiatePromise",
    "instantiate",
    "registration",
    "_export",
    "h",
    "changed",
    "__esModule",
    "setter",
    "declared",
    "importId",
    "meta",
    "execute",
    "setters",
    "linkPromise",
    "instantiation",
    "dep",
    "depId",
    "depLoad",
    "I",
    "depLoads",
    "catch",
    "er",
    "L",
    "E",
    "instantiateAll",
    "loaded",
    "postOrderExec",
    "nullContext",
    "freeze",
    "seen",
    "depLoadPromises",
    "depLoadPromise",
    "doExec",
    "execPromise",
    "System",
    "importMapPromise",
    "processFirst",
    "doProcessScripts",
    "processScripts",
    "addEventListener",
    "querySelectorAll",
    "script",
    "sp",
    "src",
    "fetchPromise",
    "fetch",
    "res",
    "innerHTML",
    "extendImportMap",
    "newMapText",
    "newMapUrl",
    "newMap",
    "evt",
    "lastWindowErrorUrl",
    "filename",
    "lastWindowError",
    "createScript",
    "createElement",
    "async",
    "crossOrigin",
    "lastAutoImportDeps",
    "lastAutoImportTimeout",
    "autoImportCandidates",
    "systemRegister",
    "readyState",
    "scripts",
    "getElementsByTagName",
    "lastScript",
    "setTimeout",
    "autoImportRegistration",
    "head",
    "removeChild",
    "clearTimeout",
    "appendChild",
    "throwUnresolved",
    "systemInstantiate",
    "preloads",
    "importScripts",
    "fromFunctionReturningNamespace",
    "fromFunctionReturningRegisteredModule",
    "namespace",
    "getModuleDetails",
    "fromUrl",
    "importerUrl",
    "instantiateJavaScript",
    "compileServerOrigin",
    "outDirectoryRelativeUrl",
    "moduleResponse",
    "notFound",
    "contentType",
    "bodyAsJson",
    "parsingError",
    "bodyAsText",
    "default",
    "contentTypeShouldBeReadAsText",
    "relativeUrl",
    "tryToFindProjectRelativeUrl",
    "importerRelativeUrl",
    "details",
    "file",
    "afterOrigin",
    "afterCompileDirectory",
    "nextSlashIndex",
    "afterCompileId",
    "valueInstall",
    "previous",
    "NATIVE_NODE_MODULE_SPECIFIER_ARRAY",
    "isNativeNodeModuleBareSpecifier",
    "includes",
    "evalSource",
    "filePath",
    "Script",
    "runInThisContext",
    "_async",
    "GLOBAL_SPECIFIER",
    "createNodeSystem",
    "importDefaultExtension",
    "nodeSystem",
    "moduleExportsForNativeNodeModule",
    "moduleExportsToModuleNamespace",
    "responseBody",
    "responseUrl",
    "uninstallSystemGlobal",
    "responseUrlToSourceUrl",
    "originalUrl",
    "urlToOriginalUrl",
    "urlResolved",
    "urlToFileSystemPath",
    "fileUrl",
    "moduleExports",
    "_await",
    "memoizedCreateNodeSystem",
    "thrown",
    "finalizer",
    "createNodeRuntime",
    "outDirectoryUrl",
    "groupMapUrl",
    "URL",
    "envUrl",
    "importJson",
    "importMapFileRelativeUrl",
    "compileDirectoryRelativeUrl",
    "importmapFileUrl",
    "importmapFileResponse",
    "importmap",
    "importmapNormalized",
    "importFile",
    "makePromiseKeepNodeProcessAlive",
    "executeFile",
    "errorExposureInConsole",
    "errorTransform",
    "coverageMap",
    "readCoverage",
    "transformedError",
    "exceptionSource",
    "unevalException",
    "__coverage__",
    "timerId",
    "setInterval",
    "clearInterval",
    "nodeRuntime",
    "fileRelativeUrl",
    "compiledFileRemoteUrl"
  ],
  "mappings": "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"
}