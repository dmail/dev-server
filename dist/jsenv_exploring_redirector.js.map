{
  "version": 3,
  "sources": [
    "../helpers/babel/arrayWithHoles/arrayWithHoles.js",
    "../helpers/babel/iterableToArrayLimit/iterableToArrayLimit.js",
    "../helpers/babel/arrayLikeToArray/arrayLikeToArray.js",
    "../helpers/babel/unsupportedIterableToArray/unsupportedIterableToArray.js",
    "../helpers/babel/nonIterableRest/nonIterableRest.js",
    "../helpers/babel/slicedToArray/slicedToArray.js",
    "../helpers/babel/defineProperty/defineProperty.js",
    "../helpers/babel/objectSpread2/objectSpread2.js",
    "../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../node_modules/@jsenv/cancellation/src/createCancellationToken.js",
    "../helpers/babel/typeof/typeof.js",
    "../node_modules/@jsenv/cancellation/src/cancelError.js",
    "../node_modules/@jsenv/logger/src/createDetailedMessage.js",
    "../src/internal/browser-utils/fetchUsingXHR.js",
    "../src/internal/browser-utils/fetch-browser.js",
    "../src/internal/browser-utils/fetchJson.js",
    "../src/internal/CONSTANTS.js",
    "../src/internal/runtime/computeCompileIdFromGroupId.js",
    "../src/internal/runtime/detectBrowser/util.js",
    "../src/internal/runtime/detectBrowser/detectAndroid.js",
    "../src/internal/runtime/detectBrowser/detectInternetExplorer.js",
    "../src/internal/runtime/detectBrowser/detectOpera.js",
    "../src/internal/runtime/detectBrowser/detectEdge.js",
    "../src/internal/runtime/detectBrowser/detectFirefox.js",
    "../src/internal/runtime/detectBrowser/detectChrome.js",
    "../src/internal/runtime/detectBrowser/detectSafari.js",
    "../src/internal/runtime/detectBrowser/detectElectron.js",
    "../src/internal/runtime/detectBrowser/detectIOS.js",
    "../src/internal/runtime/detectBrowser/detectBrowser.js",
    "../src/internal/semantic-versioning/valueToVersion.js",
    "../src/internal/semantic-versioning/versionCompare.js",
    "../src/internal/semantic-versioning/versionIsBelow.js",
    "../src/internal/semantic-versioning/findHighestVersion.js",
    "../src/internal/runtime/resolveGroup.js",
    "../src/internal/runtime/resolveBrowserGroup.js",
    "../src/internal/runtime/createBrowserRuntime/scanBrowserRuntimeFeatures.js",
    "../src/internal/exploring/fetchExploringJson.js",
    "../src/internal/exploring/exploring.redirector.js"
  ],
  "names": [
    "Array",
    "_i",
    "arr",
    "Symbol",
    "_arr",
    "_n",
    "_d",
    "_s",
    "i",
    "_e",
    "len",
    "arr2",
    "arrayLikeToArray",
    "n",
    "Object",
    "o",
    "arrayWithHoles",
    "iterableToArrayLimit",
    "unsupportedIterableToArray",
    "nonIterableRest",
    "key",
    "value",
    "enumerable",
    "configurable",
    "writable",
    "obj",
    "keys",
    "symbols",
    "arguments",
    "source",
    "ownKeys",
    "defineProperty",
    "target",
    "sourceKeys",
    "excluded",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "createCancellationToken",
    "register",
    "callback",
    "unregister",
    "throwIfRequested",
    "cancellationRequested",
    "nativeTypeOf",
    "customTypeOf",
    "isCancelError",
    "createDetailedMessage",
    "details",
    "string",
    "fetchUsingXHR",
    "cancellationToken",
    "method",
    "credentials",
    "headers",
    "body",
    "headersPromise",
    "createPromiseAndHooks",
    "bodyPromise",
    "xhr",
    "failure",
    "cleanup",
    "createRequestError",
    "url",
    "readyState",
    "args",
    "forEach",
    "withCredentials",
    "computeWithCredentials",
    "Promise",
    "f",
    "responseUrl",
    "responseStatus",
    "responseStatusText",
    "then",
    "responseHeaders",
    "getHeadersFromXHR",
    "readBody",
    "status",
    "responseBody",
    "responseBodyType",
    "detectBodyType",
    "text",
    "blobToText",
    "arrayBufferToText",
    "String",
    "json",
    "JSON",
    "blob",
    "cloneBuffer",
    "arrayBuffer",
    "formData",
    "statusText",
    "canUseBlob",
    "window",
    "hasBlob",
    "hasFormData",
    "hasArrayBuffer",
    "hasSearchParams",
    "error",
    "promise",
    "resolve",
    "res",
    "reject",
    "rej",
    "originSameAsGlobalOrigin",
    "globalOrigin",
    "hrefToOrigin",
    "Blob",
    "FormData",
    "isDataView",
    "ArrayBuffer",
    "isArrayBufferView",
    "URLSearchParams",
    "headerMap",
    "headersString",
    "lines",
    "parts",
    "line",
    "name",
    "scheme",
    "hrefToScheme",
    "secondProtocolSlashIndex",
    "pathnameSlashIndex",
    "href",
    "colonIndex",
    "DataView",
    "viewClasses",
    "textToFormData",
    "form",
    "split",
    "bytes",
    "decodeURIComponent",
    "blobToArrayBuffer",
    "reader",
    "fileReaderReady",
    "view",
    "chars",
    "buffer",
    "result",
    "fetchNative",
    "mode",
    "options",
    "abortController",
    "cancelError",
    "response",
    "signal",
    "e",
    "responseToHeaders",
    "fetchUrl",
    "recover",
    "fetchJson",
    "COMPILE_ID_OTHERWISE",
    "computeCompileIdFromGroupId",
    "groupId",
    "groupMap",
    "createUnexpectedGroupIdMessage",
    "compileId",
    "firstMatch",
    "match",
    "secondMatch",
    "userAgentToVersion",
    "detectAndroid",
    "navigatorToBrowser",
    "userAgent",
    "appVersion",
    "version",
    "detectInternetExplorer",
    "userAgentToBrowser",
    "detectOpera",
    "detectEdge",
    "detectFirefox",
    "detectChrome",
    "detectSafari",
    "detectElectron",
    "detectIOS",
    "detectorCompose",
    "detectors",
    "detector",
    "detectBrowser",
    "normalizeName",
    "normalizeVersion",
    "valueToVersion",
    "numberToVersion",
    "stringToVersion",
    "createValueErrorMessage",
    "major",
    "minor",
    "patch",
    "Number",
    "isNaN",
    "versionCompare",
    "semanticVersionA",
    "semanticVersionB",
    "majorDiff",
    "minorDiff",
    "patchDiff",
    "versionIsBelow",
    "findHighestVersion",
    "values",
    "resolveGroup",
    "runtimeCompatMap",
    "versionForGroup",
    "highestVersion",
    "resolveBrowserGroup",
    "scanBrowserRuntimeFeatures",
    "coverageInstrumentationRequired",
    "outDirectoryRelativeUrl",
    "groupMapUrl",
    "envFileUrl",
    "envJson",
    "groupInfo",
    "inlineImportMapIntoHTML",
    "customCompilerNames",
    "convertPatterns",
    "featuresReport",
    "babelPluginRequiredNames",
    "babelPluginRequiredNamesFromGroupInfo",
    "getFeaturesReport",
    "canAvoidCompilation",
    "jsenvPluginRequiredNames",
    "supportsImportmap",
    "remote",
    "importmapSupported",
    "dynamicImportSupported",
    "topLevelAwaitSupported",
    "babelPluginRequiredNameArray",
    "transformInstrumentIndex",
    "specifier",
    "jsToTextUrl",
    "importMap",
    "imports",
    "importmapScript",
    "document",
    "importmapString",
    "scriptModule",
    "supported",
    "supportsDynamicImport",
    "moduleSource",
    "namespace",
    "supportsTopLevelAwait",
    "fetchExploringJson",
    "redirect",
    "browserRuntimeFeaturesReport",
    "exploringHtmlFileRelativeUrl"
  ],
  "mappings": "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",
  "sourcesContent": [
    "// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arr\n}\n",
    "export default function _iterableToArrayLimit(arr, i) {\n  // this is an expanded form of \\`for...of\\` that properly supports abrupt completions of\n  // iterators etc. variable names have been minimised to reduce the size of this massive\n  // helper. sometimes spec compliance is annoying :(\n  //\n  // _n = _iteratorNormalCompletion\n  // _d = _didIteratorError\n  // _e = _iteratorError\n  // _i = _iterator\n  // _s = _step\n  var _i =\n    arr == null\n      ? null\n      : (typeof Symbol !== \"undefined\" && arr[Symbol.iterator]) || arr[\"@@iterator\"]\n  if (_i == null) return\n  var _arr = []\n  var _n = true\n  var _d = false\n  var _s, _e\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value)\n      if (i && _arr.length === i) break\n    }\n  } catch (err) {\n    _d = true\n    _e = err\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]()\n    } finally {\n      if (_d) throw _e\n    }\n  }\n  return _arr\n}\n",
    "/* eslint-disable no-eq-null, eqeqeq */\nexport default function arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length\n  var arr2 = new Array(len)\n  for (var i = 0; i < len; i++) arr2[i] = arr[i]\n  return arr2\n}\n",
    "/* eslint-disable consistent-return */\nimport arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\nexport default function unsupportedIterableToArray(o, minLen) {\n  if (!o) return\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen)\n  var n = Object.prototype.toString.call(o).slice(8, -1)\n  if (n === \"Object\" && o.constructor) n = o.constructor.name\n  if (n === \"Map\" || n === \"Set\") return Array.from(o)\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return arrayLikeToArray(o, minLen)\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n",
    "import arrayWithHoles from \"../arrayWithHoles/arrayWithHoles.js\"\nimport iterableToArrayLimit from \"../iterableToArrayLimit/iterableToArrayLimit.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableRest from \"../nonIterableRest/nonIterableRest.js\"\n\nexport default (arr, i) =>\n  arrayWithHoles(arr) ||\n  iterableToArrayLimit(arr, i) ||\n  unsupportedIterableToArray(arr, i) ||\n  nonIterableRest()\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "export const createCancellationToken = () => {\n  const register = (callback) => {\n    if (typeof callback !== \"function\") {\n      throw new Error(`callback must be a function, got ${callback}`)\n    }\n\n    return {\n      callback,\n      unregister: () => {},\n    }\n  }\n\n  const throwIfRequested = () => undefined\n\n  return {\n    register,\n    cancellationRequested: false,\n    throwIfRequested,\n  }\n}\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const createCancelError = (reason) => {\n  const cancelError = new Error(`canceled because ${reason}`)\n  cancelError.name = \"CANCEL_ERROR\"\n  cancelError.reason = reason\n  return cancelError\n}\n\nexport const isCancelError = (value) => {\n  return value && typeof value === \"object\" && value.name === \"CANCEL_ERROR\"\n}\n\nexport const errorToCancelReason = (error) => {\n  if (!isCancelError(error)) return \"\"\n  return error.reason\n}\n",
    "export const createDetailedMessage = (message, details = {}) => {\n  let string = `${message}`\n\n  Object.keys(details).forEach((key) => {\n    const value = details[key]\n    string += `\n--- ${key} ---\n${\n  Array.isArray(value)\n    ? value.join(`\n`)\n    : value\n}`\n  })\n\n  return string\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { createDetailedMessage } from \"@jsenv/logger\"\n// ideally we should do some window.fetch detection (ensuring it has cancellation) and accordingly\n// fallback to this polyfill (or even use an existing polyfill would be better)\n// https://github.com/github/fetch/blob/master/fetch.js\n\nexport const fetchUsingXHR = async (\n  url,\n  {\n    cancellationToken = createCancellationToken(),\n    method = \"GET\",\n    credentials = \"same-origin\",\n    headers = {},\n    body = null,\n  } = {},\n) => {\n  const headersPromise = createPromiseAndHooks()\n  const bodyPromise = createPromiseAndHooks()\n\n  const xhr = new XMLHttpRequest()\n\n  const failure = (error) => {\n    // if it was already resolved, we must reject the body promise\n    if (headersPromise.settled) {\n      bodyPromise.reject(error)\n    } else {\n      headersPromise.reject(error)\n    }\n  }\n\n  const cleanup = () => {\n    xhr.ontimeout = null\n    xhr.onerror = null\n    xhr.onload = null\n    xhr.onreadystatechange = null\n  }\n\n  xhr.ontimeout = () => {\n    cleanup()\n    failure(new Error(`xhr request timeout on ${url}.`))\n  }\n\n  xhr.onerror = (error) => {\n    cleanup()\n    // unfortunately with have no clue why it fails\n    // might be cors for instance\n    failure(createRequestError(error, { url }))\n  }\n\n  xhr.onload = () => {\n    cleanup()\n    bodyPromise.resolve()\n  }\n\n  cancellationToken.register((cancelError) => {\n    xhr.abort()\n    failure(cancelError)\n  })\n\n  xhr.onreadystatechange = () => {\n    // https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest/readyState\n    const { readyState } = xhr\n\n    if (readyState === 2) {\n      headersPromise.resolve()\n    } else if (readyState === 4) {\n      cleanup()\n      bodyPromise.resolve()\n    }\n  }\n\n  xhr.open(method, url, true)\n  Object.keys(headers).forEach((key) => {\n    xhr.setRequestHeader(key, headers[key])\n  })\n  xhr.withCredentials = computeWithCredentials({ credentials, url })\n  if (\"responseType\" in xhr && hasBlob) {\n    xhr.responseType = \"blob\"\n  }\n  xhr.send(body)\n\n  await headersPromise\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n  const responseUrl = \"responseURL\" in xhr ? xhr.responseURL : headers[\"x-request-url\"]\n  let responseStatus = xhr.status\n  const responseStatusText = xhr.statusText\n  const responseHeaders = getHeadersFromXHR(xhr)\n\n  const readBody = async () => {\n    await bodyPromise\n\n    const { status } = xhr\n    // in Chrome on file:/// URLs, status is 0\n    if (status === 0) {\n      responseStatus = 200\n    }\n\n    const body = \"response\" in xhr ? xhr.response : xhr.responseText\n\n    return {\n      responseBody: body,\n      responseBodyType: detectBodyType(body),\n    }\n  }\n\n  const text = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return blobToText(responseBody)\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as text\")\n    }\n    if (responseBodyType === \"dataView\") {\n      return arrayBufferToText(responseBody.buffer)\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return arrayBufferToText(responseBody)\n    }\n    // if (responseBodyType === \"text\" || responseBodyType === 'searchParams') {\n    //   return body\n    // }\n    return String(responseBody)\n  }\n\n  const json = async () => {\n    const responseText = await text()\n    return JSON.parse(responseText)\n  }\n\n  const blob = async () => {\n    if (!hasBlob) {\n      throw new Error(`blob not supported`)\n    }\n\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return responseBody\n    }\n    if (responseBodyType === \"dataView\") {\n      return new Blob([cloneBuffer(responseBody.buffer)])\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return new Blob([cloneBuffer(responseBody)])\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as blob\")\n    }\n    return new Blob([String(responseBody)])\n  }\n\n  const arrayBuffer = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"arrayBuffer\") {\n      return cloneBuffer(responseBody)\n    }\n    const responseBlob = await blob()\n    return blobToArrayBuffer(responseBlob)\n  }\n\n  const formData = async () => {\n    if (!hasFormData) {\n      throw new Error(`formData not supported`)\n    }\n    const responseText = await text()\n    return textToFormData(responseText)\n  }\n\n  return {\n    url: responseUrl,\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: responseHeaders,\n    text,\n    json,\n    blob,\n    arrayBuffer,\n    formData,\n  }\n}\n\nconst canUseBlob = () => {\n  if (typeof window.FileReader !== \"function\") return false\n\n  if (typeof window.Blob !== \"function\") return false\n\n  try {\n    // eslint-disable-next-line no-new\n    new Blob()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasBlob = canUseBlob()\n\nconst hasFormData = typeof window.FormData === \"function\"\n\nconst hasArrayBuffer = typeof window.ArrayBuffer === \"function\"\n\nconst hasSearchParams = typeof window.URLSearchParams === \"function\"\n\nconst createRequestError = (error, { url }) => {\n  return new Error(\n    createDetailedMessage(`error during xhr request on ${url}.`, {\n      [\"error stack\"]: error.stack,\n    }),\n  )\n}\n\nconst createPromiseAndHooks = () => {\n  let resolve\n  let reject\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      promise.settled = true\n      res(value)\n    }\n    reject = (value) => {\n      promise.settled = true\n      rej(value)\n    }\n  })\n  promise.resolve = resolve\n  promise.reject = reject\n  return promise\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst detectBodyType = (body) => {\n  if (!body) {\n    return \"\"\n  }\n  if (typeof body === \"string\") {\n    return \"text\"\n  }\n  if (hasBlob && Blob.prototype.isPrototypeOf(body)) {\n    return \"blob\"\n  }\n  if (hasFormData && FormData.prototype.isPrototypeOf(body)) {\n    return \"formData\"\n  }\n  if (hasArrayBuffer) {\n    if (hasBlob && isDataView(body)) {\n      return `dataView`\n    }\n    if (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body)) {\n      return `arrayBuffer`\n    }\n  }\n  if (hasSearchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n    return \"searchParams\"\n  }\n  return \"\"\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n\nconst hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n\nconst hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n\nconst isDataView = (obj) => {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nconst isArrayBufferView =\n  ArrayBuffer.isView ||\n  (() => {\n    const viewClasses = [\n      \"[object Int8Array]\",\n      \"[object Uint8Array]\",\n      \"[object Uint8ClampedArray]\",\n      \"[object Int16Array]\",\n      \"[object Uint16Array]\",\n      \"[object Int32Array]\",\n      \"[object Uint32Array]\",\n      \"[object Float32Array]\",\n      \"[object Float64Array]\",\n    ]\n\n    return (value) => {\n      return value && viewClasses.includes(Object.prototype.toString.call(value))\n    }\n  })()\n\nconst textToFormData = (text) => {\n  const form = new FormData()\n  text\n    .trim()\n    .split(\"&\")\n    .forEach(function (bytes) {\n      if (bytes) {\n        const split = bytes.split(\"=\")\n        const name = split.shift().replace(/\\+/g, \" \")\n        const value = split.join(\"=\").replace(/\\+/g, \" \")\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nconst blobToArrayBuffer = async (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nconst blobToText = (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nconst arrayBufferToText = (arrayBuffer) => {\n  const view = new Uint8Array(arrayBuffer)\n  const chars = new Array(view.length)\n  let i = 0\n  while (i < view.length) {\n    chars[i] = String.fromCharCode(view[i])\n\n    i++\n  }\n  return chars.join(\"\")\n}\n\nconst fileReaderReady = (reader) => {\n  return new Promise(function (resolve, reject) {\n    reader.onload = function () {\n      resolve(reader.result)\n    }\n    reader.onerror = function () {\n      reject(reader.error)\n    }\n  })\n}\n\nconst cloneBuffer = (buffer) => {\n  if (buffer.slice) {\n    return buffer.slice(0)\n  }\n  const view = new Uint8Array(buffer.byteLength)\n  view.set(new Uint8Array(buffer))\n  return view.buffer\n}\n",
    "import { createCancellationToken } from \"@jsenv/cancellation/main.browser.js\"\nimport { fetchUsingXHR } from \"./fetchUsingXHR.js\"\n\nconst fetchNative = async (\n  url,\n  { cancellationToken = createCancellationToken(), mode = \"cors\", ...options } = {},\n) => {\n  const abortController = new AbortController()\n\n  let cancelError\n  cancellationToken.register((reason) => {\n    cancelError = reason\n    abortController.abort(reason)\n  })\n\n  let response\n  try {\n    response = await window.fetch(url, {\n      signal: abortController.signal,\n      mode,\n      ...options,\n    })\n  } catch (e) {\n    if (cancelError && e.name === \"AbortError\") {\n      throw cancelError\n    }\n    throw e\n  }\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: \"\",\n    headers: responseToHeaders(response),\n    text: () => response.text(),\n    json: () => response.json(),\n    blob: () => response.blob(),\n    arrayBuffer: () => response.arrayBuffer(),\n    formData: () => response.formData(),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" && typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchUsingXHR\n",
    "import { fetchUrl } from \"./fetch-browser.js\"\n\nexport const fetchJson = async (url, options = {}) => {\n  const response = await fetchUrl(url, options)\n  const object = await response.json()\n  return object\n}\n",
    "export const COMPILE_ID_BEST = \"best\"\n\nexport const COMPILE_ID_OTHERWISE = \"otherwise\"\n\nexport const COMPILE_ID_BUILD_GLOBAL = \"otherwise-build-global\"\n\nexport const COMPILE_ID_BUILD_GLOBAL_FILES = \"otherwise-build-global-files\"\n\nexport const COMPILE_ID_BUILD_COMMONJS = \"otherwise-build-commonjs\"\n\nexport const COMPILE_ID_BUILD_COMMONJS_FILES = \"otherwise-build-commonjs-files\"\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { COMPILE_ID_OTHERWISE } from \"../CONSTANTS.js\"\n\nexport const computeCompileIdFromGroupId = ({ groupId, groupMap }) => {\n  if (typeof groupId === \"undefined\") {\n    if (COMPILE_ID_OTHERWISE in groupMap) {\n      return COMPILE_ID_OTHERWISE\n    }\n\n    const keys = Object.keys(groupMap)\n    if (keys.length === 1) {\n      return keys[0]\n    }\n\n    throw new Error(createUnexpectedGroupIdMessage({ groupMap }))\n  }\n\n  if (groupId in groupMap === false) {\n    throw new Error(createUnexpectedGroupIdMessage({ groupId, groupMap }))\n  }\n\n  return groupId\n}\n\nconst createUnexpectedGroupIdMessage = ({ compileId, groupMap }) =>\n  createDetailedMessage(`unexpected groupId.`, {\n    [\"expected compiled id\"]: Object.keys(groupMap),\n    [\"received compile id\"]: compileId,\n  })\n",
    "export const firstMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 0 ? match[1] || undefined : undefined\n}\n\nexport const secondMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 1 ? match[2] || undefined : undefined\n}\n\nexport const userAgentToVersion = (userAgent) => {\n  return firstMatch(/version\\/(\\d+(\\.?_?\\d+)+)/i, userAgent) || undefined\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectAndroid = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/(android)/i.test(userAgent)) {\n    return {\n      name: \"android\",\n      version: firstMatch(/Android (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectInternetExplorer = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/msie|trident/i.test(userAgent)) {\n    return {\n      name: \"ie\",\n      version: firstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch, userAgentToVersion } from \"./util.js\"\n\nexport const detectOpera = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  // opera below 13\n  if (/opera/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version:\n        userAgentToVersion(userAgent) || firstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  // opera above 13\n  if (/opr\\/|opios/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version: firstMatch(/(?:opr|opios)[\\s/](\\S+)/i, userAgent) || userAgentToVersion(userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { secondMatch } from \"./util.js\"\n\nexport const detectEdge = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/edg([ea]|ios)/i.test(userAgent)) {\n    return {\n      name: \"edge\",\n      version: secondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectFirefox = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/firefox|iceweasel|fxios/i.test(userAgent)) {\n    return {\n      name: \"firefox\",\n      version: firstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { userAgentToVersion, firstMatch } from \"./util.js\"\n\nexport const detectChrome = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/chromium/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version:\n        firstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent) ||\n        userAgentToVersion(userAgent),\n    }\n  }\n\n  if (/chrome|crios|crmo/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version: firstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { userAgentToVersion } from \"./util.js\"\n\nexport const detectSafari = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/safari|applewebkit/i.test(userAgent)) {\n    return {\n      name: \"safari\",\n      version: userAgentToVersion(userAgent),\n    }\n  }\n  return null\n}\n",
    "export const detectElectron = () => null // TODO\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectIOS = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/iPhone;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  if (/iPad;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "// https://github.com/Ahmdrza/detect-browser/blob/26254f85cf92795655a983bfd759d85f3de850c6/detect-browser.js#L1\n// https://github.com/lancedikson/bowser/blob/master/src/parser-browsers.js#L1\n\nimport { detectAndroid } from \"./detectAndroid.js\"\nimport { detectInternetExplorer } from \"./detectInternetExplorer.js\"\nimport { detectOpera } from \"./detectOpera.js\"\nimport { detectEdge } from \"./detectEdge.js\"\nimport { detectFirefox } from \"./detectFirefox.js\"\nimport { detectChrome } from \"./detectChrome.js\"\nimport { detectSafari } from \"./detectSafari.js\"\nimport { detectElectron } from \"./detectElectron.js\"\nimport { detectIOS } from \"./detectIOS.js\"\n\nconst detectorCompose = (detectors) => () => {\n  let i = 0\n  while (i < detectors.length) {\n    const detector = detectors[i]\n    i++\n    const result = detector()\n    if (result) {\n      return result\n    }\n  }\n  return null\n}\n\nconst detector = detectorCompose([\n  detectOpera,\n  detectInternetExplorer,\n  detectEdge,\n  detectFirefox,\n  detectChrome,\n  detectSafari,\n  detectElectron,\n  detectIOS,\n  detectAndroid,\n])\n\nexport const detectBrowser = () => {\n  const { name = \"other\", version = \"unknown\" } = detector() || {}\n\n  return {\n    name: normalizeName(name),\n    version: normalizeVersion(version),\n  }\n}\n\nconst normalizeName = (name) => {\n  return name.toLowerCase()\n}\n\nconst normalizeVersion = (version) => {\n  if (version.indexOf(\".\") > -1) {\n    const parts = version.split(\".\")\n    // remove extraneous .\n    return parts.slice(0, 3).join(\".\")\n  }\n\n  if (version.indexOf(\"_\") > -1) {\n    const parts = version.split(\"_\")\n    // remove extraneous _\n    return parts.slice(0, 3).join(\"_\")\n  }\n\n  return version\n}\n",
    "export const valueToVersion = (value) => {\n  if (typeof value === \"number\") {\n    return numberToVersion(value)\n  }\n\n  if (typeof value === \"string\") {\n    return stringToVersion(value)\n  }\n\n  throw new TypeError(createValueErrorMessage({ version: value }))\n}\n\nconst numberToVersion = (number) => {\n  return {\n    major: number,\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst stringToVersion = (string) => {\n  if (string.indexOf(\".\") > -1) {\n    const parts = string.split(\".\")\n    return {\n      major: Number(parts[0]),\n      minor: parts[1] ? Number(parts[1]) : 0,\n      patch: parts[2] ? Number(parts[2]) : 0,\n    }\n  }\n\n  if (isNaN(string)) {\n    return {\n      major: 0,\n      minor: 0,\n      patch: 0,\n    }\n  }\n\n  return {\n    major: Number(string),\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst createValueErrorMessage = ({ value }) => `value must be a number or a string.\nvalue: ${value}`\n",
    "import { valueToVersion } from \"./valueToVersion.js\"\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = valueToVersion(versionA)\n  const semanticVersionB = valueToVersion(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n",
    "import { versionCompare } from \"./versionCompare.js\"\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n",
    "import { versionIsBelow } from \"./versionIsBelow.js\"\n\nexport const findHighestVersion = (...values) => {\n  if (values.length === 0) throw new Error(`missing argument`)\n\n  return values.reduce((highestVersion, value) => {\n    if (versionIsBelow(highestVersion, value)) {\n      return value\n    }\n    return highestVersion\n  })\n}\n",
    "import { findHighestVersion } from \"../semantic-versioning/index.js\"\n\nexport const resolveGroup = ({ name, version }, groupMap) => {\n  return Object.keys(groupMap).find((compileIdCandidate) => {\n    const { runtimeCompatMap } = groupMap[compileIdCandidate]\n    if (name in runtimeCompatMap === false) {\n      return false\n    }\n    const versionForGroup = runtimeCompatMap[name]\n\n    const highestVersion = findHighestVersion(version, versionForGroup)\n    return highestVersion === version\n  })\n}\n",
    "import { detectBrowser } from \"./detectBrowser/detectBrowser.js\"\nimport { resolveGroup } from \"./resolveGroup.js\"\n\nexport const resolveBrowserGroup = (groupMap) => resolveGroup(detectBrowser(), groupMap)\n",
    "import { fetchJson } from \"../../browser-utils/fetchJson.js\"\nimport { computeCompileIdFromGroupId } from \"../computeCompileIdFromGroupId.js\"\nimport { resolveBrowserGroup } from \"../resolveBrowserGroup.js\"\n\nexport const scanBrowserRuntimeFeatures = async ({\n  coverageInstrumentationRequired = true,\n} = {}) => {\n  const { outDirectoryRelativeUrl } = await fetchJson(\"/.jsenv/compile-meta.json\")\n  const groupMapUrl = `/${outDirectoryRelativeUrl}groupMap.json`\n  const envFileUrl = `/${outDirectoryRelativeUrl}env.json`\n  const [groupMap, envJson] = await Promise.all([fetchJson(groupMapUrl), fetchJson(envFileUrl)])\n\n  const compileId = computeCompileIdFromGroupId({\n    groupId: resolveBrowserGroup(groupMap),\n    groupMap,\n  })\n  const groupInfo = groupMap[compileId]\n  const { inlineImportMapIntoHTML, customCompilerNames, convertPatterns } = envJson\n\n  const featuresReport = {\n    babelPluginRequiredNames: babelPluginRequiredNamesFromGroupInfo(groupInfo, {\n      coverageInstrumentationRequired,\n    }),\n    ...(await getFeaturesReport({\n      groupInfo,\n      inlineImportMapIntoHTML,\n      customCompilerNames,\n      coverageInstrumentationRequired,\n    })),\n    customCompilerNames,\n    convertPatterns,\n  }\n\n  const canAvoidCompilation =\n    featuresReport.convertPatterns.length === 0 &&\n    featuresReport.customCompilerNames.length === 0 &&\n    featuresReport.jsenvPluginRequiredNames.length === 0 &&\n    featuresReport.babelPluginRequiredNames.length === 0 &&\n    featuresReport.importmapSupported &&\n    featuresReport.dynamicImportSupported &&\n    featuresReport.topLevelAwaitSupported\n\n  return {\n    featuresReport,\n    canAvoidCompilation,\n    inlineImportMapIntoHTML,\n    outDirectoryRelativeUrl,\n    compileId,\n  }\n}\n\nconst getFeaturesReport = async ({ groupInfo, inlineImportMapIntoHTML }) => {\n  const jsenvPluginRequiredNames = groupInfo.jsenvPluginRequiredNameArray\n  // start testing importmap support first and not in paralell\n  // so that there is not module script loaded beore importmap is injected\n  // it would log an error in chrome console and return undefined\n  const importmapSupported = await supportsImportmap({\n    // chrome supports inline but not remote importmap\n    // https://github.com/WICG/import-maps/issues/235\n\n    // at this stage we won't know if the html file will use\n    // an importmap or not and if that importmap is inline or specified with an src\n    // so we should test if browser support local and remote importmap.\n    // But there exploring server can inline importmap by transforming html\n    // and in that case we can test only the local importmap support\n    // so we test importmap support and the remote one\n    remote: !inlineImportMapIntoHTML,\n  })\n\n  const dynamicImportSupported = await supportsDynamicImport()\n\n  const topLevelAwaitSupported = await supportsTopLevelAwait()\n\n  return {\n    jsenvPluginRequiredNames,\n    importmapSupported,\n    dynamicImportSupported,\n    topLevelAwaitSupported,\n  }\n}\n\nconst babelPluginRequiredNamesFromGroupInfo = (groupInfo, { coverageInstrumentationRequired }) => {\n  const { babelPluginRequiredNameArray } = groupInfo\n\n  const babelPluginRequiredNames = babelPluginRequiredNameArray.slice()\n\n  // When instrumentation CAN be handed by playwright\n  // https://playwright.dev/docs/api/class-chromiumcoverage#chromiumcoveragestartjscoverageoptions\n  // coverageInstrumentationRequired is false and \"transform-instrument\" becomes non mandatory\n  const transformInstrumentIndex = babelPluginRequiredNames.indexOf(\"transform-instrument\")\n  if (transformInstrumentIndex > -1 && !coverageInstrumentationRequired) {\n    babelPluginRequiredNames.splice(transformInstrumentIndex, 1)\n  }\n\n  return babelPluginRequiredNames\n}\n\nconst supportsImportmap = async ({ remote = true } = {}) => {\n  const specifier = jsToTextUrl(`export default false`)\n\n  const importMap = {\n    imports: {\n      [specifier]: jsToTextUrl(`export default true`),\n    },\n  }\n\n  const importmapScript = document.createElement(\"script\")\n  const importmapString = JSON.stringify(importMap, null, \"  \")\n  importmapScript.type = \"importmap\"\n  if (remote) {\n    importmapScript.src = `data:application/json;base64,${window.btoa(importmapString)}`\n  } else {\n    importmapScript.textContent = importmapString\n  }\n\n  document.body.appendChild(importmapScript)\n\n  const scriptModule = document.createElement(\"script\")\n  scriptModule.type = \"module\"\n  scriptModule.src = jsToTextUrl(\n    `import supported from \"${specifier}\"; window.__importmap_supported = supported`,\n  )\n\n  return new Promise((resolve, reject) => {\n    scriptModule.onload = () => {\n      const supported = window.__importmap_supported\n      delete window.__importmap_supported\n      document.body.removeChild(scriptModule)\n      document.body.removeChild(importmapScript)\n      resolve(supported)\n    }\n    scriptModule.onerror = () => {\n      document.body.removeChild(scriptModule)\n      document.body.removeChild(importmapScript)\n      reject()\n    }\n    document.body.appendChild(scriptModule)\n  })\n}\n\nconst jsToTextUrl = (js) => {\n  return `data:text/javascript;base64,${window.btoa(js)}`\n}\n\nconst supportsDynamicImport = async () => {\n  const moduleSource = jsToTextUrl(`export default 42`)\n  try {\n    const namespace = await import(moduleSource)\n    return namespace.default === 42\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsTopLevelAwait = async () => {\n  const moduleSource = jsToTextUrl(`export default await Promise.resolve(42)`)\n  try {\n    const namespace = await import(moduleSource)\n    return namespace.default === 42\n  } catch (e) {\n    return false\n  }\n}\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\nimport { isCancelError } from \"@jsenv/cancellation/main.browser.js\"\n\nimport { fetchJson } from \"../browser-utils/fetchJson.js\"\n\nexport const fetchExploringJson = async ({ cancellationToken } = {}) => {\n  try {\n    const exploringInfo = await fetchJson(\"/.jsenv/exploring.json\", {\n      cancellationToken,\n    })\n    return exploringInfo\n  } catch (e) {\n    if (isCancelError(e)) {\n      throw e\n    }\n    throw new Error(\n      createDetailedMessage(`Cannot communicate with exploring server due to a network error`, {\n        [\"error stack\"]: e.stack,\n      }),\n    )\n  }\n}\n",
    "import { scanBrowserRuntimeFeatures } from \"../runtime/createBrowserRuntime/scanBrowserRuntimeFeatures.js\"\nimport { fetchExploringJson } from \"./fetchExploringJson.js\"\n\nconst redirect = async () => {\n  const [browserRuntimeFeaturesReport, { exploringHtmlFileRelativeUrl }] = await Promise.all([\n    scanBrowserRuntimeFeatures(),\n    fetchExploringJson(),\n  ])\n\n  if (browserRuntimeFeaturesReport.canAvoidCompilation) {\n    window.location.href = `/${exploringHtmlFileRelativeUrl}`\n    return\n  }\n\n  const { outDirectoryRelativeUrl, compileId } = browserRuntimeFeaturesReport\n  window.location.href = `/${outDirectoryRelativeUrl}${compileId}/${exploringHtmlFileRelativeUrl}`\n}\n\nredirect()\n"
  ]
}