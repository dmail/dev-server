{
  "version": 3,
  "sources": [
    "../../../src/createCompileService/getPlatformAndVersionFromHeaders.js"
  ],
  "names": [
    "getPlatformNameAndVersionFromUserAgent",
    "userAgent",
    "startsWith",
    "platformName",
    "platformVersion",
    "slice",
    "length",
    "data",
    "browser",
    "name",
    "version",
    "getPlatformAndVersionFromHeaders",
    "headers",
    "has",
    "get"
  ],
  "mappings": ";;;;;;;AAAA;;;;AAEA,IAAMA,sCAAsC,GAAG,SAAzCA,sCAAyC,CAACC,SAAD,EAAe;AAC5D,MAAIA,SAAS,CAACC,UAAV,CAAqB,OAArB,CAAJ,EAAmC;AACjC,WAAO;AACLC,MAAAA,YAAY,EAAE,MADT;AAELC,MAAAA,eAAe,EAAEH,SAAS,CAACI,KAAV,CAAgB,QAAQC,MAAxB;AAFZ,KAAP;AAID;;AACD,MAAMC,IAAI,GAAG,yBAAON,SAAP,CAAb;AACA,SAAO;AACLE,IAAAA,YAAY,EAAEI,IAAI,CAACC,OAAL,CAAaC,IADtB;AAELL,IAAAA,eAAe,EAAEG,IAAI,CAACC,OAAL,CAAaE;AAFzB,GAAP;AAID,CAZD;;AAcO,IAAMC,gCAAgC,GAAG,SAAnCA,gCAAmC,CAACC,OAAD,EAAa;AAC3D,MAAIA,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAJ,EAA+B;AAC7B,WAAOb,sCAAsC,CAACY,OAAO,CAACE,GAAR,CAAY,YAAZ,CAAD,CAA7C;AACD;;AACD,SAAO;AACLX,IAAAA,YAAY,EAAE,SADT;AAELC,IAAAA,eAAe,EAAE;AAFZ,GAAP;AAID,CARM",
  "sourcesContent": [
    "import parser from \"ua-parser-js\"\n\nconst getPlatformNameAndVersionFromUserAgent = (userAgent) => {\n  if (userAgent.startsWith(\"node/\")) {\n    return {\n      platformName: \"node\",\n      platformVersion: userAgent.slice(\"node/\".length),\n    }\n  }\n  const data = parser(userAgent)\n  return {\n    platformName: data.browser.name,\n    platformVersion: data.browser.version,\n  }\n}\n\nexport const getPlatformAndVersionFromHeaders = (headers) => {\n  if (headers.has(\"user-agent\")) {\n    return getPlatformNameAndVersionFromUserAgent(headers.get(\"user-agent\"))\n  }\n  return {\n    platformName: \"unknown\",\n    platformVersion: \"0\",\n  }\n}\n"
  ]
}