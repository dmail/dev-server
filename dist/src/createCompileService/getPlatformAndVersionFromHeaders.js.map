{
  "version": 3,
  "sources": [
    "../../../src/createCompileService/getPlatformAndVersionFromHeaders.js"
  ],
  "names": [
    "getPlatformNameAndVersionFromUserAgent",
    "userAgent",
    "startsWith",
    "platformName",
    "platformVersion",
    "slice",
    "length",
    "data",
    "browser",
    "name",
    "version",
    "getPlatformAndVersionFromHeaders",
    "headers"
  ],
  "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,sCAAsC,GAAIC,SAAD,IAAe;AAC5D,MAAIA,SAAS,CAACC,UAAV,CAAqB,OAArB,CAAJ,EAAmC;AACjC,WAAO;AACLC,MAAAA,YAAY,EAAE,MADT;AAELC,MAAAA,eAAe,EAAEH,SAAS,CAACI,KAAV,CAAgB,QAAQC,MAAxB;AAFZ,KAAP;AAID;;AACD,QAAMC,IAAI,GAAG,yBAAON,SAAP,CAAb;AACA,SAAO;AACLE,IAAAA,YAAY,EAAEI,IAAI,CAACC,OAAL,CAAaC,IADtB;AAELL,IAAAA,eAAe,EAAEG,IAAI,CAACC,OAAL,CAAaE;AAFzB,GAAP;AAID,CAZD;;AAcO,MAAMC,gCAAgC,GAAIC,OAAD,IAAa;AAC3D,MAAI,gBAAgBA,OAApB,EAA6B;AAC3B,WAAOZ,sCAAsC,CAACY,OAAO,CAAC,YAAD,CAAR,CAA7C;AACD;;AACD,SAAO;AACLT,IAAAA,YAAY,EAAE,SADT;AAELC,IAAAA,eAAe,EAAE;AAFZ,GAAP;AAID,CARM",
  "sourcesContent": [
    "import parser from \"ua-parser-js\"\n\nconst getPlatformNameAndVersionFromUserAgent = (userAgent) => {\n  if (userAgent.startsWith(\"node/\")) {\n    return {\n      platformName: \"node\",\n      platformVersion: userAgent.slice(\"node/\".length),\n    }\n  }\n  const data = parser(userAgent)\n  return {\n    platformName: data.browser.name,\n    platformVersion: data.browser.version,\n  }\n}\n\nexport const getPlatformAndVersionFromHeaders = (headers) => {\n  if (\"user-agent\" in headers) {\n    return getPlatformNameAndVersionFromUserAgent(headers[\"user-agent\"])\n  }\n  return {\n    platformName: \"unknown\",\n    platformVersion: \"0\",\n  }\n}\n"
  ]
}