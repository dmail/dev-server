{"version":3,"sources":["../../../src/createCompileService/sync.js"],"names":["sync","rootLocation","cacheFolderRelativeLocation","cacheFolderLocation","then","report","foldersInvalid","filter","status","Promise","all","map","folder"],"mappings":";;;;;;;AAAA;;AACA;;AAEO,IAAMA,sBAAO,SAAPA,IAAO,OAAmD;AAAA,MAAhDC,YAAgD,QAAhDA,YAAgD;AAAA,MAAlCC,2BAAkC,QAAlCA,2BAAkC;;AACrE,MAAMC,sBAAsB,0BAAYF,YAAZ,EAA0BC,2BAA1B,CAA5B;;AAEA,SAAO,sBAAQ,EAAED,0BAAF,EAAgBC,wDAAhB,EAAR,EAAuDE,IAAvD,CAA4D,UAACC,MAAD,EAAY;AAC7E,QAAMC,iBAAiBD,OAAOE,MAAP,CAAc;AAAA,UAAGC,MAAH,SAAGA,MAAH;AAAA,aAAgBA,WAAW,OAA3B;AAAA,KAAd,CAAvB;;AAEA,WAAOC,QAAQC,GAAR,CACLJ,eAAeK,GAAf,CAAmB;AAAA,UAAGC,MAAH,SAAGA,MAAH;AAAA,aACjB,+BAAiB,0BAAYT,mBAAZ,EAAiCS,MAAjC,CAAjB,CADiB;AAAA,KAAnB,CADK,CAAP;AAKD,GARM,CAAP;AASD,CAZM","file":"sync.js","sourcesContent":["import { removeFolderDeep, resolvePath } from \"./helpers.js\"\nimport { inspect } from \"./inspect.js\"\n\nexport const sync = ({ rootLocation, cacheFolderRelativeLocation }) => {\n  const cacheFolderLocation = resolvePath(rootLocation, cacheFolderRelativeLocation)\n\n  return inspect({ rootLocation, cacheFolderRelativeLocation }).then((report) => {\n    const foldersInvalid = report.filter(({ status }) => status !== \"valid\")\n\n    return Promise.all(\n      foldersInvalid.map(({ folder }) =>\n        removeFolderDeep(resolvePath(cacheFolderLocation, folder)),\n      ),\n    )\n  })\n}\n"]}