{
  "version": 3,
  "sources": [
    "../../../src/openServer/createResponseGenerator.js"
  ],
  "names": [
    "createResponseGenerator",
    "services",
    "generateResponse",
    "args",
    "Promise",
    "resolve",
    "reject",
    "visit",
    "index",
    "length",
    "service",
    "then",
    "value",
    "status",
    "reason"
  ],
  "mappings": ";;;;;;;AAAA;AAEO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,OAAuB;AAAA,2BAApBC,QAAoB;AAAA,MAApBA,QAAoB,8BAAT,EAAS;;AAC5D,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAa;AAAA,sCAATC,IAAS;AAATA,MAAAA,IAAS;AAAA;;AACpC,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AACvB,YAAIA,KAAK,IAAIP,QAAQ,CAACQ,MAAtB,EAA8B;AAC5B,iBAAOJ,OAAO,EAAd;AACD;;AAED,YAAMK,OAAO,GAAGT,QAAQ,CAACO,KAAD,CAAxB;AACAJ,QAAAA,OAAO,CAACC,OAAR,CAAgBK,OAAO,MAAP,SAAWP,IAAX,CAAhB,EAAkCQ,IAAlC,CACE,UAACC,KAAD,EAAW;AACT,cAAIA,KAAJ,EAAW;AACTP,YAAAA,OAAO,CAACO,KAAD,CAAP;AACD,WAFD,MAEO;AACLL,YAAAA,KAAK,CAACC,KAAK,GAAG,CAAT,CAAL;AACD;AACF,SAPH,EAQE,UAACI,KAAD,EAAW;AACT,cAAIA,KAAJ,EAAW;AACTN,YAAAA,MAAM,CAACM,KAAD,CAAN;AACD,WAFD,MAEO;AACLL,YAAAA,KAAK,CAACC,KAAK,GAAG,CAAT,CAAL;AACD;AACF,SAdH;AAgBD,OAtBD;;AAwBAD,MAAAA,KAAK,CAAC,CAAD,CAAL;AACD,KA1BM,EA0BJI,IA1BI,CA0BC,UAACC,KAAD,EAAW;AACjB,UAAIA,KAAJ,EAAW;AACT,eAAOA,KAAP;AACD;;AACD,aAAO;AAAEC,QAAAA,MAAM,EAAE,GAAV;AAAeC,QAAAA,MAAM,EAAE;AAAvB,OAAP;AACD,KA/BM,CAAP;AAgCD,GAjCD;;AAmCA,SAAOZ,gBAAP;AACD,CArCM",
  "sourcesContent": [
    "// https://github.com/jsenv/core/blob/master/src/util/rest/helpers.js\n\nexport const createResponseGenerator = ({ services = [] }) => {\n  const generateResponse = (...args) => {\n    return new Promise((resolve, reject) => {\n      const visit = (index) => {\n        if (index >= services.length) {\n          return resolve()\n        }\n\n        const service = services[index]\n        Promise.resolve(service(...args)).then(\n          (value) => {\n            if (value) {\n              resolve(value)\n            } else {\n              visit(index + 1)\n            }\n          },\n          (value) => {\n            if (value) {\n              reject(value)\n            } else {\n              visit(index + 1)\n            }\n          },\n        )\n      }\n\n      visit(0)\n    }).then((value) => {\n      if (value) {\n        return value\n      }\n      return { status: 501, reason: \"no implemented\" }\n    })\n  }\n\n  return generateResponse\n}\n"
  ]
}