{
  "version": 3,
  "sources": [
    "../../../src/unused/memoizer.js"
  ],
  "names": [
    "memoize",
    "fn",
    "set",
    "get",
    "identify",
    "memoized",
    "args",
    "id",
    "then",
    "valid",
    "value"
  ],
  "mappings": ";;;;;;;AAAA;;;;;;;;AASO,IAAMA,OAAO,GAAG,SAAVA,OAAU,OAAgC;AAAA,MAA7BC,EAA6B,QAA7BA,EAA6B;AAAA,MAAzBC,GAAyB,QAAzBA,GAAyB;AAAA,MAApBC,GAAoB,QAApBA,GAAoB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACrD,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAa;AAAA,sCAATC,IAAS;AAATA,MAAAA,IAAS;AAAA;;AAC5B,QAAMC,EAAE,GAAGH,QAAQ,CAACE,IAAD,CAAnB;AACA,WAAOH,GAAG,CAACI,EAAD,CAAH,CAAQC,IAAR,CAAa,iBAAsB;AAAA,UAAnBC,KAAmB,SAAnBA,KAAmB;AAAA,UAAZC,KAAY,SAAZA,KAAY;;AACxC,UAAID,KAAJ,EAAW;AACT,eAAOC,KAAP;AACD;;AACD,aAAOT,EAAE,MAAF,SAAMK,IAAN,EAAYE,IAAZ,CAAiB,UAACE,KAAD,EAAW;AACjC,eAAOR,GAAG,CAACK,EAAD,EAAKG,KAAL,CAAH,CAAeF,IAAf,CAAoB;AAAA,iBAAME,KAAN;AAAA,SAApB,CAAP;AACD,OAFM,CAAP;AAGD,KAPM,CAAP;AAQD,GAVD;;AAYA,SAAOL,QAAP;AACD,CAdM",
  "sourcesContent": [
    "/*\n\non pourras largemtent s'inspirer de:\n\nhttps://github.com/jsenv/core/blob/959e76068b62c23d7047f6a8c7a3d6582ac25177/src/api/util/store.js\nhttps://github.com/jsenv/core/blob/959e76068b62c23d7047f6a8c7a3d6582ac25177/src/api/util/memoize.js\n\n*/\n\nexport const memoize = ({ fn, set, get, identify }) => {\n  const memoized = (...args) => {\n    const id = identify(args)\n    return get(id).then(({ valid, value }) => {\n      if (valid) {\n        return value\n      }\n      return fn(...args).then((value) => {\n        return set(id, value).then(() => value)\n      })\n    })\n  }\n\n  return memoized\n}\n"
  ]
}