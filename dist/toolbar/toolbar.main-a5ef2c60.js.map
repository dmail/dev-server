{
  "version": 3,
  "file": "toolbar.main.js",
  "sources": [
    "../../helpers/babel/arrayLikeToArray/arrayLikeToArray.js",
    "../../helpers/babel/arrayWithoutHoles/arrayWithoutHoles.js",
    "../../helpers/babel/iterableToArray/iterableToArray.js",
    "../../helpers/babel/unsupportedIterableToArray/unsupportedIterableToArray.js",
    "../../helpers/babel/nonIterableSpread/nonIterableSpread.js",
    "../../helpers/babel/toConsumableArray/toConsumableArray.js",
    "../../helpers/babel/typeof/typeof.js",
    "../../node_modules/@jsenv/filesystem/src/urlIsInsideOf.js",
    "../../node_modules/@jsenv/filesystem/src/internal/getCommonPathname.js",
    "../../node_modules/@jsenv/filesystem/src/internal/pathnameToParentPathname.js",
    "../../node_modules/@jsenv/filesystem/src/urlToRelativeUrl.js",
    "../../helpers/babel/defineProperty/defineProperty.js",
    "../../helpers/babel/objectSpread2/objectSpread2.js",
    "../../helpers/babel/objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js",
    "../../helpers/babel/objectWithoutProperties/objectWithoutProperties.js",
    "../../src/internal/browser_utils/fetchUsingXHR.js",
    "../../src/internal/browser_utils/fetch-browser.js",
    "../../src/internal/browser_utils/fetchJson.js",
    "../../src/internal/dev_server/exploring/fetchExploringJson.js",
    "../../src/internal/dev_server/toolbar/util/dom.js",
    "../../src/internal/dev_server/toolbar/util/animation.js",
    "../../src/internal/dev_server/toolbar/focus/toolbar.focus.js",
    "../../src/internal/dev_server/toolbar/util/preferences.js",
    "../../src/internal/dev_server/toolbar/tooltip/tooltip.js",
    "../../src/internal/dev_server/toolbar/settings/toolbar.settings.js",
    "../../src/internal/dev_server/toolbar/variant/variant.js",
    "../../src/internal/dev_server/toolbar/notification/toolbar.notification.js",
    "../../src/internal/dev_server/toolbar/theme/toolbar.theme.js",
    "../../src/internal/dev_server/toolbar/animation/toolbar.animation.js",
    "../../src/internal/dev_server/toolbar/util/responsive.js",
    "../../src/internal/dev_server/toolbar/execution/toolbar.execution.js",
    "../../node_modules/@jsenv/logger/src/createDetailedMessage.js",
    "../../src/internal/CONSTANTS.js",
    "../../src/internal/runtime/computeCompileIdFromGroupId.js",
    "../../src/internal/semantic_versioning/valueToVersion.js",
    "../../src/internal/semantic_versioning/versionCompare.js",
    "../../src/internal/semantic_versioning/versionIsBelow.js",
    "../../src/internal/semantic_versioning/findHighestVersion.js",
    "../../src/internal/runtime/resolveGroup.js",
    "../../src/internal/browser_detection/user_agent_data.js",
    "../../src/internal/browser_detection/util.js",
    "../../src/internal/browser_detection/detectAndroid.js",
    "../../src/internal/browser_detection/detectInternetExplorer.js",
    "../../src/internal/browser_detection/detectOpera.js",
    "../../src/internal/browser_detection/detectEdge.js",
    "../../src/internal/browser_detection/detectFirefox.js",
    "../../src/internal/browser_detection/detectChrome.js",
    "../../src/internal/browser_detection/detectSafari.js",
    "../../src/internal/browser_detection/detectElectron.js",
    "../../src/internal/browser_detection/detectIOS.js",
    "../../src/internal/browser_detection/browser_detection.js",
    "../../src/internal/browser_feature_detection/browser_feature_detection.js",
    "../../src/internal/dev_server/toolbar/compilation/toolbar.compilation.js",
    "../../src/internal/dev_server/toolbar/eventsource/toolbar.eventsource.js",
    "../../src/internal/dev_server/toolbar/responsive/toolbar.responsive.js",
    "../../src/internal/dev_server/toolbar/toolbar.main.js"
  ],
  "sourcesContent": [
    "/* eslint-disable no-eq-null, eqeqeq */\nexport default function arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length\n  var arr2 = new Array(len)\n  for (var i = 0; i < len; i++) arr2[i] = arr[i]\n  return arr2\n}\n",
    "import arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\n// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr)\n}\n",
    "export default function _iterableToArray(iter) {\n  if (\n    (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null) ||\n    iter[\"@@iterator\"] != null\n  )\n    return Array.from(iter)\n}\n",
    "/* eslint-disable consistent-return */\nimport arrayLikeToArray from \"../arrayLikeToArray/arrayLikeToArray.js\"\n\nexport default function unsupportedIterableToArray(o, minLen) {\n  if (!o) return\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen)\n  var n = Object.prototype.toString.call(o).slice(8, -1)\n  if (n === \"Object\" && o.constructor) n = o.constructor.name\n  if (n === \"Map\" || n === \"Set\") return Array.from(o)\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return arrayLikeToArray(o, minLen)\n}\n",
    "export default () => {\n  throw new TypeError(\n    \"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\",\n  )\n}\n",
    "import arrayWithoutHoles from \"../arrayWithoutHoles/arrayWithoutHoles.js\"\nimport iterableToArray from \"../iterableToArray/iterableToArray.js\"\nimport unsupportedIterableToArray from \"../unsupportedIterableToArray/unsupportedIterableToArray.js\"\nimport nonIterableSpread from \"../nonIterableSpread/nonIterableSpread.js\"\n\nexport default (arr) =>\n  arrayWithoutHoles(arr) ||\n  iterableToArray(arr) ||\n  unsupportedIterableToArray(arr) ||\n  nonIterableSpread()\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const urlIsInsideOf = (url, otherUrl) => {\n  const urlObject = new URL(url)\n  const otherUrlObject = new URL(otherUrl)\n\n  if (urlObject.origin !== otherUrlObject.origin) {\n    return false\n  }\n\n  const urlPathname = urlObject.pathname\n  const otherUrlPathname = otherUrlObject.pathname\n  if (urlPathname === otherUrlPathname) {\n    return false\n  }\n\n  const isInside = urlPathname.startsWith(otherUrlPathname)\n  return isInside\n}\n",
    "export const getCommonPathname = (pathname, otherPathname) => {\n  const firstDifferentCharacterIndex = findFirstDifferentCharacterIndex(\n    pathname,\n    otherPathname,\n  )\n\n  // pathname and otherpathname are exactly the same\n  if (firstDifferentCharacterIndex === -1) {\n    return pathname\n  }\n\n  const commonString = pathname.slice(0, firstDifferentCharacterIndex + 1)\n\n  // the first different char is at firstDifferentCharacterIndex\n  if (pathname.charAt(firstDifferentCharacterIndex) === \"/\") {\n    return commonString\n  }\n\n  if (otherPathname.charAt(firstDifferentCharacterIndex) === \"/\") {\n    return commonString\n  }\n\n  const firstDifferentSlashIndex = commonString.lastIndexOf(\"/\")\n  return pathname.slice(0, firstDifferentSlashIndex + 1)\n}\n\nconst findFirstDifferentCharacterIndex = (string, otherString) => {\n  const maxCommonLength = Math.min(string.length, otherString.length)\n  let i = 0\n  while (i < maxCommonLength) {\n    const char = string.charAt(i)\n    const otherChar = otherString.charAt(i)\n    if (char !== otherChar) {\n      return i\n    }\n    i++\n  }\n  if (string.length === otherString.length) {\n    return -1\n  }\n  // they differ at maxCommonLength\n  return maxCommonLength\n}\n",
    "export const pathnameToParentPathname = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex === -1) {\n    return \"/\"\n  }\n\n  return pathname.slice(0, slashLastIndex + 1)\n}\n",
    "import { getCommonPathname } from \"./internal/getCommonPathname.js\"\nimport { pathnameToParentPathname } from \"./internal/pathnameToParentPathname.js\"\n\nexport const urlToRelativeUrl = (url, baseUrl) => {\n  const urlObject = new URL(url)\n  const baseUrlObject = new URL(baseUrl)\n\n  if (urlObject.protocol !== baseUrlObject.protocol) {\n    const urlAsString = String(url)\n    return urlAsString\n  }\n\n  if (\n    urlObject.username !== baseUrlObject.username ||\n    urlObject.password !== baseUrlObject.password ||\n    urlObject.host !== baseUrlObject.host\n  ) {\n    const afterUrlScheme = String(url).slice(urlObject.protocol.length)\n    return afterUrlScheme\n  }\n\n  const { pathname, hash, search } = urlObject\n  if (pathname === \"/\") {\n    const baseUrlRessourceWithoutLeadingSlash = baseUrlObject.pathname.slice(1)\n    return baseUrlRessourceWithoutLeadingSlash\n  }\n\n  const basePathname = baseUrlObject.pathname\n  const commonPathname = getCommonPathname(pathname, basePathname)\n  if (!commonPathname) {\n    const urlAsString = String(url)\n    return urlAsString\n  }\n\n  const specificPathname = pathname.slice(commonPathname.length)\n  const baseSpecificPathname = basePathname.slice(commonPathname.length)\n  if (baseSpecificPathname.includes(\"/\")) {\n    const baseSpecificParentPathname =\n      pathnameToParentPathname(baseSpecificPathname)\n    const relativeDirectoriesNotation = baseSpecificParentPathname.replace(\n      /.*?\\//g,\n      \"../\",\n    )\n    const relativeUrl = `${relativeDirectoriesNotation}${specificPathname}${search}${hash}`\n    return relativeUrl\n  }\n\n  const relativeUrl = `${specificPathname}${search}${hash}`\n  return relativeUrl\n}\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n",
    "export default (source, excluded) => {\n  if (source === null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key\n  var i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n",
    "import objectWithoutPropertiesLoose from \"../objectWithoutPropertiesLoose/objectWithoutPropertiesLoose.js\"\n\nexport default (source, excluded) => {\n  if (source === null) return {}\n\n  var target = objectWithoutPropertiesLoose(source, excluded)\n  var key\n  var i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n",
    "/* eslint-env browser */\n\nexport const fetchUsingXHR = async (\n  url,\n  {\n    signal,\n    method = \"GET\",\n    credentials = \"same-origin\",\n    headers = {},\n    body = null,\n  } = {},\n) => {\n  const headersPromise = createPromiseAndHooks()\n  const bodyPromise = createPromiseAndHooks()\n\n  const xhr = new XMLHttpRequest()\n\n  const failure = (error) => {\n    // if it was already resolved, we must reject the body promise\n    if (headersPromise.settled) {\n      bodyPromise.reject(error)\n    } else {\n      headersPromise.reject(error)\n    }\n  }\n\n  const cleanup = () => {\n    xhr.ontimeout = null\n    xhr.onerror = null\n    xhr.onload = null\n    xhr.onreadystatechange = null\n  }\n\n  xhr.ontimeout = () => {\n    cleanup()\n    failure(new Error(`xhr request timeout on ${url}.`))\n  }\n\n  xhr.onerror = (error) => {\n    cleanup()\n    // unfortunately with have no clue why it fails\n    // might be cors for instance\n    failure(createRequestError(error, { url }))\n  }\n\n  xhr.onload = () => {\n    cleanup()\n    bodyPromise.resolve()\n  }\n\n  signal.addEventListener(\"abort\", () => {\n    xhr.abort()\n    const abortError = new Error(\"aborted\")\n    abortError.name = \"AbortError\"\n    failure(abortError)\n  })\n\n  xhr.onreadystatechange = () => {\n    // https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest/readyState\n    const { readyState } = xhr\n\n    if (readyState === 2) {\n      headersPromise.resolve()\n    } else if (readyState === 4) {\n      cleanup()\n      bodyPromise.resolve()\n    }\n  }\n\n  xhr.open(method, url, true)\n  Object.keys(headers).forEach((key) => {\n    xhr.setRequestHeader(key, headers[key])\n  })\n  xhr.withCredentials = computeWithCredentials({ credentials, url })\n  if (\"responseType\" in xhr && hasBlob) {\n    xhr.responseType = \"blob\"\n  }\n  xhr.send(body)\n\n  await headersPromise\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n  const responseUrl =\n    \"responseURL\" in xhr ? xhr.responseURL : headers[\"x-request-url\"]\n  let responseStatus = xhr.status\n  const responseStatusText = xhr.statusText\n  const responseHeaders = getHeadersFromXHR(xhr)\n\n  const readBody = async () => {\n    await bodyPromise\n\n    const { status } = xhr\n    // in Chrome on file:/// URLs, status is 0\n    if (status === 0) {\n      responseStatus = 200\n    }\n\n    const body = \"response\" in xhr ? xhr.response : xhr.responseText\n\n    return {\n      responseBody: body,\n      responseBodyType: detectBodyType(body),\n    }\n  }\n\n  const text = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return blobToText(responseBody)\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as text\")\n    }\n    if (responseBodyType === \"dataView\") {\n      return arrayBufferToText(responseBody.buffer)\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return arrayBufferToText(responseBody)\n    }\n    // if (responseBodyType === \"text\" || responseBodyType === 'searchParams') {\n    //   return body\n    // }\n    return String(responseBody)\n  }\n\n  const json = async () => {\n    const responseText = await text()\n    return JSON.parse(responseText)\n  }\n\n  const blob = async () => {\n    if (!hasBlob) {\n      throw new Error(`blob not supported`)\n    }\n\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"blob\") {\n      return responseBody\n    }\n    if (responseBodyType === \"dataView\") {\n      return new Blob([cloneBuffer(responseBody.buffer)])\n    }\n    if (responseBodyType === \"arrayBuffer\") {\n      return new Blob([cloneBuffer(responseBody)])\n    }\n    if (responseBodyType === \"formData\") {\n      throw new Error(\"could not read FormData body as blob\")\n    }\n    return new Blob([String(responseBody)])\n  }\n\n  const arrayBuffer = async () => {\n    const { responseBody, responseBodyType } = await readBody()\n\n    if (responseBodyType === \"arrayBuffer\") {\n      return cloneBuffer(responseBody)\n    }\n    const responseBlob = await blob()\n    return blobToArrayBuffer(responseBlob)\n  }\n\n  const formData = async () => {\n    if (!hasFormData) {\n      throw new Error(`formData not supported`)\n    }\n    const responseText = await text()\n    return textToFormData(responseText)\n  }\n\n  return {\n    url: responseUrl,\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: responseHeaders,\n    text,\n    json,\n    blob,\n    arrayBuffer,\n    formData,\n  }\n}\n\nconst canUseBlob = () => {\n  if (typeof window.FileReader !== \"function\") return false\n\n  if (typeof window.Blob !== \"function\") return false\n\n  try {\n    // eslint-disable-next-line no-new\n    new Blob()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasBlob = canUseBlob()\n\nconst hasFormData = typeof window.FormData === \"function\"\n\nconst hasArrayBuffer = typeof window.ArrayBuffer === \"function\"\n\nconst hasSearchParams = typeof window.URLSearchParams === \"function\"\n\nconst createRequestError = (error, { url }) => {\n  return new Error(\n    `error during xhr request on ${url}.\n--- error stack ---\n${error.stack}`,\n  )\n}\n\nconst createPromiseAndHooks = () => {\n  let resolve\n  let reject\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      promise.settled = true\n      res(value)\n    }\n    reject = (value) => {\n      promise.settled = true\n      rej(value)\n    }\n  })\n  promise.resolve = resolve\n  promise.reject = reject\n  return promise\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst detectBodyType = (body) => {\n  if (!body) {\n    return \"\"\n  }\n  if (typeof body === \"string\") {\n    return \"text\"\n  }\n  if (hasBlob && Blob.prototype.isPrototypeOf(body)) {\n    return \"blob\"\n  }\n  if (hasFormData && FormData.prototype.isPrototypeOf(body)) {\n    return \"formData\"\n  }\n  if (hasArrayBuffer) {\n    if (hasBlob && isDataView(body)) {\n      return `dataView`\n    }\n    if (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body)) {\n      return `arrayBuffer`\n    }\n  }\n  if (hasSearchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n    return \"searchParams\"\n  }\n  return \"\"\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n\nconst hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n\nconst hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n\nconst isDataView = (obj) => {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nconst isArrayBufferView =\n  ArrayBuffer.isView ||\n  (() => {\n    const viewClasses = [\n      \"[object Int8Array]\",\n      \"[object Uint8Array]\",\n      \"[object Uint8ClampedArray]\",\n      \"[object Int16Array]\",\n      \"[object Uint16Array]\",\n      \"[object Int32Array]\",\n      \"[object Uint32Array]\",\n      \"[object Float32Array]\",\n      \"[object Float64Array]\",\n    ]\n\n    return (value) => {\n      return (\n        value && viewClasses.includes(Object.prototype.toString.call(value))\n      )\n    }\n  })()\n\nconst textToFormData = (text) => {\n  const form = new FormData()\n  text\n    .trim()\n    .split(\"&\")\n    .forEach(function (bytes) {\n      if (bytes) {\n        const split = bytes.split(\"=\")\n        const name = split.shift().replace(/\\+/g, \" \")\n        const value = split.join(\"=\").replace(/\\+/g, \" \")\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nconst blobToArrayBuffer = async (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nconst blobToText = (blob) => {\n  const reader = new FileReader()\n  const promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nconst arrayBufferToText = (arrayBuffer) => {\n  const view = new Uint8Array(arrayBuffer)\n  const chars = new Array(view.length)\n  let i = 0\n  while (i < view.length) {\n    chars[i] = String.fromCharCode(view[i])\n\n    i++\n  }\n  return chars.join(\"\")\n}\n\nconst fileReaderReady = (reader) => {\n  return new Promise(function (resolve, reject) {\n    reader.onload = function () {\n      resolve(reader.result)\n    }\n    reader.onerror = function () {\n      reject(reader.error)\n    }\n  })\n}\n\nconst cloneBuffer = (buffer) => {\n  if (buffer.slice) {\n    return buffer.slice(0)\n  }\n  const view = new Uint8Array(buffer.byteLength)\n  view.set(new Uint8Array(buffer))\n  return view.buffer\n}\n",
    "/* eslint-env browser */\n\nimport { fetchUsingXHR } from \"./fetchUsingXHR.js\"\n\nconst fetchNative = async (url, { mode = \"cors\", ...options } = {}) => {\n  const response = await window.fetch(url, {\n    mode,\n    ...options,\n  })\n\n  return {\n    url: response.url,\n    status: response.status,\n    statusText: \"\",\n    headers: responseToHeaders(response),\n    text: () => response.text(),\n    json: () => response.json(),\n    blob: () => response.blob(),\n    arrayBuffer: () => response.arrayBuffer(),\n    formData: () => response.formData(),\n  }\n}\n\nconst responseToHeaders = (response) => {\n  const headers = {}\n  response.headers.forEach((value, name) => {\n    headers[name] = value\n  })\n  return headers\n}\n\nexport const fetchUrl =\n  typeof window.fetch === \"function\" &&\n  typeof window.AbortController === \"function\"\n    ? fetchNative\n    : fetchUsingXHR\n",
    "import { fetchUrl } from \"./fetch-browser.js\"\n\nexport const fetchJson = async (url, options = {}) => {\n  const response = await fetchUrl(url, options)\n  const object = await response.json()\n  return object\n}\n",
    "import { fetchJson } from \"../../browser_utils/fetchJson.js\"\n\nexport const fetchExploringJson = async ({ signal } = {}) => {\n  try {\n    const exploringInfo = await fetchJson(\"/.jsenv/exploring.json\", {\n      signal,\n    })\n    return exploringInfo\n  } catch (e) {\n    if (signal && signal.aborted && e.name === \"AbortError\") {\n      throw e\n    }\n    throw new Error(\n      `Cannot communicate with exploring server due to a network error\n--- error stack ---\n${e.stack}`,\n    )\n  }\n}\n",
    "export const updateIframeOverflowOnParentWindow = () => {\n  if (!window.parent) {\n    // can happen while parent iframe reloads\n    return\n  }\n\n  const aTooltipIsOpened =\n    document.querySelector(\"[data-tooltip-visible]\") ||\n    document.querySelector(\"[data-tooltip-auto-visible]\")\n  const settingsAreOpened = document.querySelector(\"#settings[data-active]\")\n\n  if (aTooltipIsOpened || settingsAreOpened) {\n    enableIframeOverflowOnParentWindow()\n  } else {\n    disableIframeOverflowOnParentWindow()\n  }\n}\n\nlet iframeOverflowEnabled = false\nconst enableIframeOverflowOnParentWindow = () => {\n  if (iframeOverflowEnabled) return\n  iframeOverflowEnabled = true\n\n  const iframe = getToolbarIframe()\n  const transitionDuration = iframe.style.transitionDuration\n  setStyles(iframe, { \"height\": \"100%\", \"transition-duration\": \"0ms\" })\n  if (transitionDuration) {\n    setTimeout(() => {\n      setStyles(iframe, { \"transition-duration\": transitionDuration })\n    })\n  }\n}\n\nconst disableIframeOverflowOnParentWindow = () => {\n  if (!iframeOverflowEnabled) return\n  iframeOverflowEnabled = false\n\n  const iframe = getToolbarIframe()\n  const transitionDuration = iframe.style.transitionDuration\n  setStyles(iframe, { \"height\": \"40px\", \"transition-duration\": \"0ms\" })\n  if (transitionDuration) {\n    setTimeout(() => {\n      setStyles(iframe, { \"transition-duration\": transitionDuration })\n    })\n  }\n}\n\nexport const getToolbarIframe = () => {\n  const iframes = Array.from(window.parent.document.querySelectorAll(\"iframe\"))\n  return iframes.find((iframe) => iframe.contentWindow === window)\n}\n\nexport const forceHideElement = (element) => {\n  element.setAttribute(\"data-force-hide\", \"\")\n}\n\nexport const removeForceHideElement = (element) => {\n  element.removeAttribute(\"data-force-hide\")\n}\n\nexport const setStyles = (element, styles) => {\n  const elementStyle = element.style\n  const restoreStyles = Object.keys(styles).map((styleName) => {\n    let restore\n    if (styleName in elementStyle) {\n      const currentStyle = elementStyle[styleName]\n      restore = () => {\n        elementStyle[styleName] = currentStyle\n      }\n    } else {\n      restore = () => {\n        delete elementStyle[styleName]\n      }\n    }\n\n    elementStyle[styleName] = styles[styleName]\n\n    return restore\n  })\n  return () => {\n    restoreStyles.forEach((restore) => restore())\n  }\n}\n\nexport const setAttributes = (element, attributes) => {\n  Object.keys(attributes).forEach((name) => {\n    element.setAttribute(name, attributes[name])\n  })\n}\n\nexport const getDocumentScroll = () => {\n  return {\n    x: document.documentElement.scrollLeft,\n    y: document.documentElement.scrollTop,\n  }\n}\n\nexport const toolbarSectionIsActive = (element) => {\n  return element.hasAttribute(\"data-active\")\n}\n\nexport const activateToolbarSection = (element) => {\n  element.setAttribute(\"data-active\", \"\")\n}\n\nexport const deactivateToolbarSection = (element) => {\n  element.removeAttribute(\"data-active\")\n}\n",
    "import { setStyles } from \"./dom.js\"\n\nconst animateFallback = () => {\n  return Promise.resolve()\n}\n\nconst animateNative = (node, keyframes, { signal, ...options } = {}) => {\n  const animation = node.animate(keyframes, options)\n  if (signal) {\n    signal.addEventListener(\"abort\", () => {\n      animation.cancel()\n    })\n  }\n  return new Promise((resolve) => {\n    animation.onfinish = resolve\n  })\n}\n\nexport const canUseAnimation = () =>\n  typeof HTMLElement.prototype.animate === \"function\"\n\nexport const animateElement = canUseAnimation()\n  ? animateNative\n  : animateFallback\n\nexport const fadeIn = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 0,\n      },\n      {\n        opacity: 1,\n      },\n    ],\n    options,\n  )\n\nexport const fadeOut = (node, options) =>\n  animateElement(\n    node,\n    [\n      {\n        opacity: 1,\n      },\n      {\n        opacity: 0,\n      },\n    ],\n    options,\n  )\n\nexport const move = (fromNode, toNode, options) => {\n  const fromComputedStyle = window.getComputedStyle(fromNode)\n  const toComputedStyle = window.getComputedStyle(toNode)\n  // get positions of input in toolbar and aElement\n  const fromPosition = fromNode.getBoundingClientRect()\n  const toPosition = toNode.getBoundingClientRect()\n\n  // we'll do the animation in a div preventing overflow and pointer events\n  const div = document.createElement(\"div\")\n  div.style.position = \"absolute\"\n  div.style.left = 0\n  div.style.top = 0\n  div.style.width = `${document.documentElement.scrollWidth}px`\n  div.style.height = `${document.documentElement.scrollHeight}px`\n  div.style.overflow = \"hidden\"\n  div.style.pointerEvents = \"none\"\n\n  const documentScroll = {\n    left: window.pageXOffset || document.documentElement.scrollLeft,\n    top: window.pageYOffset || document.documentElement.scrollTop,\n  }\n\n  // clone node and style it\n  const copy = fromNode.cloneNode(true)\n  copy.style.position = \"absolute\"\n  copy.style.left = `${documentScroll.left + fromPosition.left}px`\n  copy.style.top = `${documentScroll.top + fromPosition.top}px`\n  copy.style.maxWidth = `${fromPosition.right - fromPosition.left}px`\n  copy.style.overflow = toComputedStyle.overflow\n  copy.style.textOverflow = toComputedStyle.textOverflow\n  div.appendChild(copy)\n  document.body.appendChild(div)\n\n  const left =\n    toPosition.left -\n    fromPosition.left -\n    (parseInt(fromComputedStyle.paddingLeft) || 0)\n  const top =\n    toPosition.top -\n    fromPosition.top -\n    (parseInt(fromComputedStyle.paddingTop) || 0)\n  // define final position of new element and the duration\n  const translate = `translate(${left}px, ${top}px)`\n\n  // animate new element\n  return animateElement(\n    copy,\n    [\n      {\n        transform: \"translate(0px, 0px)\",\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n        fontSize: fromComputedStyle.fontSize,\n        height: `${fromPosition.bottom - fromPosition.top}px`,\n        width: \"100%\",\n      },\n      {\n        offset: 0.9,\n        backgroundColor: fromComputedStyle.backgroundColor,\n        color: fromComputedStyle.color,\n      },\n      {\n        transform: translate,\n        backgroundColor: toComputedStyle.backgroundColor,\n        color: toComputedStyle.color,\n        fontSize: toComputedStyle.fontSize,\n        height: `${toPosition.bottom - toPosition.top}px`,\n        width: toComputedStyle.width,\n      },\n    ],\n    options,\n  ).then(() => {\n    div.parentNode.removeChild(div)\n  })\n}\n\n// the whole point of this toolbar animation wass to flight a visual imperfection when it's done by css transition.\n// This imperfection is a white line sometimes flickering at the bottom of the page.\n// It got fixed by removing the usage of calc(100vh - 40px)\n// It was hapenning in chrome, safari but not inside Firefox\n// I assume it's because Firefox does not read parent element min-height while\n// chrome use it to compute min-height: 100%\nexport const createToolbarAnimation = () => {\n  const collapsedState = {\n    \"#page\": { paddingBottom: 0 },\n    \"footer\": { height: 0 },\n    \"#toolbar\": { visibility: \"hidden\" },\n  }\n  const expandedState = {\n    \"#page\": { paddingBottom: \"40px\" },\n    \"footer\": { height: \"40px\" },\n    \"#toolbar\": { visibility: \"visible\" },\n  }\n  const expandTransition = transit(collapsedState, expandedState, {\n    duration: 300,\n  })\n\n  const expand = () => {\n    expandTransition.play()\n  }\n\n  const collapse = () => {\n    expandTransition.reverse()\n  }\n\n  return { expand, collapse }\n}\n\nexport const transit = (\n  fromState,\n  toState,\n  { commitStyles = true, fill = \"both\", duration = 300 } = {},\n) => {\n  const steps = []\n  Object.keys(fromState).forEach((selector) => {\n    const fromStyles = {}\n    const toStyles = {}\n    const element = document.querySelector(selector)\n\n    const keyframes = []\n    const fromProperties = fromState[selector]\n    const toProperties = toState[selector]\n    Object.keys(fromProperties).forEach((propertyName) => {\n      const from = fromProperties[propertyName]\n      const to = toProperties[propertyName]\n      fromStyles[propertyName] = from\n      toStyles[propertyName] = to\n    })\n    keyframes.push(fromStyles, toStyles)\n\n    let animation\n    if (canUseAnimation()) {\n      const effect = new KeyframeEffect(element, keyframes, { fill, duration })\n      animation = new Animation(effect)\n    } else {\n      animation = {\n        playbackRate: 1,\n        play: () => {\n          animation.onfinish()\n        },\n        reverse: () => {\n          animation.playbackRate = -1\n          animation.onfinish()\n        },\n        finish: () => {},\n        onfinish: () => {},\n      }\n    }\n\n    steps.push({\n      element,\n      animation,\n      fromStyles,\n      toStyles,\n    })\n  })\n\n  const play = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, toStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, toStyles)\n            }\n            resolve()\n          }\n          if (animation.playbackRate === -1) {\n            animation.reverse()\n          } else {\n            animation.play()\n          }\n        })\n      }),\n    )\n  }\n\n  const reverse = async () => {\n    await Promise.all(\n      steps.map(({ animation, element, fromStyles }) => {\n        return new Promise((resolve) => {\n          animation.onfinish = () => {\n            if (commitStyles) {\n              setStyles(element, fromStyles)\n            }\n            resolve()\n          }\n          animation.reverse()\n        })\n      }),\n    )\n  }\n\n  const finish = async () => {\n    steps.forEach(({ animation }) => {\n      animation.finish()\n    })\n  }\n\n  return { play, reverse, finish }\n}\n\nexport const startJavaScriptAnimation = ({\n  duration = 300,\n  timingFunction = (t) => t,\n  onProgress = () => {},\n  onCancel = () => {},\n  onComplete = () => {},\n}) => {\n  if (isNaN(duration)) {\n    // console.warn(`duration must be a number, received ${duration}`)\n    return () => {}\n  }\n  duration = parseInt(duration, 10)\n  const startMs = performance.now()\n  let currentRequestAnimationFrameId\n  let done = false\n  let rawProgress = 0\n  let progress = 0\n  const handler = () => {\n    currentRequestAnimationFrameId = null\n    const nowMs = performance.now()\n    rawProgress = Math.min((nowMs - startMs) / duration, 1)\n    progress = timingFunction(rawProgress)\n    done = rawProgress === 1\n    onProgress({\n      done,\n      rawProgress,\n      progress,\n    })\n    if (done) {\n      onComplete()\n    } else {\n      currentRequestAnimationFrameId = window.requestAnimationFrame(handler)\n    }\n  }\n  handler()\n  const stop = () => {\n    if (currentRequestAnimationFrameId) {\n      window.cancelAnimationFrame(currentRequestAnimationFrameId)\n      currentRequestAnimationFrameId = null\n    }\n    if (!done) {\n      done = true\n      onCancel({\n        rawProgress,\n        progress,\n      })\n    }\n  }\n  return stop\n}\n",
    "// handle data-last-interaction attr on html (focusring)\nwindow.addEventListener(\"mousedown\", (mousedownEvent) => {\n  if (mousedownEvent.defaultPrevented) {\n    return\n  }\n  document.documentElement.setAttribute(\"data-last-interaction\", \"mouse\")\n})\nwindow.addEventListener(\"touchstart\", (touchstartEvent) => {\n  if (touchstartEvent.defaultPrevented) {\n    return\n  }\n  document.documentElement.setAttribute(\"data-last-interaction\", \"mouse\")\n})\nwindow.addEventListener(\"keydown\", (keydownEvent) => {\n  if (keydownEvent.defaultPrevented) {\n    return\n  }\n  document.documentElement.setAttribute(\"data-last-interaction\", \"keyboard\")\n})\n",
    "export const createPreference = (name) => {\n  return {\n    has: () => localStorage.hasOwnProperty(name),\n    get: () =>\n      localStorage.hasOwnProperty(name)\n        ? JSON.parse(localStorage.getItem(name))\n        : undefined,\n    set: (value) => localStorage.setItem(name, JSON.stringify(value)),\n  }\n}\n",
    "import { updateIframeOverflowOnParentWindow } from \"../util/dom.js\"\n\nexport const toggleTooltip = (element) => {\n  if (element.hasAttribute(\"data-tooltip-visible\")) {\n    hideTooltip(element)\n  } else {\n    showTooltip(element)\n  }\n}\n\nexport const hideTooltip = (element) => {\n  element.removeAttribute(\"data-tooltip-visible\")\n  element.removeAttribute(\"data-tooltip-auto-visible\")\n  updateIframeOverflowOnParentWindow()\n}\n\nexport const showTooltip = (element) => {\n  element.setAttribute(\"data-tooltip-visible\", \"\")\n  updateIframeOverflowOnParentWindow()\n}\n\nexport const autoShowTooltip = (element) => {\n  element.setAttribute(\"data-tooltip-auto-visible\", \"\")\n  updateIframeOverflowOnParentWindow()\n}\n\nexport const removeAutoShowTooltip = (element) => {\n  element.removeAttribute(\"data-tooltip-auto-visible\")\n  updateIframeOverflowOnParentWindow()\n}\n\nexport const hideAllTooltip = () => {\n  const elementsWithTooltip = Array.from(\n    document.querySelectorAll(\"[data-tooltip-visible]\"),\n  )\n  elementsWithTooltip.forEach((elementWithTooltip) => {\n    hideTooltip(elementWithTooltip)\n  })\n}\n",
    "import {\n  toolbarSectionIsActive,\n  deactivateToolbarSection,\n  activateToolbarSection,\n  updateIframeOverflowOnParentWindow,\n} from \"../util/dom.js\"\n\nexport const renderToolbarSettings = () => {\n  document.querySelector(\"#settings-button\").onclick = toggleSettings\n  document.querySelector(\"#button-close-settings\").onclick = toggleSettings\n}\n\nconst toggleSettings = () => {\n  if (settingsAreVisible()) {\n    hideSettings()\n  } else {\n    showSettings()\n  }\n}\n\nexport const settingsAreVisible = () => {\n  return toolbarSectionIsActive(document.querySelector(`#settings`))\n}\n\nexport const hideSettings = () => {\n  deactivateToolbarSection(document.querySelector(`#settings`))\n  updateIframeOverflowOnParentWindow()\n}\n\nexport const showSettings = () => {\n  activateToolbarSection(document.querySelector(`#settings`))\n  updateIframeOverflowOnParentWindow()\n}\n",
    "export const enableVariant = (rootNode, variables) => {\n  const nodesNotMatching = Array.from(\n    rootNode.querySelectorAll(`[${attributeIndicatingACondition}]`),\n  )\n  nodesNotMatching.forEach((nodeNotMatching) => {\n    const conditionAttributeValue = nodeNotMatching.getAttribute(\n      attributeIndicatingACondition,\n    )\n    const matches = testCondition(conditionAttributeValue, variables)\n    if (matches) {\n      renameAttribute(\n        nodeNotMatching,\n        attributeIndicatingACondition,\n        attributeIndicatingAMatch,\n      )\n    }\n  })\n\n  const nodesMatching = Array.from(\n    rootNode.querySelectorAll(`[${attributeIndicatingAMatch}]`),\n  )\n  nodesMatching.forEach((nodeMatching) => {\n    const conditionAttributeValue = nodeMatching.getAttribute(\n      attributeIndicatingAMatch,\n    )\n    const matches = testCondition(conditionAttributeValue, variables)\n    if (!matches) {\n      renameAttribute(\n        nodeMatching,\n        attributeIndicatingAMatch,\n        attributeIndicatingACondition,\n      )\n    }\n  })\n}\n\nconst testCondition = (conditionAttributeValue, variables) => {\n  const condition = parseCondition(conditionAttributeValue)\n  return Object.keys(variables).some((key) => {\n    if (condition.key !== key) {\n      return false\n    }\n    // the condition do not specify a value, any value is ok\n    if (condition.value === undefined) {\n      return true\n    }\n    if (condition.value === variables[key]) {\n      return true\n    }\n    return false\n  })\n}\n\nconst parseCondition = (conditionAttributeValue) => {\n  const colonIndex = conditionAttributeValue.indexOf(\":\")\n  if (colonIndex === -1) {\n    return {\n      key: conditionAttributeValue,\n      value: undefined,\n    }\n  }\n  return {\n    key: conditionAttributeValue.slice(0, colonIndex),\n    value: conditionAttributeValue.slice(colonIndex + 1),\n  }\n}\n\nconst attributeIndicatingACondition = `data-when`\nconst attributeIndicatingAMatch = `data-when-active`\n\nconst renameAttribute = (node, name, newName) => {\n  node.setAttribute(newName, node.getAttribute(name))\n  node.removeAttribute(name)\n}\n",
    "import { createPreference } from \"../util/preferences.js\"\nimport { enableVariant } from \"../variant/variant.js\"\n\nconst notificationAvailable = typeof window.Notification === \"function\"\nconst notificationPreference = createPreference(\"notification\")\n\nconst arrayOfOpenedNotifications = []\nexport const renderToolbarNotification = () => {\n  const notifCheckbox = document.querySelector(\"#toggle-notifs\")\n  if (!notificationAvailable) {\n    const notifSetting = document.querySelector(\".settings-notification\")\n    notifSetting.setAttribute(\"data-disabled\", \"true\")\n    notifSetting.setAttribute(\n      \"title\",\n      `Notification not available in the browser`,\n    )\n    notifCheckbox.disabled = true\n    return\n  }\n\n  const updatePermission = () => {\n    if (Notification.permission === \"denied\") {\n      const notifSetting = document.querySelector(\".settings-notification\")\n      notifSetting.setAttribute(\"data-disabled\", \"true\")\n      notifSetting.setAttribute(\"title\", `Notification denied`)\n      notifCheckbox.disabled = true\n      return\n    }\n\n    notifCheckbox.checked = getNotificationPreference()\n    notifCheckbox.onchange = () => {\n      setNotificationPreference(notifCheckbox.checked)\n      if (!notifCheckbox.checked) {\n        // slice because arrayOfOpenedNotifications can be mutated while looping\n        arrayOfOpenedNotifications.slice().forEach((notification) => {\n          notification.close()\n        })\n      }\n    }\n    const notifPermission = Notification.permission\n    enableVariant(document.querySelector(\".notification-text\"), {\n      notif_permission: notifPermission === \"granted\" ? \"yes\" : \"no\",\n    })\n    if (notifPermission === \"default\") {\n      document.querySelector(\"a.request_notification_permission\").onclick =\n        () => {\n          requestPermission().then(() => {\n            updatePermission()\n          })\n        }\n    }\n  }\n  updatePermission()\n}\n\nexport const notifyExecutionResult = (\n  executedFileRelativeUrl,\n  execution,\n  previousExecution,\n) => {\n  const notificationEnabled = getNotificationPreference()\n  if (!notificationEnabled) return\n\n  const notificationOptions = {\n    lang: \"en\",\n    icon: getFaviconHref(),\n    clickToFocus: true,\n    clickToClose: true,\n  }\n\n  if (execution.status === \"errored\") {\n    if (previousExecution) {\n      if (previousExecution.status === \"completed\") {\n        notify(\"Broken\", {\n          ...notificationOptions,\n          body: `${executedFileRelativeUrl} execution now failing.`,\n        })\n      } else {\n        notify(\"Still failing\", {\n          ...notificationOptions,\n          body: `${executedFileRelativeUrl} execution still failing.`,\n        })\n      }\n    } else {\n      notify(\"Failing\", {\n        ...notificationOptions,\n        body: `${executedFileRelativeUrl} execution failed.`,\n      })\n    }\n  } else if (previousExecution && previousExecution.status === \"errored\") {\n    notify(\"Fixed\", {\n      ...notificationOptions,\n      body: `${executedFileRelativeUrl} execution fixed.`,\n    })\n  }\n}\n\nconst getNotificationPreference = () =>\n  notificationPreference.has() ? notificationPreference.get() : true\n\nconst setNotificationPreference = (value) => notificationPreference.set(value)\n\nconst getFaviconHref = () => {\n  const link = document.querySelector('link[rel=\"icon\"]')\n  return link ? link.href : undefined\n}\n\nlet permission = \"default\"\n\nconst notify = notificationAvailable\n  ? async (\n      title,\n      { clickToFocus = false, clickToClose = false, ...options } = {},\n    ) => {\n      if (permission !== \"granted\") {\n        return null\n      }\n\n      const notification = new Notification(title, options)\n      arrayOfOpenedNotifications.push(notification)\n      notification.onclick = () => {\n        // but if the user navigated inbetween\n        // focusing window will show something else\n        // in that case it could be great to do something\n        // maybe like showing a message saying this execution\n        // is no longer visible\n        // we could also navigauate to this file execution but\n        // there is no guarantee re-executing the file would give same output\n        // and it would also trigger an other notification\n        if (clickToFocus) window.focus()\n        if (clickToClose) notification.close()\n      }\n      notification.onclose = () => {\n        const index = arrayOfOpenedNotifications.indexOf(notification)\n        if (index > -1) {\n          arrayOfOpenedNotifications.splice(index, 1)\n        }\n      }\n      return notification\n    }\n  : () => {}\n\nlet requestPromise\nconst requestPermission = notificationAvailable\n  ? async () => {\n      if (requestPromise) return requestPromise\n      requestPromise = Notification.requestPermission()\n      permission = await requestPromise\n      requestPromise = undefined\n      return permission\n    }\n  : () => Promise.resolve(\"default\")\n",
    "import { createPreference } from \"../util/preferences.js\"\n\nconst DARK_THEME = \"dark\"\nconst LIGHT_THEME = \"light\"\nconst themePreference = createPreference(\"theme\")\n\nexport const renderToolbarTheme = () => {\n  const theme = getThemePreference()\n  const checkbox = document.querySelector(\"#checkbox-dark-theme\")\n  checkbox.checked = theme === DARK_THEME\n  setTheme(theme)\n  checkbox.onchange = () => {\n    if (checkbox.checked) {\n      setThemePreference(DARK_THEME)\n      setTheme(DARK_THEME)\n    } else {\n      setThemePreference(LIGHT_THEME)\n      setTheme(LIGHT_THEME)\n    }\n  }\n}\n\nconst getThemePreference = () => {\n  return themePreference.has() ? themePreference.get() : DARK_THEME\n}\n\nconst setThemePreference = (value) => {\n  themePreference.set(value)\n  setTheme(value)\n}\n\nconst setTheme = (theme) => {\n  document.querySelector(\"html\").setAttribute(\"data-theme\", theme)\n}\n",
    "import { createPreference } from \"../util/preferences.js\"\n\nconst animationPreference = createPreference(\"animation\")\n\nexport const renderToolbarAnimation = () => {\n  const animCheckbox = document.querySelector(\"#toggle-anims\")\n  animCheckbox.checked = getAnimationPreference()\n  animCheckbox.onchange = () => {\n    setAnimationPreference(animCheckbox.checked)\n    onPreferenceChange(animCheckbox.checked)\n  }\n  onPreferenceChange()\n\n  // enable toolbar transition only after first render\n  setTimeout(() => {\n    document.querySelector(\"#toolbar\").setAttribute(\"data-animate\", \"\")\n  })\n}\n\nconst onPreferenceChange = (value = getAnimationPreference()) => {\n  if (value) {\n    enableAnimation()\n  } else {\n    disableAnimation()\n  }\n}\n\nconst getAnimationPreference = () =>\n  animationPreference.has() ? animationPreference.get() : true\n\nconst setAnimationPreference = (value) => animationPreference.set(value)\n\nconst enableAnimation = () => {\n  document.documentElement.removeAttribute(\"data-animation-disabled\")\n}\n\nconst disableAnimation = () => {\n  document.documentElement.setAttribute(\"data-animation-disabled\", \"\")\n}\n",
    "export const createHorizontalBreakpoint = (breakpointValue) => {\n  return createBreakpoint(windowWidthMeasure, breakpointValue)\n}\n\nconst createMeasure = ({ compute, register }) => {\n  let currentValue = compute()\n\n  const get = () => compute()\n\n  const changed = createSignal()\n\n  let unregister = () => {}\n  if (register) {\n    unregister = register(() => {\n      const value = compute()\n      if (value !== currentValue) {\n        const previousValue = value\n        currentValue = value\n        changed.notify(value, previousValue)\n      }\n    })\n  }\n\n  return { get, changed, unregister }\n}\n\nconst createSignal = () => {\n  const callbackArray = []\n\n  const listen = (callback) => {\n    callbackArray.push(callback)\n    return () => {\n      const index = callbackArray.indexOf(callback)\n      if (index > -1) {\n        callbackArray.splice(index, 1)\n      }\n    }\n  }\n\n  const notify = (...args) => {\n    callbackArray.slice().forEach((callback) => {\n      callback(...args)\n    })\n  }\n\n  return { listen, notify }\n}\n\nconst windowWidthMeasure = createMeasure({\n  name: \"window-width\",\n  compute: () => window.innerWidth,\n  register: (onchange) => {\n    window.addEventListener(\"resize\", onchange)\n    window.addEventListener(\"orientationchange\", onchange)\n    return () => {\n      window.removeEventListener(\"resize\", onchange)\n      window.removeEventListener(\"orientationchange\", onchange)\n    }\n  },\n})\n\nconst createBreakpoint = (measure, breakpointValue) => {\n  const getBreakpointState = () => {\n    const value = measure.get()\n\n    if (value < breakpointValue) {\n      return \"below\"\n    }\n    if (value > breakpointValue) {\n      return \"above\"\n    }\n    return \"equals\"\n  }\n\n  let currentBreakpointState = getBreakpointState()\n\n  const isAbove = () => {\n    return measure.get() > breakpointValue\n  }\n\n  const isBelow = () => {\n    return measure.get() < breakpointValue\n  }\n\n  const breakpointChanged = createSignal()\n\n  measure.changed.listen(() => {\n    const breakpointState = getBreakpointState()\n    if (breakpointState !== currentBreakpointState) {\n      const breakpointStatePrevious = currentBreakpointState\n      currentBreakpointState = breakpointState\n      breakpointChanged.notify(breakpointState, breakpointStatePrevious)\n    }\n  })\n\n  return {\n    isAbove,\n    isBelow,\n    changed: breakpointChanged,\n  }\n}\n\n// const windowScrollTop = createMeasure({\n//   name: \"window-scroll-top\",\n//   compute: () => window.scrollTop,\n//   register: (onchange) => {\n//     window.addEventListener(\"scroll\", onchange)\n//     return () => {\n//       window.removeEventListener(\"scroll\", onchange)\n//     }\n//   },\n// })\n",
    "import { removeForceHideElement, activateToolbarSection } from \"../util/dom.js\"\nimport { enableVariant } from \"../variant/variant.js\"\nimport { createHorizontalBreakpoint } from \"../util/responsive.js\"\nimport { toggleTooltip } from \"../tooltip/tooltip.js\"\nimport { notifyExecutionResult } from \"../notification/toolbar.notification.js\"\n\nconst WINDOW_MEDIUM_WIDTH = 570\n\nexport const renderExecutionInToolbar = ({ executedFileRelativeUrl }) => {\n  // reset file execution indicator ui\n  applyExecutionIndicator()\n  removeForceHideElement(document.querySelector(\"#execution-indicator\"))\n\n  // apply responsive design on fileInput if needed + add listener on resize screen\n  const input = document.querySelector(\"#file-input\")\n  const fileWidthBreakpoint = createHorizontalBreakpoint(WINDOW_MEDIUM_WIDTH)\n  const handleFileWidthBreakpoint = () => {\n    resizeInput(input, fileWidthBreakpoint)\n  }\n  handleFileWidthBreakpoint()\n  fileWidthBreakpoint.changed.listen(handleFileWidthBreakpoint)\n  input.value = executedFileRelativeUrl\n  resizeInput(input, fileWidthBreakpoint)\n\n  activateToolbarSection(document.querySelector(\"#file\"))\n  removeForceHideElement(document.querySelector(\"#file\"))\n\n  window.parent.__jsenv__.executionResultPromise.then(\n    ({ status, startTime, endTime }) => {\n      const execution = { status, startTime, endTime }\n      applyExecutionIndicator(execution)\n\n      const executionStorageKey = executedFileRelativeUrl\n      const previousExecution = sessionStorage.hasOwnProperty(\n        executionStorageKey,\n      )\n        ? JSON.parse(sessionStorage.getItem(executionStorageKey))\n        : undefined\n      notifyExecutionResult(\n        executedFileRelativeUrl,\n        execution,\n        previousExecution,\n      )\n\n      sessionStorage.setItem(executedFileRelativeUrl, JSON.stringify(execution))\n    },\n  )\n}\n\nconst applyExecutionIndicator = ({\n  status = \"running\",\n  startTime,\n  endTime,\n} = {}) => {\n  const executionIndicator = document.querySelector(\"#execution-indicator\")\n  enableVariant(executionIndicator, { execution: status })\n  const variantNode = executionIndicator.querySelector(\"[data-when-active]\")\n\n  variantNode.querySelector(\"button\").onclick = () =>\n    toggleTooltip(executionIndicator)\n  variantNode.querySelector(\".tooltip\").textContent = computeText({\n    status,\n    startTime,\n    endTime,\n  })\n}\n\nconst computeText = ({ status, startTime, endTime }) => {\n  if (status === \"completed\") {\n    return `Execution completed in ${endTime - startTime}ms`\n  }\n\n  if (status === \"errored\") {\n    return `Execution failed in ${endTime - startTime}ms`\n  }\n\n  if (status === \"running\") {\n    return \"Executing...\"\n  }\n\n  return \"\"\n}\n\nconst resizeInput = (input, fileWidthBreakpoint) => {\n  const size = fileWidthBreakpoint.isBelow() ? 20 : 40\n  if (input.value.length > size) {\n    input.style.width = `${size}ch`\n  } else {\n    input.style.width = `${input.value.length}ch`\n  }\n}\n",
    "export const createDetailedMessage = (message, details = {}) => {\n  let string = `${message}`\n\n  Object.keys(details).forEach((key) => {\n    const value = details[key]\n    string += `\n--- ${key} ---\n${\n  Array.isArray(value)\n    ? value.join(`\n`)\n    : value\n}`\n  })\n\n  return string\n}\n",
    "export const COMPILE_ID_BEST = \"best\"\n\nexport const COMPILE_ID_OTHERWISE = \"otherwise\"\n\nexport const COMPILE_ID_BUILD_GLOBAL = \"build-global\"\n\nexport const COMPILE_ID_BUILD_GLOBAL_FILES = \"build-global-files\"\n\nexport const COMPILE_ID_BUILD_COMMONJS = \"build-commonjs\"\n\nexport const COMPILE_ID_BUILD_COMMONJS_FILES = \"build-commonjs-files\"\n",
    "import { createDetailedMessage } from \"@jsenv/logger\"\n\nimport { COMPILE_ID_OTHERWISE } from \"../CONSTANTS.js\"\n\nexport const computeCompileIdFromGroupId = ({ groupId, groupMap }) => {\n  if (typeof groupId === \"undefined\") {\n    if (COMPILE_ID_OTHERWISE in groupMap) {\n      return COMPILE_ID_OTHERWISE\n    }\n\n    const keys = Object.keys(groupMap)\n    if (keys.length === 1) {\n      return keys[0]\n    }\n\n    throw new Error(createUnexpectedGroupIdMessage({ groupMap }))\n  }\n\n  if (groupId in groupMap === false) {\n    throw new Error(createUnexpectedGroupIdMessage({ groupId, groupMap }))\n  }\n\n  return groupId\n}\n\nconst createUnexpectedGroupIdMessage = ({ compileId, groupMap }) =>\n  createDetailedMessage(`unexpected groupId.`, {\n    [\"expected compiled id\"]: Object.keys(groupMap),\n    [\"received compile id\"]: compileId,\n  })\n",
    "export const valueToVersion = (value) => {\n  if (typeof value === \"number\") {\n    return numberToVersion(value)\n  }\n\n  if (typeof value === \"string\") {\n    return stringToVersion(value)\n  }\n\n  throw new TypeError(`version must be a number or a string, got ${value}`)\n}\n\nconst numberToVersion = (number) => {\n  return {\n    major: number,\n    minor: 0,\n    patch: 0,\n  }\n}\n\nconst stringToVersion = (string) => {\n  if (string.indexOf(\".\") > -1) {\n    const parts = string.split(\".\")\n    return {\n      major: Number(parts[0]),\n      minor: parts[1] ? Number(parts[1]) : 0,\n      patch: parts[2] ? Number(parts[2]) : 0,\n    }\n  }\n\n  if (isNaN(string)) {\n    return {\n      major: 0,\n      minor: 0,\n      patch: 0,\n    }\n  }\n\n  return {\n    major: Number(string),\n    minor: 0,\n    patch: 0,\n  }\n}\n",
    "import { valueToVersion } from \"./valueToVersion.js\"\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = valueToVersion(versionA)\n  const semanticVersionB = valueToVersion(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n",
    "import { versionCompare } from \"./versionCompare.js\"\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n",
    "import { versionIsBelow } from \"./versionIsBelow.js\"\n\nexport const findHighestVersion = (...values) => {\n  if (values.length === 0) throw new Error(`missing argument`)\n\n  return values.reduce((highestVersion, value) => {\n    if (versionIsBelow(highestVersion, value)) {\n      return value\n    }\n    return highestVersion\n  })\n}\n",
    "import { findHighestVersion } from \"../semantic_versioning/index.js\"\n\nexport const resolveGroup = ({ name, version }, groupMap) => {\n  return Object.keys(groupMap).find((compileIdCandidate) => {\n    const { minRuntimeVersions } = groupMap[compileIdCandidate]\n    const versionForGroup = minRuntimeVersions[name]\n    if (!versionForGroup) {\n      return false\n    }\n    const highestVersion = findHighestVersion(version, versionForGroup)\n    return highestVersion === version\n  })\n}\n",
    "/*\n * Prefer window.navigator.userAgentData before resorting to\n * window.navigator.userAgent because of\n * https://blog.chromium.org/2021/09/user-agent-reduction-origin-trial-and-dates.html\n */\n\nexport const detectFromUserAgentData = () => {\n  const { userAgentData } = window.navigator\n  if (!userAgentData) {\n    return null\n  }\n\n  const { brands } = userAgentData\n  let i = 0\n  while (i < brands.length) {\n    const { brand, version } = brands[i]\n    i++\n    if (brand === \"chromium\" || brand === \"Google Chrome\") {\n      return {\n        name: \"chrome\",\n        version,\n      }\n    }\n  }\n  return null\n}\n",
    "export const firstMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 0 ? match[1] || undefined : undefined\n}\n\nexport const secondMatch = (regexp, string) => {\n  const match = string.match(regexp)\n  return match && match.length > 1 ? match[2] || undefined : undefined\n}\n\nexport const userAgentToVersion = (userAgent) => {\n  return firstMatch(/version\\/(\\d+(\\.?_?\\d+)+)/i, userAgent) || undefined\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectAndroid = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/(android)/i.test(userAgent)) {\n    return {\n      name: \"android\",\n      version: firstMatch(/Android (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectInternetExplorer = () =>\n  userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/msie|trident/i.test(userAgent)) {\n    return {\n      name: \"ie\",\n      version: firstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch, userAgentToVersion } from \"./util.js\"\n\nexport const detectOpera = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  // opera below 13\n  if (/opera/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version:\n        userAgentToVersion(userAgent) ||\n        firstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n\n  // opera above 13\n  if (/opr\\/|opios/i.test(userAgent)) {\n    return {\n      name: \"opera\",\n      version:\n        firstMatch(/(?:opr|opios)[\\s/](\\S+)/i, userAgent) ||\n        userAgentToVersion(userAgent),\n    }\n  }\n\n  return null\n}\n",
    "import { secondMatch } from \"./util.js\"\n\nexport const detectEdge = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/edg([ea]|ios)/i.test(userAgent)) {\n    return {\n      name: \"edge\",\n      version: secondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, userAgent),\n    }\n  }\n  return null\n}\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectFirefox = () =>\n  userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/firefox|iceweasel|fxios/i.test(userAgent)) {\n    return {\n      name: \"firefox\",\n      version: firstMatch(\n        /(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,\n        userAgent,\n      ),\n    }\n  }\n  return null\n}\n",
    "import { userAgentToVersion, firstMatch } from \"./util.js\"\n\nexport const detectChrome = () => {\n  return userAgentToBrowser(window.navigator.userAgent)\n}\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/chromium/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version:\n        firstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, userAgent) ||\n        userAgentToVersion(userAgent),\n    }\n  }\n\n  if (/chrome|crios|crmo/i.test(userAgent)) {\n    return {\n      name: \"chrome\",\n      version: firstMatch(\n        /(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,\n        userAgent,\n      ),\n    }\n  }\n\n  return null\n}\n",
    "import { userAgentToVersion } from \"./util.js\"\n\nexport const detectSafari = () => userAgentToBrowser(window.navigator.userAgent)\n\nconst userAgentToBrowser = (userAgent) => {\n  if (/safari|applewebkit/i.test(userAgent)) {\n    return {\n      name: \"safari\",\n      version: userAgentToVersion(userAgent),\n    }\n  }\n  return null\n}\n",
    "export const detectElectron = () => null // TODO\n",
    "import { firstMatch } from \"./util.js\"\n\nexport const detectIOS = () => navigatorToBrowser(window.navigator)\n\nconst navigatorToBrowser = ({ userAgent, appVersion }) => {\n  if (/iPhone;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  if (/iPad;/.test(userAgent)) {\n    return {\n      name: \"ios\",\n      version: firstMatch(/OS (\\d+(\\.?_?\\d+)+)/i, appVersion),\n    }\n  }\n  return null\n}\n",
    "// https://github.com/Ahmdrza/detect-browser/blob/26254f85cf92795655a983bfd759d85f3de850c6/detect-browser.js#L1\n// https://github.com/lancedikson/bowser/blob/master/src/parser-browsers.js#L1\n\nimport { detectFromUserAgentData } from \"./user_agent_data.js\"\nimport { detectAndroid } from \"./detectAndroid.js\"\nimport { detectInternetExplorer } from \"./detectInternetExplorer.js\"\nimport { detectOpera } from \"./detectOpera.js\"\nimport { detectEdge } from \"./detectEdge.js\"\nimport { detectFirefox } from \"./detectFirefox.js\"\nimport { detectChrome } from \"./detectChrome.js\"\nimport { detectSafari } from \"./detectSafari.js\"\nimport { detectElectron } from \"./detectElectron.js\"\nimport { detectIOS } from \"./detectIOS.js\"\n\nconst detectorCompose = (detectors) => () => {\n  let i = 0\n  while (i < detectors.length) {\n    const detector = detectors[i]\n    i++\n    const result = detector()\n    if (result) {\n      return result\n    }\n  }\n  return null\n}\n\nconst detector = detectorCompose([\n  detectFromUserAgentData, // keep this first\n  detectOpera,\n  detectInternetExplorer,\n  detectEdge,\n  detectFirefox,\n  detectChrome,\n  detectSafari,\n  detectElectron,\n  detectIOS,\n  detectAndroid,\n])\n\nexport const detectBrowser = () => {\n  const { name = \"other\", version = \"unknown\" } = detector() || {}\n\n  return {\n    name: normalizeName(name),\n    version: normalizeVersion(version),\n  }\n}\n\nconst normalizeName = (name) => {\n  return name.toLowerCase()\n}\n\nconst normalizeVersion = (version) => {\n  if (version.indexOf(\".\") > -1) {\n    const parts = version.split(\".\")\n    // remove extraneous .\n    return parts.slice(0, 3).join(\".\")\n  }\n\n  if (version.indexOf(\"_\") > -1) {\n    const parts = version.split(\"_\")\n    // remove extraneous _\n    return parts.slice(0, 3).join(\"_\")\n  }\n\n  return version\n}\n",
    "/* eslint-env browser */\n\nimport { computeCompileIdFromGroupId } from \"../runtime/computeCompileIdFromGroupId.js\"\nimport { resolveGroup } from \"../runtime/resolveGroup.js\"\nimport { fetchJson } from \"../browser_utils/fetchJson.js\"\nimport { detectBrowser } from \"../browser_detection/browser_detection.js\"\n\nexport const scanBrowserRuntimeFeatures = async ({\n  coverageHandledFromOutside = false,\n  failFastOnFeatureDetection = false,\n} = {}) => {\n  const {\n    outDirectoryRelativeUrl,\n    inlineImportMapIntoHTML,\n    customCompilerPatterns,\n    compileServerGroupMap,\n  } = await fetchJson(\"/.jsenv/__compile_server_meta__.json\")\n\n  const browser = detectBrowser()\n  const compileId = computeCompileIdFromGroupId({\n    groupId: resolveGroup(browser, compileServerGroupMap),\n    groupMap: compileServerGroupMap,\n  })\n  const groupInfo = compileServerGroupMap[compileId]\n\n  const featuresReport = {\n    importmap: undefined,\n    dynamicImport: undefined,\n    topLevelAwait: undefined,\n    jsonImportAssertions: undefined,\n    cssImportAssertions: undefined,\n    newStylesheet: undefined,\n  }\n  await detectSupportedFeatures({\n    featuresReport,\n    failFastOnFeatureDetection,\n    inlineImportMapIntoHTML,\n  })\n  const pluginRequiredNameArray = await pluginRequiredNamesFromGroupInfo(\n    groupInfo,\n    {\n      featuresReport,\n      coverageHandledFromOutside,\n    },\n  )\n\n  const canAvoidCompilation =\n    customCompilerPatterns.length === 0 &&\n    pluginRequiredNameArray.length === 0 &&\n    featuresReport.importmap &&\n    featuresReport.dynamicImport &&\n    featuresReport.topLevelAwait\n\n  return {\n    canAvoidCompilation,\n    featuresReport,\n    customCompilerPatterns,\n    pluginRequiredNameArray,\n    inlineImportMapIntoHTML,\n    outDirectoryRelativeUrl,\n    compileId,\n    browser,\n  }\n}\n\nconst pluginRequiredNamesFromGroupInfo = async (\n  groupInfo,\n  { featuresReport, coverageHandledFromOutside },\n) => {\n  const { pluginRequiredNameArray } = groupInfo\n  const requiredPluginNames = pluginRequiredNameArray.slice()\n  const markPluginAsSupported = (name) => {\n    const index = requiredPluginNames.indexOf(name)\n    if (index > -1) {\n      requiredPluginNames.splice(index, 1)\n    }\n  }\n\n  // When instrumentation CAN be handed by playwright\n  // https://playwright.dev/docs/api/class-chromiumcoverage#chromiumcoveragestartjscoverageoptions\n  // coverageHandledFromOutside is true and \"transform-instrument\" becomes non mandatory\n  if (coverageHandledFromOutside) {\n    markPluginAsSupported(\"transform-instrument\")\n  }\n\n  if (pluginRequiredNameArray.includes(\"transform-import-assertions\")) {\n    const jsonImportAssertions = await supportsJsonImportAssertions()\n    featuresReport.jsonImportAssertions = jsonImportAssertions\n\n    const cssImportAssertions = await supportsCssImportAssertions()\n    featuresReport.cssImportAssertions = cssImportAssertions\n\n    if (jsonImportAssertions && cssImportAssertions) {\n      markPluginAsSupported(\"transform-import-assertions\")\n    }\n  }\n\n  if (pluginRequiredNameArray.includes(\"new-stylesheet-as-jsenv-import\")) {\n    const newStylesheet = supportsNewStylesheet()\n    featuresReport.newStylesheet = newStylesheet\n    markPluginAsSupported(\"new-stylesheet-as-jsenv-import\")\n  }\n\n  return requiredPluginNames\n}\n\nconst detectSupportedFeatures = async ({\n  featuresReport,\n  failFastOnFeatureDetection,\n  inlineImportMapIntoHTML,\n}) => {\n  // start testing importmap support first and not in paralell\n  // so that there is not module script loaded beore importmap is injected\n  // it would log an error in chrome console and return undefined\n  const importmap = await supportsImportmap({\n    // chrome supports inline but not remote importmap\n    // https://github.com/WICG/import-maps/issues/235\n\n    // at this stage we won't know if the html file will use\n    // an importmap or not and if that importmap is inline or specified with an src\n    // so we should test if browser support local and remote importmap.\n    // But there exploring server can inline importmap by transforming html\n    // and in that case we can test only the local importmap support\n    // so we test importmap support and the remote one\n    remote: !inlineImportMapIntoHTML,\n  })\n  featuresReport.importmap = importmap\n  if (!importmap && failFastOnFeatureDetection) {\n    return\n  }\n\n  const dynamicImport = await supportsDynamicImport()\n  featuresReport.dynamicImport = dynamicImport\n  if (!dynamicImport && failFastOnFeatureDetection) {\n    return\n  }\n\n  const topLevelAwait = await supportsTopLevelAwait()\n  featuresReport.topLevelAwait = topLevelAwait\n  if (!topLevelAwait && failFastOnFeatureDetection) {\n    return\n  }\n}\n\nconst supportsImportmap = async ({ remote = true } = {}) => {\n  const specifier = asBase64Url(`export default false`)\n  const importMap = {\n    imports: {\n      [specifier]: asBase64Url(`export default true`),\n    },\n  }\n  const importmapScript = document.createElement(\"script\")\n  const importmapString = JSON.stringify(importMap, null, \"  \")\n  importmapScript.type = \"importmap\"\n  if (remote) {\n    importmapScript.src = `data:application/json;base64,${window.btoa(\n      importmapString,\n    )}`\n  } else {\n    importmapScript.textContent = importmapString\n  }\n  document.body.appendChild(importmapScript)\n\n  try {\n    await executeWithScriptModuleInjection(\n      `import supported from \"${specifier}\"; window.__jsenv_runtime_test_importmap__ = supported`,\n    )\n    document.body.removeChild(importmapScript)\n    return window.__jsenv_runtime_test_importmap__\n  } catch (e) {\n    document.body.removeChild(importmapScript)\n    return false\n  }\n}\n\nconst supportsDynamicImport = async () => {\n  const moduleSource = asBase64Url(`export default 42`)\n  try {\n    await executeWithScriptModuleInjection(\n      `window.__jsenv_runtime_test_dynamic_import__ = import(${JSON.stringify(\n        moduleSource,\n      )})`,\n    )\n    const namespace = await window.__jsenv_runtime_test_dynamic_import__\n    return namespace.default === 42\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsNewStylesheet = () => {\n  try {\n    // eslint-disable-next-line no-new\n    new CSSStyleSheet()\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsTopLevelAwait = async () => {\n  try {\n    await executeWithScriptModuleInjection(\n      `window.__jsenv_runtime_test_top_level_await__ = await Promise.resolve(42)`,\n    )\n    return window.__jsenv_runtime_test_top_level_await__ === 42\n  } catch (e) {\n    return false\n  }\n}\n\n// to execute in a browser devtools\n// const featuresReport = {}\n// await detectSupportedFeatures({ featuresReport, inlineImportMapIntoHTML: true })\n// console.log(featuresReport)\n\nconst supportsJsonImportAssertions = async () => {\n  const jsonBase64Url = asBase64Url(\"42\", \"application/json\")\n  const moduleSource = asBase64Url(\n    `import data from \"${jsonBase64Url}\" assert { type: \"json\" }\nexport default data`,\n  )\n  try {\n    await executeWithScriptModuleInjection(\n      `window.__jsenv_runtime_test_json_import_assertion__ = import(${JSON.stringify(\n        moduleSource,\n      )})`,\n    )\n    const namespace = await window.__jsenv_runtime_test_json_import_assertion__\n    return namespace.default === 42\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsCssImportAssertions = async () => {\n  const cssBase64Url = asBase64Url(\"p { color: red; }\", \"text/css\")\n  const moduleSource = asBase64Url(\n    `import css from \"${cssBase64Url}\" assert { type: \"css\" }\nexport default css`,\n  )\n  try {\n    await executeWithScriptModuleInjection(\n      `window.__jsenv_runtime_test_css_import_assertion__ = import(${JSON.stringify(\n        moduleSource,\n      )})`,\n    )\n    const namespace = await window.__jsenv_runtime_test_css_import_assertion__\n    return namespace.default instanceof CSSStyleSheet\n  } catch (e) {\n    return false\n  }\n}\n\nconst executeWithScriptModuleInjection = (code) => {\n  const scriptModule = document.createElement(\"script\")\n  scriptModule.type = \"module\"\n\n  const loadPromise = new Promise((resolve, reject) => {\n    scriptModule.onload = () => {\n      document.body.removeChild(scriptModule)\n      resolve()\n    }\n    scriptModule.onerror = () => {\n      document.body.removeChild(scriptModule)\n      reject()\n    }\n    document.body.appendChild(scriptModule)\n  })\n\n  scriptModule.src = asBase64Url(code)\n\n  return loadPromise\n}\n\nconst asBase64Url = (text, mimeType = \"application/javascript\") => {\n  return `data:${mimeType};base64,${window.btoa(text)}`\n}\n\n// const cssImportAssertions = await supportsCssImportAssertions()\n// console.log({ cssImportAssertions })\n",
    "import { scanBrowserRuntimeFeatures } from \"../../../browser_feature_detection/browser_feature_detection.js\"\nimport { removeForceHideElement } from \"../util/dom.js\"\nimport { enableVariant } from \"../variant/variant.js\"\n\nexport const renderCompilationInToolbar = ({ compileGroup }) => {\n  const browserSupportRootNode = document.querySelector(\"#browser_support\")\n  const filesCompilationRootNode = document.querySelector(\"#files_compilation\")\n\n  removeForceHideElement(browserSupportRootNode)\n  removeForceHideElement(filesCompilationRootNode)\n\n  scanBrowserRuntimeFeatures().then(\n    ({\n      canAvoidCompilation,\n      featuresReport,\n      customCompilerPatterns,\n      pluginRequiredNameArray,\n      inlineImportMapIntoHTML,\n      outDirectoryRelativeUrl,\n      compileId,\n    }) => {\n      const browserSupport = canAvoidCompilation\n        ? inlineImportMapIntoHTML\n          ? \"partial\"\n          : \"full\"\n        : \"no\"\n      enableVariant(browserSupportRootNode, {\n        browserSupport,\n      })\n      if (browserSupport === \"no\") {\n        browserSupportRootNode.querySelector(\n          `a.browser_support_read_more_link`,\n        ).onclick = () => {\n          // eslint-disable-next-line no-alert\n          window.alert(\n            `Source files needs to be compiled to be executable in this browser because: ${getBrowserSupportMessage(\n              {\n                missingOnly: true,\n                featuresReport,\n                customCompilerPatterns,\n                pluginRequiredNameArray,\n                inlineImportMapIntoHTML,\n              },\n            )}`,\n          )\n        }\n      } else if (browserSupport === \"partial\") {\n        browserSupportRootNode.querySelector(\n          `a.browser_support_read_more_link`,\n        ).onclick = () => {\n          // eslint-disable-next-line no-alert\n          window.alert(\n            `Source files (except html) can be executed directly in this browser because: ${getBrowserSupportMessage(\n              {\n                featuresReport,\n                customCompilerPatterns,\n                pluginRequiredNameArray,\n                inlineImportMapIntoHTML,\n              },\n            )}`,\n          )\n        }\n      } else if (browserSupport === \"full\") {\n        browserSupportRootNode.querySelector(\n          `a.browser_support_read_more_link`,\n        ).onclick = () => {\n          // eslint-disable-next-line no-alert\n          window.alert(\n            `Source files can be executed directly in this browser because: ${getBrowserSupportMessage(\n              {\n                featuresReport,\n                customCompilerPatterns,\n                pluginRequiredNameArray,\n                inlineImportMapIntoHTML,\n              },\n            )}`,\n          )\n        }\n      }\n\n      const filesCompilation = compileGroup.compileId\n        ? \"yes\"\n        : inlineImportMapIntoHTML\n        ? \"html_only\"\n        : \"no\"\n      enableVariant(filesCompilationRootNode, {\n        filesCompilation,\n        compiled: compileGroup.compileId ? \"yes\" : \"no\",\n      })\n      filesCompilationRootNode.querySelector(\"a.go_to_source_link\").onclick =\n        () => {\n          window.parent.location = `/${compileGroup.fileRelativeUrl}`\n        }\n      filesCompilationRootNode.querySelector(\"a.go_to_compiled_link\").onclick =\n        () => {\n          window.parent.location = `/${outDirectoryRelativeUrl}${compileId}/${compileGroup.fileRelativeUrl}`\n        }\n\n      const shouldCompile =\n        filesCompilation !== \"yes\" && browserSupport === \"no\"\n\n      if (shouldCompile) {\n        document\n          .querySelector(\".files_compilation_text\")\n          .setAttribute(\"data-warning\", \"\")\n        document\n          .querySelector(\".browser_support_text\")\n          .setAttribute(\"data-warning\", \"\")\n        document\n          .querySelector(\"#settings-button\")\n          .setAttribute(\"data-warning\", \"\")\n      } else {\n        document\n          .querySelector(\".files_compilation_text\")\n          .removeAttribute(\"data-warning\")\n        document\n          .querySelector(\".browser_support_text\")\n          .removeAttribute(\"data-warning\")\n        document\n          .querySelector(\"#settings-button\")\n          .removeAttribute(\"data-warning\")\n      }\n    },\n  )\n}\n\nconst getBrowserSupportMessage = ({\n  missingOnly,\n  featuresReport,\n  customCompilerPatterns,\n  pluginRequiredNameArray,\n  inlineImportMapIntoHTML,\n}) => {\n  const parts = []\n\n  if (featuresReport.importmap) {\n    if (!missingOnly) {\n      if (inlineImportMapIntoHTML) {\n        parts.push(`importmaps are supported (only when inlined in html files)`)\n      } else {\n        parts.push(`importmaps are supported`)\n      }\n    }\n  } else {\n    parts.push(`importmaps are not supported`)\n  }\n\n  if (featuresReport.dynamicImport) {\n    if (!missingOnly) {\n      parts.push(`dynamic imports are supported`)\n    }\n  } else {\n    parts.push(`dynamic imports are not supported`)\n  }\n\n  if (featuresReport.topLevelAwait) {\n    if (!missingOnly) {\n      parts.push(`top level await is supported`)\n    }\n  } else {\n    parts.push(`top level await is not supported`)\n  }\n\n  const pluginRequiredCount = pluginRequiredNameArray.length\n  if (pluginRequiredCount === 0) {\n    if (!missingOnly) {\n      parts.push(`all plugins are natively supported`)\n    }\n  } else {\n    parts.push(\n      `${pluginRequiredCount} plugins are mandatory: ${pluginRequiredNameArray}`,\n    )\n  }\n\n  const customCompilerCount = customCompilerPatterns.length\n  if (customCompilerCount === 0) {\n    // no need to talk about something unused\n  } else {\n    parts.push(\n      `${customCompilerCount} custom compilers enabled: ${customCompilerPatterns}`,\n    )\n  }\n\n  return `\n- ${parts.join(`\n- `)}`\n}\n",
    "import { removeForceHideElement } from \"../util/dom.js\"\nimport { enableVariant } from \"../variant/variant.js\"\nimport {\n  toggleTooltip,\n  removeAutoShowTooltip,\n  autoShowTooltip,\n} from \"../tooltip/tooltip.js\"\n\nlet livereloadingAvailableOnServer = false\nconst parentEventSourceClient = window.parent.__jsenv_event_source_client__\n\nexport const initToolbarEventSource = ({ livereloading }) => {\n  removeForceHideElement(document.querySelector(\"#eventsource-indicator\"))\n  livereloadingAvailableOnServer = livereloading\n  if (!livereloadingAvailableOnServer) {\n    disableLivereloadSetting()\n  }\n  parentEventSourceClient.setConnectionStatusChangeCallback(() => {\n    updateEventSourceIndicator()\n  })\n  const livereloadCheckbox = document.querySelector(\"#toggle-livereload\")\n  livereloadCheckbox.checked = parentEventSourceClient.isLivereloadEnabled()\n  livereloadCheckbox.onchange = () => {\n    parentEventSourceClient.setLivereloadPreference(livereloadCheckbox.checked)\n    updateEventSourceIndicator()\n  }\n  updateEventSourceIndicator()\n}\n\nconst updateEventSourceIndicator = () => {\n  const eventSourceIndicator = document.querySelector(\"#eventsource-indicator\")\n  const fileChanges = parentEventSourceClient.getFileChanges()\n  const changeCount = Object.keys(fileChanges).length\n  const eventSourceConnectionState =\n    parentEventSourceClient.getConnectionStatus()\n  enableVariant(eventSourceIndicator, {\n    eventsource: eventSourceConnectionState,\n    livereload: parentEventSourceClient.isLivereloadEnabled() ? \"on\" : \"off\",\n    changes: changeCount > 0 ? \"yes\" : \"no\",\n  })\n\n  const variantNode = document.querySelector(\n    \"#eventsource-indicator > [data-when-active]\",\n  )\n  variantNode.querySelector(\"button\").onclick = () => {\n    toggleTooltip(eventSourceIndicator)\n  }\n\n  if (eventSourceConnectionState === \"connecting\") {\n    variantNode.querySelector(\"a\").onclick = () => {\n      parentEventSourceClient.disconnect()\n    }\n  } else if (eventSourceConnectionState === \"connected\") {\n    removeAutoShowTooltip(eventSourceIndicator)\n    if (changeCount) {\n      const changeLink = variantNode.querySelector(\".eventsource-changes-link\")\n      changeLink.innerHTML = changeCount\n      changeLink.onclick = () => {\n        console.log(JSON.stringify(fileChanges, null, \"  \"), fileChanges)\n        // eslint-disable-next-line no-alert\n        window.parent.alert(JSON.stringify(fileChanges, null, \"  \"))\n      }\n      variantNode.querySelector(\".eventsource-reload-link\").onclick = () => {\n        parentEventSourceClient.reloadIfNeeded()\n      }\n    }\n  } else if (eventSourceConnectionState === \"disconnected\") {\n    autoShowTooltip(eventSourceIndicator)\n    variantNode.querySelector(\"a\").onclick = () => {\n      parentEventSourceClient.connect()\n    }\n  }\n}\n\nconst disableLivereloadSetting = () => {\n  document\n    .querySelector(\".settings-livereload\")\n    .setAttribute(\"data-disabled\", \"true\")\n  document\n    .querySelector(\".settings-livereload\")\n    .setAttribute(\"title\", `Livereload not available: disabled by server`)\n  document.querySelector(\"#toggle-livereload\").disabled = true\n}\n",
    "import {\n  forceHideElement,\n  removeForceHideElement,\n  deactivateToolbarSection,\n} from \"../util/dom.js\"\nimport { createHorizontalBreakpoint } from \"../util/responsive.js\"\nimport { hideTooltip } from \"../tooltip/tooltip.js\"\n\nconst WINDOW_SMALL_WIDTH = 420\n\nexport const makeToolbarResponsive = () => {\n  // apply responsive design on toolbar icons if needed + add listener on resize screen\n  // ideally we should listen breakpoint once, for now restore toolbar\n  const overflowMenuBreakpoint = createHorizontalBreakpoint(WINDOW_SMALL_WIDTH)\n  const handleOverflowMenuBreakpoint = () => {\n    responsiveToolbar(overflowMenuBreakpoint)\n  }\n  handleOverflowMenuBreakpoint()\n  overflowMenuBreakpoint.changed.listen(handleOverflowMenuBreakpoint)\n\n  // overflow menu\n  document.querySelector(\"#overflow-menu-button\").onclick = () =>\n    toggleOverflowMenu()\n}\n\nconst responsiveToolbar = (overflowMenuBreakpoint) => {\n  // close all tooltips in case opened\n  hideTooltip(document.querySelector(\"#eventsource-indicator\"))\n  hideTooltip(document.querySelector(\"#execution-indicator\"))\n  // close settings box in case opened\n  deactivateToolbarSection(document.querySelector(\"#settings\"))\n\n  if (overflowMenuBreakpoint.isBelow()) {\n    enableOverflow()\n  } else {\n    disableOverflow()\n  }\n}\n\nlet moves = []\n\nconst enableOverflow = () => {\n  // move elements from toolbar to overflow menu\n  const responsiveToolbarElements = document.querySelectorAll(\n    \"[data-responsive-toolbar-element]\",\n  )\n  const overflowMenu = document.querySelector(\"#overflow-menu\")\n\n  // keep a placeholder element to know where to move them back\n  moves = Array.from(responsiveToolbarElements).map((element) => {\n    const placeholder = document.createElement(\"div\")\n    placeholder.style.display = \"none\"\n    placeholder.setAttribute(\"data-placeholder\", \"\")\n    element.parentNode.replaceChild(placeholder, element)\n    overflowMenu.appendChild(element)\n    return { element, placeholder }\n  })\n\n  document\n    .querySelector(\"#toolbar\")\n    .setAttribute(\"data-overflow-menu-enabled\", \"\")\n  removeForceHideElement(document.querySelector(\"#overflow-menu-button\"))\n}\n\nconst disableOverflow = () => {\n  // close overflow menu in case it's open & unselect toggleOverflowMenu button in case it's selected\n  hideOverflowMenu()\n  deactivateToolbarSection(document.querySelector(\"#overflow-menu\"))\n  moves.forEach(({ element, placeholder }) => {\n    placeholder.parentNode.replaceChild(element, placeholder)\n  })\n  moves = []\n\n  document\n    .querySelector(\"#toolbar\")\n    .removeAttribute(\"data-overflow-menu-enabled\")\n  forceHideElement(document.querySelector(\"#overflow-menu-button\"))\n}\n\nconst toggleOverflowMenu = () => {\n  if (overflowMenuIsVisible()) {\n    hideOverflowMenu()\n  } else {\n    showOverflowMenu()\n  }\n}\n\nconst overflowMenuIsVisible = () => {\n  const toolbar = document.querySelector(\"#toolbar\")\n  return toolbar.hasAttribute(\"data-overflow-menu-visible\")\n}\n\nconst showOverflowMenu = () => {\n  const toolbar = document.querySelector(\"#toolbar\")\n  document.querySelector(\"#overflow-menu\").setAttribute(\"data-animate\", \"\")\n  toolbar.setAttribute(\"data-overflow-menu-visible\", \"\")\n}\n\nconst hideOverflowMenu = () => {\n  const toolbar = document.querySelector(\"#toolbar\")\n  toolbar.removeAttribute(\"data-overflow-menu-visible\")\n  document.querySelector(\"#overflow-menu\").removeAttribute(\"data-animate\")\n}\n",
    "import { urlIsInsideOf } from \"@jsenv/filesystem/src/urlIsInsideOf.js\"\nimport { urlToRelativeUrl } from \"@jsenv/filesystem/src/urlToRelativeUrl.js\"\n\nimport { fetchExploringJson } from \"../exploring/fetchExploringJson.js\"\nimport { startJavaScriptAnimation } from \"../toolbar/util/animation.js\"\nimport \"./focus/toolbar.focus.js\"\nimport {\n  getToolbarIframe,\n  deactivateToolbarSection,\n  setStyles,\n} from \"./util/dom.js\"\nimport { createPreference } from \"./util/preferences.js\"\nimport { hideTooltip, hideAllTooltip } from \"./tooltip/tooltip.js\"\nimport {\n  renderToolbarSettings,\n  hideSettings,\n} from \"./settings/toolbar.settings.js\"\nimport { renderToolbarNotification } from \"./notification/toolbar.notification.js\"\nimport { renderToolbarTheme } from \"./theme/toolbar.theme.js\"\nimport { renderToolbarAnimation } from \"./animation/toolbar.animation.js\"\nimport { renderExecutionInToolbar } from \"./execution/toolbar.execution.js\"\nimport { renderCompilationInToolbar } from \"./compilation/toolbar.compilation.js\"\nimport { initToolbarEventSource } from \"./eventsource/toolbar.eventsource.js\"\nimport { makeToolbarResponsive } from \"./responsive/toolbar.responsive.js\"\n\nconst toolbarVisibilityPreference = createPreference(\"toolbar\")\n\nconst renderToolbar = async () => {\n  const executedFileCompiledUrl = window.parent.location.href\n  const compileServerOrigin = window.parent.location.origin\n  // this should not block the whole toolbar rendering + interactivity\n  const exploringConfig = await fetchExploringJson()\n  const { outDirectoryRelativeUrl, livereloading } = exploringConfig\n  const compileGroup = getCompileGroup({\n    executedFileCompiledUrl,\n    outDirectoryRelativeUrl,\n    compileServerOrigin,\n  })\n  const executedFileRelativeUrl = compileGroup.fileRelativeUrl\n\n  const toolbarOverlay = document.querySelector(\"#toolbar-overlay\")\n  toolbarOverlay.onclick = () => {\n    hideAllTooltip()\n    hideSettings()\n  }\n\n  const toolbarVisible = toolbarVisibilityPreference.has()\n    ? toolbarVisibilityPreference.get()\n    : true\n\n  if (toolbarVisible) {\n    showToolbar({ animate: false })\n  } else {\n    hideToolbar({ animate: false })\n  }\n\n  document.querySelector(\".toolbar-icon-wrapper\").onclick = () => {\n    window.parent.location.href = \"/\"\n  }\n\n  renderToolbarNotification()\n  makeToolbarResponsive()\n  renderToolbarSettings()\n  renderToolbarAnimation()\n  renderToolbarTheme()\n  renderExecutionInToolbar({ executedFileRelativeUrl })\n  renderCompilationInToolbar({ compileGroup })\n  // this might become active but we need to detect this somehow\n  deactivateToolbarSection(document.querySelector(\"#file-list-link\"))\n  initToolbarEventSource({\n    executedFileRelativeUrl,\n    livereloading,\n  })\n\n  // if user click enter or space quickly while closing toolbar\n  // it will cancel the closing\n  // that's why I used toggleToolbar and not hideToolbar\n  document.querySelector(\"#button-close-toolbar\").onclick = () =>\n    toogleToolbar()\n}\n\nconst toogleToolbar = () => {\n  if (toolbarIsVisible()) {\n    hideToolbar()\n  } else {\n    showToolbar()\n  }\n}\n\nconst toolbarIsVisible = () =>\n  document.documentElement.hasAttribute(\"data-toolbar-visible\")\n\nlet hideToolbar = () => {\n  // toolbar hidden by default, nothing to do to hide it by default\n  sendEventToParent(\"toolbar-visibility-change\", false)\n}\n\n// (by the way it might be cool to have the toolbar auto show when)\n// it has something to say (being disconnected from livereload server)\nconst showToolbar = ({ animate = true } = {}) => {\n  toolbarVisibilityPreference.set(true)\n  if (animate) {\n    document.documentElement.setAttribute(\"data-toolbar-animation\", \"\")\n  } else {\n    document.documentElement.removeAttribute(\"data-toolbar-animation\")\n  }\n  document.documentElement.setAttribute(\"data-toolbar-visible\", \"\")\n\n  sendEventToParent(\"toolbar-visibility-change\", true)\n\n  const toolbarIframe = getToolbarIframe()\n  const toolbarIframeParent = toolbarIframe.parentNode\n  const parentWindow = window.parent\n  const parentDocumentElement =\n    parentWindow.document.compatMode === \"CSS1Compat\"\n      ? parentWindow.document.documentElement\n      : parentWindow.document.body\n\n  const scrollYMax =\n    parentDocumentElement.scrollHeight - parentWindow.innerHeight\n  const scrollY = parentDocumentElement.scrollTop\n  const scrollYRemaining = scrollYMax - scrollY\n\n  setStyles(toolbarIframeParent, {\n    \"transition-property\": \"padding-bottom\",\n    \"transition-duration\": \"300ms\",\n  })\n  // maybe we should use js animation here because we would not conflict with css\n  const restoreToolbarIframeParentStyles = setStyles(toolbarIframeParent, {\n    \"scroll-padding-bottom\": \"40px\", // same here we should add 40px\n    \"padding-bottom\": \"40px\", // if there is already one we should add 40px\n  })\n  const restoreToolbarIframeStyles = setStyles(toolbarIframe, {\n    height: \"40px\",\n    visibility: \"visible\",\n  })\n\n  if (scrollYRemaining < 40 && scrollYMax > 0) {\n    const scrollEnd = scrollY + 40\n    startJavaScriptAnimation({\n      duration: 300,\n      onProgress: ({ progress }) => {\n        const value = scrollY + (scrollEnd - scrollY) * progress\n        parentDocumentElement.scrollTop = value\n      },\n    })\n  }\n\n  hideToolbar = () => {\n    restoreToolbarIframeParentStyles()\n    restoreToolbarIframeStyles()\n\n    hideTooltip(document.querySelector(\"#eventsource-indicator\"))\n    hideTooltip(document.querySelector(\"#execution-indicator\"))\n    toolbarVisibilityPreference.set(false)\n    if (animate) {\n      document.documentElement.setAttribute(\"data-toolbar-animation\", \"\")\n    } else {\n      document.documentElement.removeAttribute(\"data-toolbar-animation\")\n    }\n    document.documentElement.removeAttribute(\"data-toolbar-visible\")\n    sendEventToParent(\"toolbar-visibility-change\", false)\n  }\n}\n\nconst getCompileGroup = ({\n  executedFileCompiledUrl,\n  outDirectoryRelativeUrl,\n  compileServerOrigin,\n}) => {\n  const outDirectoryServerUrl = String(\n    new URL(outDirectoryRelativeUrl, compileServerOrigin),\n  )\n  if (urlIsInsideOf(executedFileCompiledUrl, outDirectoryServerUrl)) {\n    const afterCompileDirectory = urlToRelativeUrl(\n      executedFileCompiledUrl,\n      outDirectoryServerUrl,\n    )\n    const slashIndex = afterCompileDirectory.indexOf(\"/\")\n    const fileRelativeUrl = afterCompileDirectory.slice(slashIndex + 1)\n    return {\n      fileRelativeUrl,\n      outDirectoryRelativeUrl,\n      compileId: afterCompileDirectory.slice(0, slashIndex),\n    }\n  }\n  return {\n    fileRelativeUrl: new URL(executedFileCompiledUrl).pathname.slice(1),\n    outDirectoryRelativeUrl,\n    compileId: null,\n  }\n}\n\nconst addExternalCommandCallback = (command, callback) => {\n  const messageEventCallback = (messageEvent) => {\n    const { data } = messageEvent\n    if (typeof data !== \"object\") {\n      return\n    }\n    const { __jsenv__ } = data\n    if (!__jsenv__) {\n      return\n    }\n\n    if (__jsenv__.command !== command) {\n      return\n    }\n\n    callback(...__jsenv__.args)\n  }\n\n  window.addEventListener(\"message\", messageEventCallback)\n  return () => {\n    window.removeEventListener(\"message\", messageEventCallback)\n  }\n}\n\nconst sendEventToParent = (name, data) => {\n  window.parent.postMessage(\n    {\n      __jsenv__: {\n        event: name,\n        data,\n      },\n    },\n    \"*\",\n  )\n}\n\nwindow.toolbar = {\n  render: renderToolbar,\n  show: showToolbar,\n  hide: () => hideToolbar(),\n}\n\naddExternalCommandCallback(\"renderToolbar\", () => {\n  renderToolbar()\n})\naddExternalCommandCallback(\"showToolbar\", () => {\n  showToolbar()\n})\naddExternalCommandCallback(\"hideToolbar\", () => {\n  hideToolbar()\n})\nsendEventToParent(\"toolbar_ready\")\n"
  ],
  "names": [
    "arrayLikeToArray",
    "arr",
    "len",
    "length",
    "arr2",
    "Array",
    "i",
    "isArray",
    "_iterableToArray",
    "iter",
    "Symbol",
    "iterator",
    "from",
    "unsupportedIterableToArray",
    "o",
    "minLen",
    "n",
    "Object",
    "prototype",
    "toString",
    "call",
    "slice",
    "constructor",
    "name",
    "test",
    "TypeError",
    "arrayWithoutHoles",
    "iterableToArray",
    "nonIterableSpread",
    "nativeTypeOf",
    "obj",
    "customTypeOf",
    "urlIsInsideOf",
    "url",
    "otherUrl",
    "urlObject",
    "URL",
    "otherUrlObject",
    "origin",
    "urlPathname",
    "pathname",
    "otherUrlPathname",
    "isInside",
    "startsWith",
    "getCommonPathname",
    "otherPathname",
    "firstDifferentCharacterIndex",
    "findFirstDifferentCharacterIndex",
    "commonString",
    "charAt",
    "firstDifferentSlashIndex",
    "lastIndexOf",
    "string",
    "otherString",
    "maxCommonLength",
    "Math",
    "min",
    "char",
    "otherChar",
    "pathnameToParentPathname",
    "slashLastIndex",
    "urlToRelativeUrl",
    "baseUrl",
    "baseUrlObject",
    "protocol",
    "urlAsString",
    "String",
    "username",
    "password",
    "host",
    "afterUrlScheme",
    "hash",
    "search",
    "baseUrlRessourceWithoutLeadingSlash",
    "basePathname",
    "commonPathname",
    "specificPathname",
    "baseSpecificPathname",
    "includes",
    "baseSpecificParentPathname",
    "relativeDirectoriesNotation",
    "replace",
    "relativeUrl",
    "key",
    "value",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "ownKeys",
    "object",
    "enumerableOnly",
    "keys",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "getOwnPropertyDescriptor",
    "push",
    "apply",
    "_objectSpread2",
    "target",
    "arguments",
    "source",
    "forEach",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "excluded",
    "sourceKeys",
    "indexOf",
    "objectWithoutPropertiesLoose",
    "sourceSymbolKeys",
    "propertyIsEnumerable",
    "then",
    "direct",
    "Promise",
    "resolve",
    "f",
    "args",
    "e",
    "reject",
    "body",
    "result",
    "fetchUsingXHR",
    "signal",
    "method",
    "credentials",
    "headers",
    "headersPromise",
    "createPromiseAndHooks",
    "bodyPromise",
    "xhr",
    "XMLHttpRequest",
    "failure",
    "error",
    "settled",
    "cleanup",
    "ontimeout",
    "onerror",
    "onload",
    "onreadystatechange",
    "Error",
    "createRequestError",
    "addEventListener",
    "abort",
    "abortError",
    "readyState",
    "open",
    "setRequestHeader",
    "withCredentials",
    "computeWithCredentials",
    "hasBlob",
    "responseType",
    "send",
    "responseUrl",
    "responseURL",
    "responseStatus",
    "status",
    "responseStatusText",
    "statusText",
    "responseHeaders",
    "getHeadersFromXHR",
    "readBody",
    "response",
    "responseText",
    "responseBody",
    "responseBodyType",
    "detectBodyType",
    "text",
    "blobToText",
    "arrayBufferToText",
    "buffer",
    "json",
    "JSON",
    "parse",
    "blob",
    "Blob",
    "cloneBuffer",
    "arrayBuffer",
    "blobToArrayBuffer",
    "formData",
    "hasFormData",
    "textToFormData",
    "canUseBlob",
    "window",
    "FileReader",
    "FormData",
    "hasArrayBuffer",
    "ArrayBuffer",
    "hasSearchParams",
    "URLSearchParams",
    "stack",
    "promise",
    "res",
    "rej",
    "originSameAsGlobalOrigin",
    "_typeof",
    "location",
    "globalOrigin",
    "hrefToOrigin",
    "isPrototypeOf",
    "isDataView",
    "isArrayBufferView",
    "headerMap",
    "headersString",
    "getAllResponseHeaders",
    "lines",
    "trim",
    "split",
    "line",
    "parts",
    "shift",
    "join",
    "toLowerCase",
    "href",
    "scheme",
    "hrefToScheme",
    "secondProtocolSlashIndex",
    "pathnameSlashIndex",
    "colonIndex",
    "DataView",
    "isView",
    "viewClasses",
    "form",
    "bytes",
    "append",
    "decodeURIComponent",
    "reader",
    "fileReaderReady",
    "readAsArrayBuffer",
    "readAsText",
    "view",
    "Uint8Array",
    "chars",
    "fromCharCode",
    "byteLength",
    "set",
    "_await",
    "_async",
    "fetchNative",
    "mode",
    "options",
    "fetch",
    "responseToHeaders",
    "fetchUrl",
    "AbortController",
    "fetchJson",
    "recover",
    "fetchExploringJson",
    "aborted",
    "updateIframeOverflowOnParentWindow",
    "parent",
    "aTooltipIsOpened",
    "document",
    "querySelector",
    "settingsAreOpened",
    "enableIframeOverflowOnParentWindow",
    "disableIframeOverflowOnParentWindow",
    "iframeOverflowEnabled",
    "iframe",
    "getToolbarIframe",
    "transitionDuration",
    "style",
    "setStyles",
    "setTimeout",
    "iframes",
    "querySelectorAll",
    "find",
    "contentWindow",
    "forceHideElement",
    "element",
    "setAttribute",
    "removeForceHideElement",
    "removeAttribute",
    "styles",
    "elementStyle",
    "restoreStyles",
    "map",
    "styleName",
    "restore",
    "currentStyle",
    "toolbarSectionIsActive",
    "hasAttribute",
    "activateToolbarSection",
    "deactivateToolbarSection",
    "startJavaScriptAnimation",
    "duration",
    "timingFunction",
    "t",
    "onProgress",
    "onCancel",
    "onComplete",
    "isNaN",
    "parseInt",
    "startMs",
    "performance",
    "now",
    "currentRequestAnimationFrameId",
    "done",
    "rawProgress",
    "progress",
    "handler",
    "nowMs",
    "requestAnimationFrame",
    "stop",
    "cancelAnimationFrame",
    "mousedownEvent",
    "defaultPrevented",
    "documentElement",
    "touchstartEvent",
    "keydownEvent",
    "createPreference",
    "has",
    "localStorage",
    "hasOwnProperty",
    "get",
    "getItem",
    "undefined",
    "setItem",
    "stringify",
    "toggleTooltip",
    "hideTooltip",
    "showTooltip",
    "autoShowTooltip",
    "removeAutoShowTooltip",
    "hideAllTooltip",
    "elementsWithTooltip",
    "elementWithTooltip",
    "renderToolbarSettings",
    "onclick",
    "toggleSettings",
    "settingsAreVisible",
    "hideSettings",
    "showSettings",
    "enableVariant",
    "rootNode",
    "variables",
    "nodesNotMatching",
    "attributeIndicatingACondition",
    "nodeNotMatching",
    "conditionAttributeValue",
    "getAttribute",
    "matches",
    "testCondition",
    "renameAttribute",
    "attributeIndicatingAMatch",
    "nodesMatching",
    "nodeMatching",
    "condition",
    "parseCondition",
    "some",
    "node",
    "newName",
    "notificationAvailable",
    "Notification",
    "notificationPreference",
    "arrayOfOpenedNotifications",
    "renderToolbarNotification",
    "notifCheckbox",
    "notifSetting",
    "disabled",
    "updatePermission",
    "permission",
    "checked",
    "getNotificationPreference",
    "onchange",
    "setNotificationPreference",
    "notification",
    "close",
    "notifPermission",
    "notif_permission",
    "requestPermission",
    "notifyExecutionResult",
    "executedFileRelativeUrl",
    "execution",
    "previousExecution",
    "notificationEnabled",
    "notificationOptions",
    "lang",
    "icon",
    "getFaviconHref",
    "clickToFocus",
    "clickToClose",
    "notify",
    "link",
    "title",
    "focus",
    "onclose",
    "index",
    "splice",
    "requestPromise",
    "DARK_THEME",
    "LIGHT_THEME",
    "themePreference",
    "renderToolbarTheme",
    "theme",
    "getThemePreference",
    "checkbox",
    "setTheme",
    "setThemePreference",
    "animationPreference",
    "renderToolbarAnimation",
    "animCheckbox",
    "getAnimationPreference",
    "setAnimationPreference",
    "onPreferenceChange",
    "enableAnimation",
    "disableAnimation",
    "createHorizontalBreakpoint",
    "breakpointValue",
    "createBreakpoint",
    "windowWidthMeasure",
    "createMeasure",
    "compute",
    "register",
    "currentValue",
    "changed",
    "createSignal",
    "unregister",
    "previousValue",
    "callbackArray",
    "listen",
    "callback",
    "innerWidth",
    "removeEventListener",
    "measure",
    "getBreakpointState",
    "currentBreakpointState",
    "isAbove",
    "isBelow",
    "breakpointChanged",
    "breakpointState",
    "breakpointStatePrevious",
    "WINDOW_MEDIUM_WIDTH",
    "renderExecutionInToolbar",
    "applyExecutionIndicator",
    "input",
    "fileWidthBreakpoint",
    "handleFileWidthBreakpoint",
    "resizeInput",
    "__jsenv__",
    "executionResultPromise",
    "startTime",
    "endTime",
    "executionStorageKey",
    "sessionStorage",
    "executionIndicator",
    "variantNode",
    "textContent",
    "computeText",
    "size",
    "width",
    "createDetailedMessage",
    "message",
    "details",
    "COMPILE_ID_OTHERWISE",
    "computeCompileIdFromGroupId",
    "groupId",
    "groupMap",
    "createUnexpectedGroupIdMessage",
    "compileId",
    "valueToVersion",
    "numberToVersion",
    "stringToVersion",
    "number",
    "major",
    "minor",
    "patch",
    "Number",
    "versionCompare",
    "versionA",
    "versionB",
    "semanticVersionA",
    "semanticVersionB",
    "majorDiff",
    "minorDiff",
    "patchDiff",
    "versionIsBelow",
    "versionSupposedBelow",
    "versionSupposedAbove",
    "findHighestVersion",
    "values",
    "reduce",
    "highestVersion",
    "resolveGroup",
    "version",
    "compileIdCandidate",
    "minRuntimeVersions",
    "versionForGroup",
    "detectFromUserAgentData",
    "userAgentData",
    "navigator",
    "brands",
    "brand",
    "firstMatch",
    "regexp",
    "match",
    "secondMatch",
    "userAgentToVersion",
    "userAgent",
    "detectAndroid",
    "navigatorToBrowser",
    "appVersion",
    "detectInternetExplorer",
    "userAgentToBrowser",
    "detectOpera",
    "detectEdge",
    "detectFirefox",
    "detectChrome",
    "detectSafari",
    "detectElectron",
    "detectIOS",
    "detectorCompose",
    "detectors",
    "detector",
    "detectBrowser",
    "normalizeName",
    "normalizeVersion",
    "scanBrowserRuntimeFeatures",
    "coverageHandledFromOutside",
    "failFastOnFeatureDetection",
    "outDirectoryRelativeUrl",
    "inlineImportMapIntoHTML",
    "customCompilerPatterns",
    "compileServerGroupMap",
    "browser",
    "groupInfo",
    "featuresReport",
    "importmap",
    "dynamicImport",
    "topLevelAwait",
    "jsonImportAssertions",
    "cssImportAssertions",
    "newStylesheet",
    "detectSupportedFeatures",
    "pluginRequiredNamesFromGroupInfo",
    "pluginRequiredNameArray",
    "canAvoidCompilation",
    "requiredPluginNames",
    "markPluginAsSupported",
    "supportsJsonImportAssertions",
    "supportsCssImportAssertions",
    "supportsNewStylesheet",
    "supportsImportmap",
    "remote",
    "supportsDynamicImport",
    "supportsTopLevelAwait",
    "specifier",
    "asBase64Url",
    "importMap",
    "imports",
    "importmapScript",
    "createElement",
    "importmapString",
    "type",
    "src",
    "btoa",
    "appendChild",
    "executeWithScriptModuleInjection",
    "removeChild",
    "__jsenv_runtime_test_importmap__",
    "moduleSource",
    "__jsenv_runtime_test_dynamic_import__",
    "namespace",
    "default",
    "CSSStyleSheet",
    "__jsenv_runtime_test_top_level_await__",
    "jsonBase64Url",
    "__jsenv_runtime_test_json_import_assertion__",
    "cssBase64Url",
    "__jsenv_runtime_test_css_import_assertion__",
    "code",
    "scriptModule",
    "loadPromise",
    "mimeType",
    "renderCompilationInToolbar",
    "compileGroup",
    "browserSupportRootNode",
    "filesCompilationRootNode",
    "browserSupport",
    "alert",
    "getBrowserSupportMessage",
    "missingOnly",
    "filesCompilation",
    "compiled",
    "fileRelativeUrl",
    "shouldCompile",
    "pluginRequiredCount",
    "customCompilerCount",
    "livereloadingAvailableOnServer",
    "parentEventSourceClient",
    "__jsenv_event_source_client__",
    "initToolbarEventSource",
    "livereloading",
    "disableLivereloadSetting",
    "setConnectionStatusChangeCallback",
    "updateEventSourceIndicator",
    "livereloadCheckbox",
    "isLivereloadEnabled",
    "setLivereloadPreference",
    "eventSourceIndicator",
    "fileChanges",
    "getFileChanges",
    "changeCount",
    "eventSourceConnectionState",
    "getConnectionStatus",
    "eventsource",
    "livereload",
    "changes",
    "disconnect",
    "changeLink",
    "innerHTML",
    "console",
    "log",
    "reloadIfNeeded",
    "connect",
    "WINDOW_SMALL_WIDTH",
    "makeToolbarResponsive",
    "overflowMenuBreakpoint",
    "handleOverflowMenuBreakpoint",
    "responsiveToolbar",
    "toggleOverflowMenu",
    "enableOverflow",
    "disableOverflow",
    "moves",
    "responsiveToolbarElements",
    "overflowMenu",
    "placeholder",
    "display",
    "parentNode",
    "replaceChild",
    "hideOverflowMenu",
    "overflowMenuIsVisible",
    "showOverflowMenu",
    "toolbar",
    "_call",
    "toolbarVisibilityPreference",
    "renderToolbar",
    "executedFileCompiledUrl",
    "compileServerOrigin",
    "exploringConfig",
    "getCompileGroup",
    "toolbarOverlay",
    "toolbarVisible",
    "showToolbar",
    "animate",
    "hideToolbar",
    "toogleToolbar",
    "toolbarIsVisible",
    "sendEventToParent",
    "toolbarIframe",
    "toolbarIframeParent",
    "parentWindow",
    "parentDocumentElement",
    "compatMode",
    "scrollYMax",
    "scrollHeight",
    "innerHeight",
    "scrollY",
    "scrollTop",
    "scrollYRemaining",
    "restoreToolbarIframeParentStyles",
    "restoreToolbarIframeStyles",
    "height",
    "visibility",
    "scrollEnd",
    "outDirectoryServerUrl",
    "afterCompileDirectory",
    "slashIndex",
    "addExternalCommandCallback",
    "command",
    "messageEventCallback",
    "messageEvent",
    "data",
    "postMessage",
    "event",
    "render",
    "show",
    "hide"
  ],
  "mappings": "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"
}