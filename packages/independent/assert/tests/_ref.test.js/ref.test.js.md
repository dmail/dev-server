# ref

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a> executing <a href="../ref.test.js">../ref.test.js</a>
</sub>

## reference removed

```js
const actual = {};
const expect = {
  self: null,
};
expect.self = expect;
assert({
  actual,
  expect,
});
```

![img](reference_removed/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {}
expect: {
  self: expect,
}
```

</details>


## reference added

```js
const actual = {
  self: null,
};
actual.self = actual;
const expect = {};
assert({
  actual,
  expect,
});
```

![img](reference_added/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  self: actual,
}
expect: {}
```

</details>


## same ref to self

```js
const actual = {
  a: true,
  self: null,
};
actual.self = actual;
const expect = {
  a: false,
  self: null,
};
expect.self = expect;
assert({
  actual,
  expect,
});
```

![img](same_ref_to_self/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  a: true,
  self: actual,
}
expect: {
  a: false,
  self: expect,
}
```

</details>


## same ref to self 2

```js
const actual = {
  a: true,
  object: {
    self: null,
    self2: null,
  },
};
actual.object.self = actual;
actual.object.self2 = actual;
const expect = {
  a: false,
  object: {
    self: null,
    self2: null,
  },
};
expect.object.self = expect;
expect.object.self2 = expect;
assert({ actual, expect });
```

![img](same_ref_to_self_2/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  a: true,
  object: { self: actual, self2: actual },
}
expect: {
  a: false,
  object: { self: expect, self2: expect },
}
```

</details>


## same ref to parent

```js
const actual = {
  a: true,
  object: {
    parent: null,
  },
};
actual.object.parent = actual;
const expect = {
  a: false,
  object: {
    parent: null,
  },
};
expect.object.parent = expect;
assert({ actual, expect });
```

![img](same_ref_to_parent/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  a: true,
  object: { parent: actual },
}
expect: {
  a: false,
  object: { parent: expect },
}
```

</details>


## same ref to value after

```js
const toto = {};
const actual = {
  a: true,
  b: toto,
  toto,
};
const expect = {
  a: false,
  b: toto,
  toto,
};
assert({
  actual,
  expect,
  MAX_CONTEXT_AFTER_DIFF: 4,
});
```

![img](same_ref_to_value_after/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  a: true,
  b: {},
  toto: actual.b,
}
expect: {
  a: false,
  b: {},
  toto: expect.b,
}
```

</details>


## same ref to value before

```js
const toto = {};
const actual = {
  a: true,
  toto,
  b: toto,
};
const expect = {
  a: false,
  toto,
  b: toto,
};
assert({
  actual,
  expect,
  MAX_CONTEXT_AFTER_DIFF: 4,
});
```

![img](same_ref_to_value_before/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  a: true,
  toto: {},
  b: actual.toto,
}
expect: {
  a: false,
  toto: {},
  b: expect.toto,
}
```

</details>


## ref changed

```js
const actual = {
  object: {
    self: null,
  },
};
actual.object.self = actual;
const expect = {
  object: {
    self: null,
  },
};
expect.object.self = expect.object;
assert({ actual, expect });
```

![img](ref_changed/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  object: {
    self: actual,
  },
}
expect: {
  object: {
    self: expect.object,
  },
}
```

</details>


## true should be a ref to self

```js
const actual = {
  self: true,
};
const expect = {
  self: null,
};
expect.self = expect;
assert({
  actual,
  expect,
});
```

![img](true_should_be_a_ref_to_self/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  self: true,
}
expect: {
  self: expect,
}
```

</details>


## ref to self should be true

```js
const actual = {
  self: null,
};
actual.self = actual;
const expect = {
  self: true,
};
assert({
  actual,
  expect,
});
```

![img](ref_to_self_should_be_true/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: {
  self: actual,
}
expect: {
  self: true,
}
```

</details>


## true should be object using ref

```js
const item = { id: "a" };
assert({
  actual: true,
  expect: {
    foo: item,
    bar: item,
  },
});
```

![img](true_should_be_object_using_ref/throw.svg)

<details>
  <summary>see without style</summary>

```console
AssertionError: actual and expect are different

actual: true
expect: {
  foo: {
    id: "a",
  },
  bar: expect.foo,
}
```

</details>
