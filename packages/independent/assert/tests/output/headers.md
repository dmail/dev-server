# headers.md

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a> executing <a href="../headers.test.js">../headers.test.js</a>
</sub>

## content-type added

```js
assert({
  actual: new Headers({
    "content-type": "text/xml",
  }),
  expect: new Headers(),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "content-type" => "text/xml",
)
expect: Headers()
```

<details>
  <summary>see colored</summary>

  <img src="headers/content-type_added_throw.svg" alt="img" />

</details>


## content-type removed

```js
assert({
  actual: new Headers({}),
  expect: new Headers({
    "content-type": "text/xml",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers()
expect: Headers(
  "content-type" => "text/xml",
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/content-type_removed_throw.svg" alt="img" />

</details>


## content-type modified

```js
assert({
  actual: new Headers({
    "content-type": "text/css",
  }),
  expect: new Headers({
    "content-type": "text/xml",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "content-type" => "text/css",
)
expect: Headers(
  "content-type" => "text/xml",
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/content-type_modified_throw.svg" alt="img" />

</details>


## content-type multi diff

```js
assert({
  actual: new Headers({
    "content-type": "text/xml, text/css",
  }),
  expect: new Headers({
    "content-type": "text/xml, text/html",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "content-type" => "text/xml, text/css",
)
expect: Headers(
  "content-type" => "text/xml, text/html",
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/content-type_multi_diff_throw.svg" alt="img" />

</details>


## content-type spacing diff

```js
assert({
  actual: new Headers({
    "content-type": "text/xml,text/css",
  }),
  expect: new Headers({
    "content-type": "text/xml, text/css",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "content-type" => "text/xml,text/css",
)
expect: Headers(
  "content-type" => "text/xml, text/css",
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/content-type_spacing_diff_throw.svg" alt="img" />

</details>


## set cookie added

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1",
  }),
  expect: new Headers({}),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1"
)
expect: Headers()
```

<details>
  <summary>see colored</summary>

  <img src="headers/set_cookie_added_throw.svg" alt="img" />

</details>


## set cookie removed

```js
assert({
  actual: new Headers({}),
  expect: new Headers({
    "set-cookie": "a=1;",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers()
expect: Headers(
  "set-cookie" => "a=1"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/set_cookie_removed_throw.svg" alt="img" />

</details>


## cookie added

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1,b=2",
  }),
  expect: new Headers({
    "set-cookie": "a=1",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1,b=2"
)
expect: Headers(
  "set-cookie" => "a=1"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/cookie_added_throw.svg" alt="img" />

</details>


## cookie removed

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1",
  }),
  expect: new Headers({
    "set-cookie": "a=1,b=2,",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1"
)
expect: Headers(
  "set-cookie" => "a=1,b=2"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/cookie_removed_throw.svg" alt="img" />

</details>


## cookie order modified

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1,b=2",
  }),
  expect: new Headers({
    "set-cookie": "b=2,a=1",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1,b=2"
)
expect: Headers(
  "set-cookie" => "b=2,a=1"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/cookie_order_modified_throw.svg" alt="img" />

</details>


## cookie name used several times

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1,a=2",
  }),
  expect: new Headers({
    "set-cookie": "a=9,a=8",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1,a=2"
)
expect: Headers(
  "set-cookie" => "a=9,a=8"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/cookie_name_used_several_times_throw.svg" alt="img" />

</details>


## cookie becomes secure

```js
assert({
  actual: new Headers({
    "set-cookie": "a=1; Secure",
  }),
  expect: new Headers({
    "set-cookie": "a=1",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "set-cookie" => "a=1; Secure"
)
expect: Headers(
  "set-cookie" => "a=1"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/cookie_becomes_secure_throw.svg" alt="img" />

</details>


## accept

```js
assert({
  actual: new Headers({
    accept: "text/html, application/xml;q=0.9, */*;q=0.8",
  }),
  expect: new Headers({
    accept: "text/html, application/xml;q=0.8, */*;q=0.7, text/css",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept" => "text/html, application/xml;q=0.9, */*;q=0.8"
)
expect: Headers(
  "accept" => "text/html, application/xml;q=0.8, */*;q=0.7, text/css"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/accept_throw.svg" alt="img" />

</details>


## accept diff on non standard attribute

```js
assert({
  actual: new Headers({
    accept: "text/html; a=1; b=2",
  }),
  expect: new Headers({
    accept: "text/html; a=9; b=9",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept" => "text/html; a=1; b=2"
)
expect: Headers(
  "accept" => "text/html; a=9; b=9"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/accept_diff_on_non_standard_attribute_throw.svg" alt="img" />

</details>


## add accepted encoding

```js
assert({
  actual: new Headers({
    "accept-encoding": "deflate, gzip, br",
  }),
  expect: new Headers({
    "accept-encoding": "deflate, gzip",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept-encoding" => "deflate, gzip, br"
)
expect: Headers(
  "accept-encoding" => "deflate, gzip"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/add_accepted_encoding_throw.svg" alt="img" />

</details>


## remove accepted encoding

```js
assert({
  actual: new Headers({
    "accept-encoding": "deflate, gzip",
  }),
  expect: new Headers({
    "accept-encoding": "deflate, gzip, br",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept-encoding" => "deflate, gzip"
)
expect: Headers(
  "accept-encoding" => "deflate, gzip, br"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/remove_accepted_encoding_throw.svg" alt="img" />

</details>


## accept-encoding diff on q

```js
assert({
  actual: new Headers({
    "accept-encoding": "deflate, gzip;q=1.0, *;q=0.5",
  }),
  expect: new Headers({
    "accept-encoding": "deflate, gzip;q=0.9, *;q=0.4",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept-encoding" => "deflate, gzip;q=1.0, *;q=0.5"
)
expect: Headers(
  "accept-encoding" => "deflate, gzip;q=0.9, *;q=0.4"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/accept-encoding_diff_on_q_throw.svg" alt="img" />

</details>


## accept-language

```js
assert({
  actual: new Headers({
    "accept-language": "fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5",
  }),
  expect: new Headers({
    "accept-language": "en-US,en;q=0.5",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "accept-language" => "fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5"
)
expect: Headers(
  "accept-language" => "en-US,en;q=0.5"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/accept-language_throw.svg" alt="img" />

</details>


## add metric in server timing

```js
assert({
  actual: new Headers({
    "server-timing": `cpu;dur=2.4, app;dur=47.2`,
  }),
  expect: new Headers({
    "server-timing": `cpu;dur=2.4`,
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "server-timing" => "cpu;dur=2.4, app;dur=47.2"
)
expect: Headers(
  "server-timing" => "cpu;dur=2.4"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/add_metric_in_server_timing_throw.svg" alt="img" />

</details>


## remove metric in server timing

```js
assert({
  actual: new Headers({
    "server-timing": `cpu;dur=2.4`,
  }),
  expect: new Headers({
    "server-timing": `cpu;dur=2.4, app;dur=47.2`,
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "server-timing" => "cpu;dur=2.4"
)
expect: Headers(
  "server-timing" => "cpu;dur=2.4, app;dur=47.2"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/remove_metric_in_server_timing_throw.svg" alt="img" />

</details>


## add description to a metric

```js
assert({
  actual: new Headers({
    "server-timing": `cache;dur=23.2`,
  }),
  expect: new Headers({
    "server-timing": `cache;desc="Cache Read";dur=23.2`,
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "server-timing" => "cache;dur=23.2"
)
expect: Headers(
  "server-timing" => 'cache;desc="Cache Read";dur=23.2'
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/add_description_to_a_metric_throw.svg" alt="img" />

</details>


## content length diff

```js
assert({
  actual: new Headers({
    "content-length": "1456",
  }),
  expect: new Headers({
    "content-length": "1356",
  }),
});
```

```console
AssertionError: actual and expect are different

actual: Headers(
  "content-length" => "1456"
)
expect: Headers(
  "content-length" => "1356"
)
```

<details>
  <summary>see colored</summary>

  <img src="headers/content_length_diff_throw.svg" alt="img" />

</details>
