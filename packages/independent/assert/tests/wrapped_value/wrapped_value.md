# wrapped_value.md

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a> executing <a href="../wrapped_value.test.js">../wrapped_value.test.js</a>
</sub>

## Symbol.toPrimitive added

```js
assert({
  actual: {
    [Symbol.toPrimitive]: () => {
      return "10";
    },
  },
  expect: {},
});
```

![img](symbol_toprimitive_added/symbol_toprimitive_added_throw.svg)

## Symbol.toPrimitive removed

```js
assert({
  actual: {},
  expect: {
    [Symbol.toPrimitive]: () => {
      return "10";
    },
  },
});
```

![img](symbol_toprimitive_removed/symbol_toprimitive_removed_throw.svg)

## Symbol.toPrimitive vs primitive

```js
assert({
  actual: {
    [Symbol.toPrimitive]: () => {
      return 10;
    },
  },
  expect: 10,
});
```

![img](symbol_toprimitive_vs_primitive/symbol_toprimitive_vs_primitive_throw.svg)

## primitive vs Symbol.toPrimitive

```js
assert({
  actual: "10",
  expect: {
    [Symbol.toPrimitive]: () => {
      return "10";
    },
  },
});
```

![img](primitive_vs_symbol_toprimitive/primitive_vs_symbol_toprimitive_throw.svg)

## valueOf({ a: true }) vs { a: true }

```js
assert({
  actual: {
    valueOf: () => {
      return { a: true };
    },
  },
  expect: { a: false },
});
```

![img](valueof(%7B_a_true_%7D)_vs_%7B_a_true_%7D/valueof(%7B_a_true_%7D)_vs_%7B_a_true_%7D_throw.svg)

## 10 vs valueOf(10)

```js
assert({
  actual: 10,
  expect: {
    valueOf: () => 10,
  },
});
```

![img](10_vs_valueof(10)/10_vs_valueof(10)_throw.svg)

## valueOf(10) vs 10

```js
assert({
  actual: {
    valueOf: () => 10,
  },
  expect: 10,
});
```

![img](valueof(10)_vs_10/valueof(10)_vs_10_throw.svg)

## valueOf(10) vs valueOf(11)

```js
assert({
  actual: {
    valueOf: () => 10,
  },
  expect: {
    valueOf: () => 11,
  },
});
```

![img](valueof(10)_vs_valueof(11)/valueof(10)_vs_valueof(11)_throw.svg)

## valueOf(10) vs valueOf(10)

```js
assert({
  actual: {
    a: true,
    valueOf: () => 10,
  },
  expect: {
    b: false,
    valueOf: () => 10,
  },
});
```

![img](valueof(10)_vs_valueof(10)/valueof(10)_vs_valueof(10)_throw.svg)

## valueOf with object tag vs primitive

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => {
      return 10;
    },
  },
  expect: false,
});
```

![img](valueof_with_object_tag_vs_primitive/valueof_with_object_tag_vs_primitive_throw.svg)

## valueOf with object tag 

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => {
      return 10;
    },
  },
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => {
      return 11;
    },
  },
});
```

![img](valueof_with_object_tag/valueof_with_object_tag_throw.svg)

## no diff on valueOf in constructor

```js
assert({
  actual: {
    a: true,
    [Symbol.toStringTag]: "Signal",
    valueOf: () => {
      return 10;
    },
  },
  expect: {
    a: false,
    [Symbol.toStringTag]: "Signal",
    valueOf: () => {
      return 10;
    },
  },
});
```

![img](no_diff_on_valueof_in_constructor/no_diff_on_valueof_in_constructor_throw.svg)

## signal(true) and signal(false)

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => true,
  },
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => false,
  },
});
```

![img](signal(true)_and_signal(false)/signal(true)_and_signal(false)_throw.svg)

## signal(true) and true

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => true,
  },
  expect: true,
});
```

![img](signal(true)_and_true/signal(true)_and_true_throw.svg)

## true and signal(true)

```js
assert({
  actual: true,
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => true,
  },
});
```

![img](true_and_signal(true)/true_and_signal(true)_throw.svg)

## true and signal(false)

```js
assert({
  actual: true,
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => false,
  },
});
```

![img](true_and_signal(false)/true_and_signal(false)_throw.svg)

## signal(true) and false

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => true,
  },
  expect: false,
});
```

![img](signal(true)_and_false/signal(true)_and_false_throw.svg)

## signal(true) and 1

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => true,
  },
  expect: 1,
});
```

![img](signal(true)_and_1/signal(true)_and_1_throw.svg)

## signal({ foo: true }) and signal({ foo: false })

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => ({ foo: true }),
  },
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => ({ foo: false }),
  },
});
```

![img](signal(%7B_foo_true_%7D)_and_signal(%7B_foo_false_%7D)/signal(%7B_foo_true_%7D)_and_signal(%7B_foo_false_%7D)_throw.svg)

## signal([true]) and signal([false]) with props

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [true],
    a: true,
  },
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [false],
    a: false,
  },
});
```

![img](signal([true])_and_signal([false])_with_props/signal([true])_and_signal([false])_with_props_throw.svg)

## signal([true]) and [true]

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [true],
  },
  expect: [true],
});
```

![img](signal([true])_and_[true]/signal([true])_and_[true]_throw.svg)

## [true] and signal([true])

```js
assert({
  actual: [true],
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [true],
  },
});
```

![img]([true]_and_signal([true])/[true]_and_signal([true])_throw.svg)

## [true] and signal([false])

```js
assert({
  actual: [true],
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [false],
  },
});
```

![img]([true]_and_signal([false])/[true]_and_signal([false])_throw.svg)

## signal([true]) and [false]

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => [true],
  },
  expect: [false],
});
```

![img](signal([true])_and_[false]/signal([true])_and_[false]_throw.svg)

## signal(string) and signal(string)

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => "ab",
  },
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => "a",
  },
});
```

![img](signal(string)_and_signal(string)/signal(string)_and_signal(string)_throw.svg)

## signal(string) and string

```js
assert({
  actual: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => "a",
  },
  expect: "a",
});
```

![img](signal(string)_and_string/signal(string)_and_string_throw.svg)

## string and signal(string)

```js
assert({
  actual: "a",
  expect: {
    [Symbol.toStringTag]: "Signal",
    valueOf: () => "a",
  },
});
```

![img](string_and_signal(string)/string_and_signal(string)_throw.svg)

## both valueOf return object itself

```js
const actual = {
  a: true,
  valueOf: () => actual,
};
const expect = {
  a: false,
  valueOf: () => expect,
};
assert({
  actual,
  expect,
});
```

![img](both_valueof_return_object_itself/both_valueof_return_object_itself_throw.svg)

## valueOf self and valueOf 10

```js
const actual = { valueOf: () => actual };
const expect = { valueOf: () => 10 };
assert({
  actual,
  expect,
});
```

![img](valueof_self_and_valueof_10/valueof_self_and_valueof_10_throw.svg)

## valueOf 10 and valueOf self

```js
const actual = { valueOf: () => 10 };
const expect = { valueOf: () => expect };
assert({
  actual,
  expect,
});
```

![img](valueof_10_and_valueof_self/valueof_10_and_valueof_self_throw.svg)

## own valueOf order respected

```js
assert({
  actual: {
    a: true,
    valueOf: () => 0,
    b: true,
  },
  expect: {
    a: true,
    valueOf: () => 1,
    b: true,
  },
});
```

![img](own_valueof_order_respected/own_valueof_order_respected_throw.svg)

## valueOf inherited

```js
class Signal {
  #value;
  constructor(value) {
    this.#value = value;
  }
  valueOf() {
    return this.#value;
  }
}
assert({
  actual: Object.assign(new Signal("a"), { foo: true }),
  expect: Object.assign(new Signal("b"), { foo: false }),
});
```

![img](valueof_inherited/valueof_inherited_throw.svg)