<!doctype html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8" />
    <link rel="icon" href="data:," />
  </head>

  <body>
    <div style="display: flex">
      <div id="terminal"></div>
      <canvas id="canvas"></canvas>
    </div>
    <script type="module">
      import { initTerminal } from "./terminal_recorder.js";

      window.initTerminal = initTerminal;
      const startRecording = window.initTerminal();
      const { writeIntoTerminal, stopRecording } = await startRecording();
      writeIntoTerminal("hello\n");
      await new Promise((resolve) => setTimeout(resolve, 500));
      writeIntoTerminal("world");
      await new Promise((resolve) => setTimeout(resolve, 1000));
      const { gifDataUrl, videoBinaryString, gifBinaryString } =
        await stopRecording();

      document.querySelector("#gif").src = gifDataUrl;
      console.log({ videoBinaryString, gifBinaryString });
    </script>
    <div id="gif_conversion">
      <div id="gif_frames"></div>
      The final GIF:
      <img id="gif" src="data:," />
    </div>
  </body>
</html>
