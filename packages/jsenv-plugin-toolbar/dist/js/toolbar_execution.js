import{removeForceHideElement as t}from"/js/dom.js?v=4435f890";import{enableVariant as e}from"/js/variant.js?v=6ddde2cc";import{toggleTooltip as o}from"/js/tooltip.js?v=50fd376b";import{notifyExecutionResult as n}from"/js/toolbar_notification.js?v=6af14793";export const renderExecutionInToolbar=async()=>{i(),t(document.querySelector("#execution-indicator"));const{status:e,startTime:o,endTime:s}=await window.parent.__supervisor__.getDocumentExecutionResult(),r={status:e,startTime:o,endTime:s};i(r);const c=window.location.href,a=sessionStorage.hasOwnProperty(c)?JSON.parse(sessionStorage.getItem(c)):void 0;n(c,r,a),sessionStorage.setItem(c,JSON.stringify(r))};const i=({status:t="running",startTime:n,endTime:i}={})=>{const r=document.querySelector("#execution-indicator");e(r,{execution:t});const c=r.querySelector("[data-when-active]");c.querySelector("button").onclick=()=>o(r),c.querySelector(".tooltip").textContent=s({status:t,startTime:n,endTime:i})},s=({status:t,startTime:e,endTime:o})=>"completed"===t?"Execution completed in ".concat(o-e,"ms"):"errored"===t?"Execution failed in ".concat(o-e,"ms"):"running"===t?"Executing...":"";