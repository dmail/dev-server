{
  "version": 3,
  "file": "jsenv_eslint_import_resolver.cjs",
  "sources": [
    "../src/node_builtin_specifiers.js",
    "../src/url_utils.js",
    "../src/lookup_package_scope.js",
    "../src/read_package_json.js",
    "../src/node_esm_resolution.js",
    "../src/determine_module_system.js",
    "../src/filesystem_magic_resolution.js"
  ],
  "sourcesContent": [
    "export const isSpecifierForNodeBuiltin = (specifier) => {\n  return (\n    specifier.startsWith(\"node:\") ||\n    NODE_BUILTIN_MODULE_SPECIFIERS.includes(specifier)\n  )\n}\n\nconst NODE_BUILTIN_MODULE_SPECIFIERS = [\n  \"assert\",\n  \"assert/strict\",\n  \"async_hooks\",\n  \"buffer_ieee754\",\n  \"buffer\",\n  \"child_process\",\n  \"cluster\",\n  \"console\",\n  \"constants\",\n  \"crypto\",\n  \"_debugger\",\n  \"dgram\",\n  \"dns\",\n  \"domain\",\n  \"events\",\n  \"freelist\",\n  \"fs\",\n  \"fs/promises\",\n  \"_http_agent\",\n  \"_http_client\",\n  \"_http_common\",\n  \"_http_incoming\",\n  \"_http_outgoing\",\n  \"_http_server\",\n  \"http\",\n  \"http2\",\n  \"https\",\n  \"inspector\",\n  \"_linklist\",\n  \"module\",\n  \"net\",\n  \"node-inspect/lib/_inspect\",\n  \"node-inspect/lib/internal/inspect_client\",\n  \"node-inspect/lib/internal/inspect_repl\",\n  \"os\",\n  \"path\",\n  \"perf_hooks\",\n  \"process\",\n  \"punycode\",\n  \"querystring\",\n  \"readline\",\n  \"repl\",\n  \"smalloc\",\n  \"_stream_duplex\",\n  \"_stream_transform\",\n  \"_stream_wrap\",\n  \"_stream_passthrough\",\n  \"_stream_readable\",\n  \"_stream_writable\",\n  \"stream\",\n  \"stream/promises\",\n  \"string_decoder\",\n  \"sys\",\n  \"timers\",\n  \"_tls_common\",\n  \"_tls_legacy\",\n  \"_tls_wrap\",\n  \"tls\",\n  \"trace_events\",\n  \"tty\",\n  \"url\",\n  \"util\",\n  \"v8/tools/arguments\",\n  \"v8/tools/codemap\",\n  \"v8/tools/consarray\",\n  \"v8/tools/csvparser\",\n  \"v8/tools/logreader\",\n  \"v8/tools/profile_view\",\n  \"v8/tools/splaytree\",\n  \"v8\",\n  \"vm\",\n  \"worker_threads\",\n  \"zlib\",\n  // global is special\n  \"global\",\n]\n",
    "export const getParentUrl = (url) => {\n  return new URL(url.endsWith(\"/\") ? \"../\" : \"./\", url).href\n}\n\nexport const isValidUrl = (url) => {\n  try {\n    // eslint-disable-next-line no-new\n    new URL(url)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nexport const urlToFilename = (url) => {\n  const { pathname } = new URL(url)\n  const pathnameBeforeLastSlash = pathname.endsWith(\"/\")\n    ? pathname.slice(0, -1)\n    : pathname\n  const slashLastIndex = pathnameBeforeLastSlash.lastIndexOf(\"/\")\n  const filename =\n    slashLastIndex === -1\n      ? pathnameBeforeLastSlash\n      : pathnameBeforeLastSlash.slice(slashLastIndex + 1)\n  return filename\n}\n",
    "import { existsSync } from \"node:fs\"\n\nimport { getParentUrl } from \"./url_utils.js\"\n\nexport const lookupPackageScope = (url) => {\n  let scopeUrl = url\n  while (scopeUrl !== \"file:///\") {\n    scopeUrl = getParentUrl(scopeUrl)\n    if (scopeUrl.endsWith(\"node_modules/\")) {\n      return null\n    }\n    const packageJsonUrlObject = new URL(\"package.json\", scopeUrl)\n    if (existsSync(packageJsonUrlObject)) {\n      return scopeUrl\n    }\n  }\n  return null\n}\n",
    "import { readFileSync } from \"node:fs\"\n\nexport const readPackageJson = (packageUrl) => {\n  const packageJsonUrl = new URL(\"package.json\", packageUrl)\n  const buffer = readFileSync(packageJsonUrl)\n  const string = String(buffer)\n  try {\n    return JSON.parse(string)\n  } catch (e) {\n    throw new Error(`Invalid package configuration`)\n  }\n}\n",
    "/*\n * https://nodejs.org/api/esm.html#resolver-algorithm-specification\n * https://github.com/nodejs/node/blob/0367b5c35ea0f98b323175a4aaa8e651af7a91e7/lib/internal/modules/esm/resolve.js#L1\n * deviations from the spec:\n * - the check for isDirectory -> throw is delayed is descoped to the caller\n * - the call to real path ->\n *   delayed to the caller so that we can decide to\n *   maintain symlink as facade url when it's outside project directory\n *   or use the real path when inside\n */\nimport { existsSync } from \"node:fs\"\n\nimport { isSpecifierForNodeBuiltin } from \"./node_builtin_specifiers.js\"\nimport { lookupPackageScope } from \"./lookup_package_scope.js\"\nimport { readPackageJson } from \"./read_package_json.js\"\nimport { getParentUrl, isValidUrl } from \"./url_utils.js\"\n\nexport const applyNodeEsmResolution = ({\n  conditions = [\"node\", \"import\"],\n  parentUrl,\n  specifier,\n}) => {\n  const resolution = applyPackageSpecifierResolution({\n    conditions,\n    parentUrl: String(parentUrl),\n    specifier,\n  })\n  const { url } = resolution\n  if (url.startsWith(\"file:\")) {\n    if (url.includes(\"%2F\") || url.includes(\"%5C\")) {\n      throw new Error(\"invalid module specifier\")\n    }\n    return resolution\n  }\n  return resolution\n}\n\nconst applyPackageSpecifierResolution = ({\n  conditions,\n  parentUrl,\n  specifier,\n}) => {\n  if (\n    specifier[0] === \"/\" ||\n    specifier.startsWith(\"./\") ||\n    specifier.startsWith(\"../\")\n  ) {\n    return {\n      type: \"relative_specifier\",\n      url: new URL(specifier, parentUrl).href,\n    }\n  }\n  if (specifier[0] === \"#\") {\n    return applyPackageImportsResolution({\n      conditions,\n      parentUrl,\n      specifier,\n    })\n  }\n  try {\n    const urlObject = new URL(specifier)\n    return {\n      type: \"absolute_specifier\",\n      url: urlObject.href,\n    }\n  } catch (e) {\n    // \"bare specifier\"\n    return applyPackageResolve({\n      conditions,\n      parentUrl,\n      packageSpecifier: specifier,\n    })\n  }\n}\n\nconst applyPackageImportsResolution = ({\n  conditions,\n  parentUrl,\n  specifier,\n}) => {\n  if (!specifier.startsWith(\"#\")) {\n    throw new Error(\"specifier must start with #\")\n  }\n  if (specifier === \"#\" || specifier.startsWith(\"#/\")) {\n    throw new Error(\"Invalid module specifier\")\n  }\n  const packageUrl = lookupPackageScope(parentUrl)\n  if (packageUrl !== null) {\n    const packageJson = readPackageJson(packageUrl)\n    const { imports } = packageJson\n    if (imports !== null && typeof imports === \"object\") {\n      const resolved = applyPackageImportsExportsResolution({\n        conditions,\n        packageUrl,\n        packageJson,\n        matchObject: imports,\n        matchKey: specifier,\n        isImports: true,\n      })\n      if (resolved) {\n        return resolved\n      }\n    }\n  }\n  throw new Error(`Package import not defined`)\n}\n\nconst applyPackageResolve = ({ conditions, parentUrl, packageSpecifier }) => {\n  if (packageSpecifier === \"\") {\n    throw new Error(\"invalid module specifier\")\n  }\n  if (isSpecifierForNodeBuiltin(packageSpecifier)) {\n    return {\n      type: \"node_builtin_specifier\",\n      url: `node:${packageSpecifier}`,\n    }\n  }\n  const { packageName, packageSubpath } =\n    parsePackageSpecifier(packageSpecifier)\n  if (\n    packageName[0] === \".\" ||\n    packageName.includes(\"\\\\\") ||\n    packageName.includes(\"%\")\n  ) {\n    throw new Error(\"invalid module specifier\")\n  }\n  if (packageSubpath.endsWith(\"/\")) {\n    throw new Error(\"invalid module specifier\")\n  }\n  const selfResolution = applyPackageSelfResolution({\n    conditions,\n    parentUrl,\n    packageName,\n    packageSubpath,\n  })\n  if (selfResolution) {\n    return selfResolution\n  }\n  while (parentUrl !== \"file:///\") {\n    const packageUrl = new URL(`node_modules/${packageSpecifier}/`, parentUrl)\n      .href\n    if (!existsSync(new URL(packageUrl))) {\n      parentUrl = getParentUrl(parentUrl)\n      continue\n    }\n    const packageJson = readPackageJson(packageUrl)\n    if (packageJson !== null) {\n      const { exports } = packageJson\n      if (exports !== null && exports !== undefined) {\n        return applyPackageExportsResolution({\n          conditions,\n          packageUrl,\n          packageJson,\n          packageSubpath,\n          exports,\n        })\n      }\n    }\n    if (packageSubpath === \".\") {\n      const { main } = packageJson\n      if (typeof main === \"string\") {\n        return {\n          type: \"main\",\n          packageUrl,\n          packageJson,\n          url: new URL(main, packageUrl).href,\n        }\n      }\n    }\n    return {\n      type: \"subpath\",\n      packageUrl,\n      packageJson,\n      url: new URL(packageSubpath, packageUrl).href,\n    }\n  }\n  throw new Error(\"module not found\")\n}\n\nconst applyPackageSelfResolution = ({\n  conditions,\n  parentUrl,\n  packageName,\n  packageSubpath,\n}) => {\n  const packageUrl = lookupPackageScope(parentUrl)\n  if (!packageUrl) {\n    return undefined\n  }\n  const packageJson = readPackageJson(packageUrl)\n  if (!packageJson) {\n    return undefined\n  }\n  const { exports } = packageJson\n  if (!exports) {\n    return undefined\n  }\n  if (packageJson.name !== packageName) {\n    return undefined\n  }\n  return applyPackageExportsResolution({\n    conditions,\n    packageUrl,\n    packageJson,\n    packageSubpath,\n    exports,\n  })\n}\n\nconst applyPackageExportsResolution = ({\n  conditions,\n  packageUrl,\n  packageJson,\n  packageSubpath,\n  exports,\n}) => {\n  const exportsInfo = readExports({ exports, packageUrl })\n  if (packageSubpath === \".\") {\n    const mainExport = applyMainExportResolution({ exports, exportsInfo })\n    if (!mainExport) {\n      throw new Error(\"package path not exported\")\n    }\n    return applyPackageTargetResolution({\n      conditions,\n      packageUrl,\n      packageJson,\n      target: mainExport,\n    })\n  }\n  if (exportsInfo.type === \"object\" && exportsInfo.allKeysAreRelative) {\n    const resolved = applyPackageImportsExportsResolution({\n      conditions,\n      packageUrl,\n      packageJson,\n      matchObject: exports,\n      matchKey: `./${packageSubpath}`,\n      isImports: false,\n    })\n    if (resolved) {\n      return resolved\n    }\n  }\n  throw new Error(\"package path not exported\")\n}\n\nconst applyPackageImportsExportsResolution = ({\n  conditions,\n  packageUrl,\n  packageJson,\n  matchObject,\n  matchKey,\n  isImports,\n}) => {\n  if (!matchKey.includes(\"*\") && matchObject.hasOwnProperty(matchKey)) {\n    const target = matchObject[matchKey]\n    return applyPackageTargetResolution({\n      conditions,\n      packageUrl,\n      packageJson,\n      target,\n      internal: isImports,\n    })\n  }\n  const expansionKeys = Object.keys(matchObject)\n    .filter((key) => key.split(\"*\").length === 1)\n    .sort(comparePatternKeys)\n  for (const expansionKey of expansionKeys) {\n    const [patternBase, patternTrailer] = expansionKey.split(\"*\")\n    if (matchKey === patternBase) continue\n    if (!matchKey.startsWith(patternBase)) continue\n    if (patternTrailer.length > 0) {\n      if (!matchKey.endsWith(patternTrailer)) continue\n      if (matchKey.length < expansionKey.length) continue\n    }\n    const target = matchObject[expansionKey]\n    const subpath = matchKey.slice(\n      patternBase.length,\n      matchKey.length - patternTrailer.length,\n    )\n    return applyPackageTargetResolution({\n      conditions,\n      packageUrl,\n      packageJson,\n      target,\n      subpath,\n      pattern: true,\n      internal: isImports,\n    })\n  }\n  return null\n}\n\nconst applyPackageTargetResolution = ({\n  conditions,\n  packageUrl,\n  packageJson,\n  target,\n  subpath = \"\",\n  pattern = false,\n  internal = false,\n}) => {\n  if (typeof target === \"string\") {\n    if (pattern === false && subpath !== \"\" && !target.endsWith(\"/\")) {\n      throw new Error(\"invalid module specifier\")\n    }\n    if (!target.startsWith(\"./\")) {\n      if (!internal || target.startsWith(\"../\") || isValidUrl(target)) {\n        throw new Error(\"invalid package target\")\n      }\n      return applyPackageResolve({\n        conditions,\n        parentUrl: `${packageUrl}/`,\n        packageSpecifier: pattern\n          ? target.replaceAll(\"*\", subpath)\n          : `${target}${subpath}`,\n      })\n    }\n    const resolvedTarget = new URL(target, packageUrl).href\n    if (!resolvedTarget.startsWith(packageUrl)) {\n      throw new Error(\"invalid package target\")\n    }\n    return {\n      type: internal ? \"imports_subpath\" : \"exports_subpath\",\n      packageUrl,\n      packageJson,\n      url: pattern\n        ? resolvedTarget.replaceAll(\"*\", subpath)\n        : new URL(subpath, resolvedTarget).href,\n    }\n  }\n  if (Array.isArray(target)) {\n    if (target.length === 0) {\n      return null\n    }\n    let lastResult\n    for (const targetValue of target) {\n      try {\n        const resolved = applyPackageTargetResolution({\n          packageUrl,\n          packageJson,\n          target: targetValue,\n          subpath,\n          pattern,\n          internal,\n          conditions,\n        })\n        if (resolved) {\n          return resolved\n        }\n        lastResult = resolved\n      } catch (e) {\n        if (e.message === \"Invalid package target\") {\n          continue\n        }\n        lastResult = e\n      }\n    }\n    if (lastResult) {\n      throw lastResult\n    }\n    return null\n  }\n  if (target === null) {\n    return null\n  }\n  if (typeof target === \"object\") {\n    const keys = Object.keys(target)\n    for (const key of keys) {\n      if (Number.isInteger(key)) {\n        throw new Error(\"Invalid package configuration\")\n      }\n      if (key === \"default\" || conditions.includes(key)) {\n        const targetValue = target[key]\n        const resolved = applyPackageTargetResolution({\n          packageUrl,\n          packageJson,\n          target: targetValue,\n          subpath,\n          pattern,\n          internal,\n          conditions,\n        })\n        if (resolved) {\n          return resolved\n        }\n      }\n    }\n    return undefined\n  }\n  throw new Error(\"Invalid package target\")\n}\n\nconst readExports = ({ exports, packageUrl }) => {\n  if (Array.isArray(exports)) {\n    return {\n      type: \"array\",\n    }\n  }\n  if (exports === null) {\n    return {}\n  }\n  if (typeof exports === \"object\") {\n    const keys = Object.keys(exports)\n    const relativeKeys = []\n    const conditionalKeys = []\n    keys.forEach((availableKey) => {\n      if (availableKey.startsWith(\".\")) {\n        relativeKeys.push(availableKey)\n      } else {\n        conditionalKeys.push(availableKey)\n      }\n    })\n    const hasRelativeKey = relativeKeys.length > 0\n    if (hasRelativeKey && conditionalKeys.length > 0) {\n      throw new Error(\n        `Invalid package configuration: cannot mix relative and conditional keys in package.exports\n--- unexpected keys ---\n${conditionalKeys.map((key) => `\"${key}\"`).join(\"\\n\")}\n--- package.json ---\n${packageUrl}`,\n      )\n    }\n    return {\n      type: \"object\",\n      hasRelativeKey,\n      allKeysAreRelative: relativeKeys.length === keys.length,\n    }\n  }\n  if (typeof exports === \"string\") {\n    return { type: \"string\" }\n  }\n  return {}\n}\n\nconst parsePackageSpecifier = (packageSpecifier) => {\n  if (packageSpecifier[0] === \"@\") {\n    const firstSlashIndex = packageSpecifier.indexOf(\"/\")\n    if (firstSlashIndex === -1) {\n      throw new Error(\"invalid module specifier\")\n    }\n    const packageScope = packageSpecifier.slice(0, firstSlashIndex)\n    const secondSlashIndex = packageSpecifier.indexOf(\"/\", firstSlashIndex)\n    if (secondSlashIndex === -1) {\n      const packageName = packageSpecifier.slice(firstSlashIndex)\n      return {\n        packageScope,\n        packageName,\n        packageSubpath: \".\",\n      }\n    }\n    const packageName = packageSpecifier.slice(\n      firstSlashIndex,\n      secondSlashIndex,\n    )\n    const afterSecondSlash = packageSpecifier.slice(secondSlashIndex)\n    const packageSubpath = `.${afterSecondSlash}`\n    return {\n      packageScope,\n      packageName,\n      packageSubpath,\n    }\n  }\n  const firstSlashIndex = packageSpecifier.indexOf(\"/\")\n  if (firstSlashIndex === -1) {\n    return {\n      packageName: packageSpecifier,\n      packageSubpath: \".\",\n    }\n  }\n  const packageName = packageSpecifier.slice(0, firstSlashIndex)\n  const afterFirstSlash = packageSpecifier.slice(firstSlashIndex)\n  const packageSubpath = `node:${afterFirstSlash}`\n  return {\n    packageName,\n    packageSubpath,\n  }\n}\n\nconst applyMainExportResolution = ({ exports, exportsInfo }) => {\n  if (exportsInfo.type === \"array\" || exportsInfo.type === \"string\") {\n    return exports\n  }\n  if (exportsInfo.type === \"object\") {\n    if (exportsInfo.hasRelativeKey) {\n      return exports[\".\"]\n    }\n    return exports\n  }\n  return undefined\n}\n\nconst comparePatternKeys = (keyA, keyB) => {\n  if (!keyA.endsWith(\"/\") && !keyA.contains(\"*\")) {\n    throw new Error(\"Invalid package configuration\")\n  }\n  if (!keyB.endsWith(\"/\") && !keyB.contains(\"*\")) {\n    throw new Error(\"Invalid package configuration\")\n  }\n  const aStarIndex = keyA.indexOf(\"*\")\n  const baseLengthA = aStarIndex > -1 ? aStarIndex + 1 : keyA.length\n  const bStarIndex = keyB.indexOf(\"*\")\n  const baseLengthB = bStarIndex > -1 ? bStarIndex + 1 : keyB.length\n  if (baseLengthA > baseLengthB) {\n    return -1\n  }\n  if (baseLengthB > baseLengthA) {\n    return 1\n  }\n  if (aStarIndex === -1) {\n    return 1\n  }\n  if (bStarIndex === -1) {\n    return -1\n  }\n  if (keyA.length > keyB.length) {\n    return -1\n  }\n  if (keyB.length > keyA.length) {\n    return 1\n  }\n  return 0\n}\n",
    "import { lookupPackageScope } from \"./lookup_package_scope.js\"\nimport { readPackageJson } from \"./read_package_json.js\"\n\n// https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_determining_module_system)\nexport const determineModuleSystem = (url) => {\n  const inputTypeArgv = process.execArgv.find((argv) =>\n    argv.startsWith(\"--input-type=\"),\n  )\n  if (inputTypeArgv) {\n    const value = inputTypeArgv.slice(\"--input-type=\".length)\n    if (value === \"module\") {\n      return \"module\"\n    }\n    if (value === \"commonjs\") {\n      return \"commonjs\"\n    }\n  }\n  const extension = extensionFromUrl(url)\n  if (extension === \".mjs\") {\n    return \"module\"\n  }\n  if (extension === \".cjs\") {\n    return \"commonjs\"\n  }\n  if (extension === \".json\") {\n    return \"json\"\n  }\n  if (extension === \".js\") {\n    const packageUrl = lookupPackageScope(url)\n    if (!packageUrl) {\n      return \"commonjs\"\n    }\n    const packageJson = readPackageJson(packageUrl)\n    if (packageJson.type === \"module\") {\n      return \"module\"\n    }\n    return \"commonjs\"\n  }\n  throw new Error(\"unsupported file extension\")\n}\n\nconst extensionFromUrl = (url) => {\n  const { pathname } = new URL(url)\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  const filename =\n    slashLastIndex === -1 ? pathname : pathname.slice(slashLastIndex + 1)\n  const dotLastIndex = filename.lastIndexOf(\".\")\n  if (dotLastIndex === -1) return \"\"\n  // if (dotLastIndex === pathname.length - 1) return \"\"\n  const extension = filename.slice(dotLastIndex)\n  return extension\n}\n",
    "import { statsSync } from \"node:fs\"\n\nimport { urlToFilename } from \"./url_utils.js\"\n\nexport const applyFileSystemMagicResolution = (\n  fileUrl,\n  { magicDirectoryIndex, magicExtensions },\n) => {\n  const filestats = fileStatsOrNull(fileUrl)\n  if (filestats && filestats.isFile()) {\n    return {\n      found: true,\n      url: fileUrl,\n    }\n  }\n  if (filestats && filestats.isDirectory()) {\n    if (magicDirectoryIndex) {\n      const indexFileSuffix = fileUrl.endsWith(\"/\") ? \"index\" : \"/index\"\n      const indexFileUrl = `${fileUrl}${indexFileSuffix}`\n      const result = applyFileSystemMagicResolution(indexFileUrl, {\n        magicDirectoryIndex: false,\n        magicExtensions,\n      })\n      return {\n        magicDirectoryIndex: true,\n        ...result,\n      }\n    }\n    return {\n      isDirectory: true,\n      found: false,\n      url: fileUrl,\n    }\n  }\n  const extensionLeadingToAFile = findExtensionLeadingToFile(\n    fileUrl,\n    magicExtensions,\n  )\n  // magic extension not found\n  if (extensionLeadingToAFile === null) {\n    return {\n      found: false,\n      url: fileUrl,\n    }\n  }\n  // magic extension worked\n  return {\n    magicExtension: extensionLeadingToAFile,\n    found: true,\n    url: `${fileUrl}${extensionLeadingToAFile}`,\n  }\n}\n\nconst findExtensionLeadingToFile = (fileUrl, magicExtensions) => {\n  if (!magicExtensions) {\n    return null\n  }\n  const parentUrl = new URL(\"./\", fileUrl).href\n  const urlFilename = urlToFilename(fileUrl)\n  const extensionLeadingToFile = magicExtensions.find((extensionToTry) => {\n    const urlCandidate = `${parentUrl}${urlFilename}${extensionToTry}`\n    const stats = fileStatsOrNull(urlCandidate, {\n      nullIfNotFound: true,\n    })\n    return stats && stats.isFile()\n  })\n  return extensionLeadingToFile\n}\n\nconst fileStatsOrNull = (url) => {\n  try {\n    return statsSync(new URL(url))\n  } catch (e) {\n    if (e.code === \"ENOENT\") {\n      return null\n    }\n    throw e\n  }\n}\n"
  ],
  "names": [
    "isSpecifierForNodeBuiltin",
    "specifier",
    "startsWith",
    "NODE_BUILTIN_MODULE_SPECIFIERS",
    "includes",
    "getParentUrl",
    "url",
    "URL",
    "endsWith",
    "href",
    "isValidUrl",
    "e",
    "urlToFilename",
    "pathname",
    "pathnameBeforeLastSlash",
    "slice",
    "slashLastIndex",
    "lastIndexOf",
    "filename",
    "lookupPackageScope",
    "scopeUrl",
    "packageJsonUrlObject",
    "existsSync",
    "readPackageJson",
    "packageUrl",
    "packageJsonUrl",
    "buffer",
    "readFileSync",
    "string",
    "String",
    "JSON",
    "parse",
    "Error",
    "applyNodeEsmResolution",
    "conditions",
    "parentUrl",
    "resolution",
    "applyPackageSpecifierResolution",
    "type",
    "applyPackageImportsResolution",
    "urlObject",
    "applyPackageResolve",
    "packageSpecifier",
    "packageJson",
    "imports",
    "resolved",
    "applyPackageImportsExportsResolution",
    "matchObject",
    "matchKey",
    "isImports",
    "packageName",
    "packageSubpath",
    "parsePackageSpecifier",
    "selfResolution",
    "applyPackageSelfResolution",
    "exports",
    "undefined",
    "applyPackageExportsResolution",
    "main",
    "name",
    "exportsInfo",
    "readExports",
    "mainExport",
    "applyMainExportResolution",
    "applyPackageTargetResolution",
    "target",
    "allKeysAreRelative",
    "hasOwnProperty",
    "internal",
    "expansionKeys",
    "Object",
    "keys",
    "filter",
    "key",
    "split",
    "length",
    "sort",
    "comparePatternKeys",
    "expansionKey",
    "patternBase",
    "patternTrailer",
    "subpath",
    "pattern",
    "replaceAll",
    "resolvedTarget",
    "Array",
    "isArray",
    "lastResult",
    "targetValue",
    "message",
    "Number",
    "isInteger",
    "relativeKeys",
    "conditionalKeys",
    "forEach",
    "availableKey",
    "push",
    "hasRelativeKey",
    "map",
    "join",
    "firstSlashIndex",
    "indexOf",
    "packageScope",
    "secondSlashIndex",
    "afterSecondSlash",
    "afterFirstSlash",
    "keyA",
    "keyB",
    "contains",
    "aStarIndex",
    "baseLengthA",
    "bStarIndex",
    "baseLengthB",
    "determineModuleSystem",
    "inputTypeArgv",
    "process",
    "execArgv",
    "find",
    "argv",
    "value",
    "extension",
    "extensionFromUrl",
    "dotLastIndex",
    "applyFileSystemMagicResolution",
    "fileUrl",
    "magicDirectoryIndex",
    "magicExtensions",
    "filestats",
    "fileStatsOrNull",
    "isFile",
    "found",
    "isDirectory",
    "indexFileSuffix",
    "indexFileUrl",
    "result",
    "extensionLeadingToAFile",
    "findExtensionLeadingToFile",
    "magicExtension",
    "urlFilename",
    "extensionLeadingToFile",
    "extensionToTry",
    "urlCandidate",
    "stats",
    "statsSync",
    "code"
  ],
  "mappings": ";;;;;;AAAO,MAAMA,yBAAyB,GAAIC,SAAD,IAAe;AACtD,SACEA,SAAS,CAACC,UAAV,CAAqB,OAArB,KACAC,8BAA8B,CAACC,QAA/B,CAAwCH,SAAxC,CAFF;AAID,CALM;AAOP,MAAME,8BAA8B,GAAG,CACrC,QADqC,EAErC,eAFqC,EAGrC,aAHqC,EAIrC,gBAJqC,EAKrC,QALqC,EAMrC,eANqC,EAOrC,SAPqC,EAQrC,SARqC,EASrC,WATqC,EAUrC,QAVqC,EAWrC,WAXqC,EAYrC,OAZqC,EAarC,KAbqC,EAcrC,QAdqC,EAerC,QAfqC,EAgBrC,UAhBqC,EAiBrC,IAjBqC,EAkBrC,aAlBqC,EAmBrC,aAnBqC,EAoBrC,cApBqC,EAqBrC,cArBqC,EAsBrC,gBAtBqC,EAuBrC,gBAvBqC,EAwBrC,cAxBqC,EAyBrC,MAzBqC,EA0BrC,OA1BqC,EA2BrC,OA3BqC,EA4BrC,WA5BqC,EA6BrC,WA7BqC,EA8BrC,QA9BqC,EA+BrC,KA/BqC,EAgCrC,2BAhCqC,EAiCrC,0CAjCqC,EAkCrC,wCAlCqC,EAmCrC,IAnCqC,EAoCrC,MApCqC,EAqCrC,YArCqC,EAsCrC,SAtCqC,EAuCrC,UAvCqC,EAwCrC,aAxCqC,EAyCrC,UAzCqC,EA0CrC,MA1CqC,EA2CrC,SA3CqC,EA4CrC,gBA5CqC,EA6CrC,mBA7CqC,EA8CrC,cA9CqC,EA+CrC,qBA/CqC,EAgDrC,kBAhDqC,EAiDrC,kBAjDqC,EAkDrC,QAlDqC,EAmDrC,iBAnDqC,EAoDrC,gBApDqC,EAqDrC,KArDqC,EAsDrC,QAtDqC,EAuDrC,aAvDqC,EAwDrC,aAxDqC,EAyDrC,WAzDqC,EA0DrC,KA1DqC,EA2DrC,cA3DqC,EA4DrC,KA5DqC,EA6DrC,KA7DqC,EA8DrC,MA9DqC,EA+DrC,oBA/DqC,EAgErC,kBAhEqC,EAiErC,oBAjEqC,EAkErC,oBAlEqC,EAmErC,oBAnEqC,EAoErC,uBApEqC,EAqErC,oBArEqC,EAsErC,IAtEqC,EAuErC,IAvEqC,EAwErC,gBAxEqC,EAyErC,MAzEqC;AA2ErC,QA3EqC,CAAvC;;ACPO,MAAME,YAAY,GAAIC,GAAD,IAAS;AACnC,SAAO,IAAIC,GAAJ,CAAQD,GAAG,CAACE,QAAJ,CAAa,GAAb,IAAoB,KAApB,GAA4B,IAApC,EAA0CF,GAA1C,EAA+CG,IAAtD;AACD,CAFM;AAIA,MAAMC,UAAU,GAAIJ,GAAD,IAAS;AACjC,MAAI;AACF;AACA,QAAIC,GAAJ,CAAQD,GAAR;AACA,WAAO,IAAP;AACD,GAJD,CAIE,OAAOK,CAAP,EAAU;AACV,WAAO,KAAP;AACD;AACF,CARM;AAUA,MAAMC,aAAa,GAAIN,GAAD,IAAS;AACpC,QAAM;AAAEO,IAAAA;AAAF,MAAe,IAAIN,GAAJ,CAAQD,GAAR,CAArB;AACA,QAAMQ,uBAAuB,GAAGD,QAAQ,CAACL,QAAT,CAAkB,GAAlB,IAC5BK,QAAQ,CAACE,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAD4B,GAE5BF,QAFJ;AAGA,QAAMG,cAAc,GAAGF,uBAAuB,CAACG,WAAxB,CAAoC,GAApC,CAAvB;AACA,QAAMC,QAAQ,GACZF,cAAc,KAAK,CAAC,CAApB,GACIF,uBADJ,GAEIA,uBAAuB,CAACC,KAAxB,CAA8BC,cAAc,GAAG,CAA/C,CAHN;AAIA,SAAOE,QAAP;AACD,CAXM;;ACVA,MAAMC,kBAAkB,GAAIb,GAAD,IAAS;AACzC,MAAIc,QAAQ,GAAGd,GAAf;;AACA,SAAOc,QAAQ,KAAK,UAApB,EAAgC;AAC9BA,IAAAA,QAAQ,GAAGf,YAAY,CAACe,QAAD,CAAvB;;AACA,QAAIA,QAAQ,CAACZ,QAAT,CAAkB,eAAlB,CAAJ,EAAwC;AACtC,aAAO,IAAP;AACD;;AACD,UAAMa,oBAAoB,GAAG,IAAId,GAAJ,CAAQ,cAAR,EAAwBa,QAAxB,CAA7B;;AACA,QAAIE,kBAAU,CAACD,oBAAD,CAAd,EAAsC;AACpC,aAAOD,QAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD,CAbM;;ACFA,MAAMG,eAAe,GAAIC,UAAD,IAAgB;AAC7C,QAAMC,cAAc,GAAG,IAAIlB,GAAJ,CAAQ,cAAR,EAAwBiB,UAAxB,CAAvB;AACA,QAAME,MAAM,GAAGC,oBAAY,CAACF,cAAD,CAA3B;AACA,QAAMG,MAAM,GAAGC,MAAM,CAACH,MAAD,CAArB;;AACA,MAAI;AACF,WAAOI,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAP;AACD,GAFD,CAEE,OAAOjB,CAAP,EAAU;AACV,UAAM,IAAIqB,KAAJ,CAAW,+BAAX,CAAN;AACD;AACF,CATM;;ACFP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAQaC,sBAAsB,GAAG,CAAC;AACrCC,EAAAA,UAAU,GAAG,CAAC,MAAD,EAAS,QAAT,CADwB;AAErCC,EAAAA,SAFqC;AAGrClC,EAAAA;AAHqC,CAAD,KAIhC;AACJ,QAAMmC,UAAU,GAAGC,+BAA+B,CAAC;AACjDH,IAAAA,UADiD;AAEjDC,IAAAA,SAAS,EAAEN,MAAM,CAACM,SAAD,CAFgC;AAGjDlC,IAAAA;AAHiD,GAAD,CAAlD;AAKA,QAAM;AAAEK,IAAAA;AAAF,MAAU8B,UAAhB;;AACA,MAAI9B,GAAG,CAACJ,UAAJ,CAAe,OAAf,CAAJ,EAA6B;AAC3B,QAAII,GAAG,CAACF,QAAJ,CAAa,KAAb,KAAuBE,GAAG,CAACF,QAAJ,CAAa,KAAb,CAA3B,EAAgD;AAC9C,YAAM,IAAI4B,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,WAAOI,UAAP;AACD;;AACD,SAAOA,UAAP;AACD;;AAED,MAAMC,+BAA+B,GAAG,CAAC;AACvCH,EAAAA,UADuC;AAEvCC,EAAAA,SAFuC;AAGvClC,EAAAA;AAHuC,CAAD,KAIlC;AACJ,MACEA,SAAS,CAAC,CAAD,CAAT,KAAiB,GAAjB,IACAA,SAAS,CAACC,UAAV,CAAqB,IAArB,CADA,IAEAD,SAAS,CAACC,UAAV,CAAqB,KAArB,CAHF,EAIE;AACA,WAAO;AACLoC,MAAAA,IAAI,EAAE,oBADD;AAELhC,MAAAA,GAAG,EAAE,IAAIC,GAAJ,CAAQN,SAAR,EAAmBkC,SAAnB,EAA8B1B;AAF9B,KAAP;AAID;;AACD,MAAIR,SAAS,CAAC,CAAD,CAAT,KAAiB,GAArB,EAA0B;AACxB,WAAOsC,6BAA6B,CAAC;AACnCL,MAAAA,UADmC;AAEnCC,MAAAA,SAFmC;AAGnClC,MAAAA;AAHmC,KAAD,CAApC;AAKD;;AACD,MAAI;AACF,UAAMuC,SAAS,GAAG,IAAIjC,GAAJ,CAAQN,SAAR,CAAlB;AACA,WAAO;AACLqC,MAAAA,IAAI,EAAE,oBADD;AAELhC,MAAAA,GAAG,EAAEkC,SAAS,CAAC/B;AAFV,KAAP;AAID,GAND,CAME,OAAOE,CAAP,EAAU;AACV;AACA,WAAO8B,mBAAmB,CAAC;AACzBP,MAAAA,UADyB;AAEzBC,MAAAA,SAFyB;AAGzBO,MAAAA,gBAAgB,EAAEzC;AAHO,KAAD,CAA1B;AAKD;AACF,CApCD;;AAsCA,MAAMsC,6BAA6B,GAAG,CAAC;AACrCL,EAAAA,UADqC;AAErCC,EAAAA,SAFqC;AAGrClC,EAAAA;AAHqC,CAAD,KAIhC;AACJ,MAAI,CAACA,SAAS,CAACC,UAAV,CAAqB,GAArB,CAAL,EAAgC;AAC9B,UAAM,IAAI8B,KAAJ,CAAU,6BAAV,CAAN;AACD;;AACD,MAAI/B,SAAS,KAAK,GAAd,IAAqBA,SAAS,CAACC,UAAV,CAAqB,IAArB,CAAzB,EAAqD;AACnD,UAAM,IAAI8B,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,QAAMR,UAAU,GAAGL,kBAAkB,CAACgB,SAAD,CAArC;;AACA,MAAIX,UAAU,KAAK,IAAnB,EAAyB;AACvB,UAAMmB,WAAW,GAAGpB,eAAe,CAACC,UAAD,CAAnC;AACA,UAAM;AAAEoB,MAAAA;AAAF,QAAcD,WAApB;;AACA,QAAIC,OAAO,KAAK,IAAZ,IAAoB,OAAOA,OAAP,KAAmB,QAA3C,EAAqD;AACnD,YAAMC,QAAQ,GAAGC,oCAAoC,CAAC;AACpDZ,QAAAA,UADoD;AAEpDV,QAAAA,UAFoD;AAGpDmB,QAAAA,WAHoD;AAIpDI,QAAAA,WAAW,EAAEH,OAJuC;AAKpDI,QAAAA,QAAQ,EAAE/C,SAL0C;AAMpDgD,QAAAA,SAAS,EAAE;AANyC,OAAD,CAArD;;AAQA,UAAIJ,QAAJ,EAAc;AACZ,eAAOA,QAAP;AACD;AACF;AACF;;AACD,QAAM,IAAIb,KAAJ,CAAW,4BAAX,CAAN;AACD,CA9BD;;AAgCA,MAAMS,mBAAmB,GAAG,CAAC;AAAEP,EAAAA,UAAF;AAAcC,EAAAA,SAAd;AAAyBO,EAAAA;AAAzB,CAAD,KAAiD;AAC3E,MAAIA,gBAAgB,KAAK,EAAzB,EAA6B;AAC3B,UAAM,IAAIV,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,MAAIhC,yBAAyB,CAAC0C,gBAAD,CAA7B,EAAiD;AAC/C,WAAO;AACLJ,MAAAA,IAAI,EAAE,wBADD;AAELhC,MAAAA,GAAG,EAAG,QAAOoC,gBAAiB;AAFzB,KAAP;AAID;;AACD,QAAM;AAAEQ,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MACJC,qBAAqB,CAACV,gBAAD,CADvB;;AAEA,MACEQ,WAAW,CAAC,CAAD,CAAX,KAAmB,GAAnB,IACAA,WAAW,CAAC9C,QAAZ,CAAqB,IAArB,CADA,IAEA8C,WAAW,CAAC9C,QAAZ,CAAqB,GAArB,CAHF,EAIE;AACA,UAAM,IAAI4B,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,MAAImB,cAAc,CAAC3C,QAAf,CAAwB,GAAxB,CAAJ,EAAkC;AAChC,UAAM,IAAIwB,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,QAAMqB,cAAc,GAAGC,0BAA0B,CAAC;AAChDpB,IAAAA,UADgD;AAEhDC,IAAAA,SAFgD;AAGhDe,IAAAA,WAHgD;AAIhDC,IAAAA;AAJgD,GAAD,CAAjD;;AAMA,MAAIE,cAAJ,EAAoB;AAClB,WAAOA,cAAP;AACD;;AACD,SAAOlB,SAAS,KAAK,UAArB,EAAiC;AAC/B,UAAMX,UAAU,GAAG,IAAIjB,GAAJ,CAAS,gBAAemC,gBAAiB,GAAzC,EAA6CP,SAA7C,EAChB1B,IADH;;AAEA,QAAI,CAACa,kBAAU,CAAC,IAAIf,GAAJ,CAAQiB,UAAR,CAAD,CAAf,EAAsC;AACpCW,MAAAA,SAAS,GAAG9B,YAAY,CAAC8B,SAAD,CAAxB;AACA;AACD;;AACD,UAAMQ,WAAW,GAAGpB,eAAe,CAACC,UAAD,CAAnC;;AACA,QAAImB,WAAW,KAAK,IAApB,EAA0B;AACxB,YAAM;AAAEY,QAAAA;AAAF,UAAcZ,WAApB;;AACA,UAAIY,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKC,SAApC,EAA+C;AAC7C,eAAOC,6BAA6B,CAAC;AACnCvB,UAAAA,UADmC;AAEnCV,UAAAA,UAFmC;AAGnCmB,UAAAA,WAHmC;AAInCQ,UAAAA,cAJmC;AAKnCI,UAAAA;AALmC,SAAD,CAApC;AAOD;AACF;;AACD,QAAIJ,cAAc,KAAK,GAAvB,EAA4B;AAC1B,YAAM;AAAEO,QAAAA;AAAF,UAAWf,WAAjB;;AACA,UAAI,OAAOe,IAAP,KAAgB,QAApB,EAA8B;AAC5B,eAAO;AACLpB,UAAAA,IAAI,EAAE,MADD;AAELd,UAAAA,UAFK;AAGLmB,UAAAA,WAHK;AAILrC,UAAAA,GAAG,EAAE,IAAIC,GAAJ,CAAQmD,IAAR,EAAclC,UAAd,EAA0Bf;AAJ1B,SAAP;AAMD;AACF;;AACD,WAAO;AACL6B,MAAAA,IAAI,EAAE,SADD;AAELd,MAAAA,UAFK;AAGLmB,MAAAA,WAHK;AAILrC,MAAAA,GAAG,EAAE,IAAIC,GAAJ,CAAQ4C,cAAR,EAAwB3B,UAAxB,EAAoCf;AAJpC,KAAP;AAMD;;AACD,QAAM,IAAIuB,KAAJ,CAAU,kBAAV,CAAN;AACD,CAtED;;AAwEA,MAAMsB,0BAA0B,GAAG,CAAC;AAClCpB,EAAAA,UADkC;AAElCC,EAAAA,SAFkC;AAGlCe,EAAAA,WAHkC;AAIlCC,EAAAA;AAJkC,CAAD,KAK7B;AACJ,QAAM3B,UAAU,GAAGL,kBAAkB,CAACgB,SAAD,CAArC;;AACA,MAAI,CAACX,UAAL,EAAiB;AACf,WAAOgC,SAAP;AACD;;AACD,QAAMb,WAAW,GAAGpB,eAAe,CAACC,UAAD,CAAnC;;AACA,MAAI,CAACmB,WAAL,EAAkB;AAChB,WAAOa,SAAP;AACD;;AACD,QAAM;AAAED,IAAAA;AAAF,MAAcZ,WAApB;;AACA,MAAI,CAACY,OAAL,EAAc;AACZ,WAAOC,SAAP;AACD;;AACD,MAAIb,WAAW,CAACgB,IAAZ,KAAqBT,WAAzB,EAAsC;AACpC,WAAOM,SAAP;AACD;;AACD,SAAOC,6BAA6B,CAAC;AACnCvB,IAAAA,UADmC;AAEnCV,IAAAA,UAFmC;AAGnCmB,IAAAA,WAHmC;AAInCQ,IAAAA,cAJmC;AAKnCI,IAAAA;AALmC,GAAD,CAApC;AAOD,CA5BD;;AA8BA,MAAME,6BAA6B,GAAG,CAAC;AACrCvB,EAAAA,UADqC;AAErCV,EAAAA,UAFqC;AAGrCmB,EAAAA,WAHqC;AAIrCQ,EAAAA,cAJqC;AAKrCI,EAAAA;AALqC,CAAD,KAMhC;AACJ,QAAMK,WAAW,GAAGC,WAAW,CAAC;AAAEN,IAAAA,OAAF;AAAW/B,IAAAA;AAAX,GAAD,CAA/B;;AACA,MAAI2B,cAAc,KAAK,GAAvB,EAA4B;AAC1B,UAAMW,UAAU,GAAGC,yBAAyB,CAAC;AAAER,MAAAA,OAAF;AAAWK,MAAAA;AAAX,KAAD,CAA5C;;AACA,QAAI,CAACE,UAAL,EAAiB;AACf,YAAM,IAAI9B,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD,WAAOgC,4BAA4B,CAAC;AAClC9B,MAAAA,UADkC;AAElCV,MAAAA,UAFkC;AAGlCmB,MAAAA,WAHkC;AAIlCsB,MAAAA,MAAM,EAAEH;AAJ0B,KAAD,CAAnC;AAMD;;AACD,MAAIF,WAAW,CAACtB,IAAZ,KAAqB,QAArB,IAAiCsB,WAAW,CAACM,kBAAjD,EAAqE;AACnE,UAAMrB,QAAQ,GAAGC,oCAAoC,CAAC;AACpDZ,MAAAA,UADoD;AAEpDV,MAAAA,UAFoD;AAGpDmB,MAAAA,WAHoD;AAIpDI,MAAAA,WAAW,EAAEQ,OAJuC;AAKpDP,MAAAA,QAAQ,EAAG,KAAIG,cAAe,EALsB;AAMpDF,MAAAA,SAAS,EAAE;AANyC,KAAD,CAArD;;AAQA,QAAIJ,QAAJ,EAAc;AACZ,aAAOA,QAAP;AACD;AACF;;AACD,QAAM,IAAIb,KAAJ,CAAU,2BAAV,CAAN;AACD,CAlCD;;AAoCA,MAAMc,oCAAoC,GAAG,CAAC;AAC5CZ,EAAAA,UAD4C;AAE5CV,EAAAA,UAF4C;AAG5CmB,EAAAA,WAH4C;AAI5CI,EAAAA,WAJ4C;AAK5CC,EAAAA,QAL4C;AAM5CC,EAAAA;AAN4C,CAAD,KAOvC;AACJ,MAAI,CAACD,QAAQ,CAAC5C,QAAT,CAAkB,GAAlB,CAAD,IAA2B2C,WAAW,CAACoB,cAAZ,CAA2BnB,QAA3B,CAA/B,EAAqE;AACnE,UAAMiB,MAAM,GAAGlB,WAAW,CAACC,QAAD,CAA1B;AACA,WAAOgB,4BAA4B,CAAC;AAClC9B,MAAAA,UADkC;AAElCV,MAAAA,UAFkC;AAGlCmB,MAAAA,WAHkC;AAIlCsB,MAAAA,MAJkC;AAKlCG,MAAAA,QAAQ,EAAEnB;AALwB,KAAD,CAAnC;AAOD;;AACD,QAAMoB,aAAa,GAAGC,MAAM,CAACC,IAAP,CAAYxB,WAAZ,EACnByB,MADmB,CACXC,GAAD,IAASA,GAAG,CAACC,KAAJ,CAAU,GAAV,EAAeC,MAAf,KAA0B,CADvB,EAEnBC,IAFmB,CAEdC,kBAFc,CAAtB;;AAGA,OAAK,MAAMC,YAAX,IAA2BT,aAA3B,EAA0C;AACxC,UAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCF,YAAY,CAACJ,KAAb,CAAmB,GAAnB,CAAtC;AACA,QAAI1B,QAAQ,KAAK+B,WAAjB,EAA8B;AAC9B,QAAI,CAAC/B,QAAQ,CAAC9C,UAAT,CAAoB6E,WAApB,CAAL,EAAuC;;AACvC,QAAIC,cAAc,CAACL,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,UAAI,CAAC3B,QAAQ,CAACxC,QAAT,CAAkBwE,cAAlB,CAAL,EAAwC;AACxC,UAAIhC,QAAQ,CAAC2B,MAAT,GAAkBG,YAAY,CAACH,MAAnC,EAA2C;AAC5C;;AACD,UAAMV,MAAM,GAAGlB,WAAW,CAAC+B,YAAD,CAA1B;AACA,UAAMG,OAAO,GAAGjC,QAAQ,CAACjC,KAAT,CACdgE,WAAW,CAACJ,MADE,EAEd3B,QAAQ,CAAC2B,MAAT,GAAkBK,cAAc,CAACL,MAFnB,CAAhB;AAIA,WAAOX,4BAA4B,CAAC;AAClC9B,MAAAA,UADkC;AAElCV,MAAAA,UAFkC;AAGlCmB,MAAAA,WAHkC;AAIlCsB,MAAAA,MAJkC;AAKlCgB,MAAAA,OALkC;AAMlCC,MAAAA,OAAO,EAAE,IANyB;AAOlCd,MAAAA,QAAQ,EAAEnB;AAPwB,KAAD,CAAnC;AASD;;AACD,SAAO,IAAP;AACD,CA7CD;;AA+CA,MAAMe,4BAA4B,GAAG,CAAC;AACpC9B,EAAAA,UADoC;AAEpCV,EAAAA,UAFoC;AAGpCmB,EAAAA,WAHoC;AAIpCsB,EAAAA,MAJoC;AAKpCgB,EAAAA,OAAO,GAAG,EAL0B;AAMpCC,EAAAA,OAAO,GAAG,KAN0B;AAOpCd,EAAAA,QAAQ,GAAG;AAPyB,CAAD,KAQ/B;AACJ,MAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,QAAIiB,OAAO,KAAK,KAAZ,IAAqBD,OAAO,KAAK,EAAjC,IAAuC,CAAChB,MAAM,CAACzD,QAAP,CAAgB,GAAhB,CAA5C,EAAkE;AAChE,YAAM,IAAIwB,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,QAAI,CAACiC,MAAM,CAAC/D,UAAP,CAAkB,IAAlB,CAAL,EAA8B;AAC5B,UAAI,CAACkE,QAAD,IAAaH,MAAM,CAAC/D,UAAP,CAAkB,KAAlB,CAAb,IAAyCQ,UAAU,CAACuD,MAAD,CAAvD,EAAiE;AAC/D,cAAM,IAAIjC,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,aAAOS,mBAAmB,CAAC;AACzBP,QAAAA,UADyB;AAEzBC,QAAAA,SAAS,EAAG,GAAEX,UAAW,GAFA;AAGzBkB,QAAAA,gBAAgB,EAAEwC,OAAO,GACrBjB,MAAM,CAACkB,UAAP,CAAkB,GAAlB,EAAuBF,OAAvB,CADqB,GAEpB,GAAEhB,MAAO,GAAEgB,OAAQ;AALC,OAAD,CAA1B;AAOD;;AACD,UAAMG,cAAc,GAAG,IAAI7E,GAAJ,CAAQ0D,MAAR,EAAgBzC,UAAhB,EAA4Bf,IAAnD;;AACA,QAAI,CAAC2E,cAAc,CAAClF,UAAf,CAA0BsB,UAA1B,CAAL,EAA4C;AAC1C,YAAM,IAAIQ,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,WAAO;AACLM,MAAAA,IAAI,EAAE8B,QAAQ,GAAG,iBAAH,GAAuB,iBADhC;AAEL5C,MAAAA,UAFK;AAGLmB,MAAAA,WAHK;AAILrC,MAAAA,GAAG,EAAE4E,OAAO,GACRE,cAAc,CAACD,UAAf,CAA0B,GAA1B,EAA+BF,OAA/B,CADQ,GAER,IAAI1E,GAAJ,CAAQ0E,OAAR,EAAiBG,cAAjB,EAAiC3E;AANhC,KAAP;AAQD;;AACD,MAAI4E,KAAK,CAACC,OAAN,CAAcrB,MAAd,CAAJ,EAA2B;AACzB,QAAIA,MAAM,CAACU,MAAP,KAAkB,CAAtB,EAAyB;AACvB,aAAO,IAAP;AACD;;AACD,QAAIY,UAAJ;;AACA,SAAK,MAAMC,WAAX,IAA0BvB,MAA1B,EAAkC;AAChC,UAAI;AACF,cAAMpB,QAAQ,GAAGmB,4BAA4B,CAAC;AAC5CxC,UAAAA,UAD4C;AAE5CmB,UAAAA,WAF4C;AAG5CsB,UAAAA,MAAM,EAAEuB,WAHoC;AAI5CP,UAAAA,OAJ4C;AAK5CC,UAAAA,OAL4C;AAM5Cd,UAAAA,QAN4C;AAO5ClC,UAAAA;AAP4C,SAAD,CAA7C;;AASA,YAAIW,QAAJ,EAAc;AACZ,iBAAOA,QAAP;AACD;;AACD0C,QAAAA,UAAU,GAAG1C,QAAb;AACD,OAdD,CAcE,OAAOlC,CAAP,EAAU;AACV,YAAIA,CAAC,CAAC8E,OAAF,KAAc,wBAAlB,EAA4C;AAC1C;AACD;;AACDF,QAAAA,UAAU,GAAG5E,CAAb;AACD;AACF;;AACD,QAAI4E,UAAJ,EAAgB;AACd,YAAMA,UAAN;AACD;;AACD,WAAO,IAAP;AACD;;AACD,MAAItB,MAAM,KAAK,IAAf,EAAqB;AACnB,WAAO,IAAP;AACD;;AACD,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,UAAMM,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYN,MAAZ,CAAb;;AACA,SAAK,MAAMQ,GAAX,IAAkBF,IAAlB,EAAwB;AACtB,UAAImB,MAAM,CAACC,SAAP,CAAiBlB,GAAjB,CAAJ,EAA2B;AACzB,cAAM,IAAIzC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AACD,UAAIyC,GAAG,KAAK,SAAR,IAAqBvC,UAAU,CAAC9B,QAAX,CAAoBqE,GAApB,CAAzB,EAAmD;AACjD,cAAMe,WAAW,GAAGvB,MAAM,CAACQ,GAAD,CAA1B;AACA,cAAM5B,QAAQ,GAAGmB,4BAA4B,CAAC;AAC5CxC,UAAAA,UAD4C;AAE5CmB,UAAAA,WAF4C;AAG5CsB,UAAAA,MAAM,EAAEuB,WAHoC;AAI5CP,UAAAA,OAJ4C;AAK5CC,UAAAA,OAL4C;AAM5Cd,UAAAA,QAN4C;AAO5ClC,UAAAA;AAP4C,SAAD,CAA7C;;AASA,YAAIW,QAAJ,EAAc;AACZ,iBAAOA,QAAP;AACD;AACF;AACF;;AACD,WAAOW,SAAP;AACD;;AACD,QAAM,IAAIxB,KAAJ,CAAU,wBAAV,CAAN;AACD,CAlGD;;AAoGA,MAAM6B,WAAW,GAAG,CAAC;AAAEN,EAAAA,OAAF;AAAW/B,EAAAA;AAAX,CAAD,KAA6B;AAC/C,MAAI6D,KAAK,CAACC,OAAN,CAAc/B,OAAd,CAAJ,EAA4B;AAC1B,WAAO;AACLjB,MAAAA,IAAI,EAAE;AADD,KAAP;AAGD;;AACD,MAAIiB,OAAO,KAAK,IAAhB,EAAsB;AACpB,WAAO,EAAP;AACD;;AACD,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAMgB,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYhB,OAAZ,CAAb;AACA,UAAMqC,YAAY,GAAG,EAArB;AACA,UAAMC,eAAe,GAAG,EAAxB;AACAtB,IAAAA,IAAI,CAACuB,OAAL,CAAcC,YAAD,IAAkB;AAC7B,UAAIA,YAAY,CAAC7F,UAAb,CAAwB,GAAxB,CAAJ,EAAkC;AAChC0F,QAAAA,YAAY,CAACI,IAAb,CAAkBD,YAAlB;AACD,OAFD,MAEO;AACLF,QAAAA,eAAe,CAACG,IAAhB,CAAqBD,YAArB;AACD;AACF,KAND;AAOA,UAAME,cAAc,GAAGL,YAAY,CAACjB,MAAb,GAAsB,CAA7C;;AACA,QAAIsB,cAAc,IAAIJ,eAAe,CAAClB,MAAhB,GAAyB,CAA/C,EAAkD;AAChD,YAAM,IAAI3C,KAAJ,CACH;AACT;AACA,EAAE6D,eAAe,CAACK,GAAhB,CAAqBzB,GAAD,IAAU,IAAGA,GAAI,GAArC,EAAyC0B,IAAzC,CAA8C,IAA9C,CAAoD;AACtD;AACA,EAAE3E,UAAW,EALD,CAAN;AAOD;;AACD,WAAO;AACLc,MAAAA,IAAI,EAAE,QADD;AAEL2D,MAAAA,cAFK;AAGL/B,MAAAA,kBAAkB,EAAE0B,YAAY,CAACjB,MAAb,KAAwBJ,IAAI,CAACI;AAH5C,KAAP;AAKD;;AACD,MAAI,OAAOpB,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAO;AAAEjB,MAAAA,IAAI,EAAE;AAAR,KAAP;AACD;;AACD,SAAO,EAAP;AACD,CAxCD;;AA0CA,MAAMc,qBAAqB,GAAIV,gBAAD,IAAsB;AAClD,MAAIA,gBAAgB,CAAC,CAAD,CAAhB,KAAwB,GAA5B,EAAiC;AAC/B,UAAM0D,eAAe,GAAG1D,gBAAgB,CAAC2D,OAAjB,CAAyB,GAAzB,CAAxB;;AACA,QAAID,eAAe,KAAK,CAAC,CAAzB,EAA4B;AAC1B,YAAM,IAAIpE,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,UAAMsE,YAAY,GAAG5D,gBAAgB,CAAC3B,KAAjB,CAAuB,CAAvB,EAA0BqF,eAA1B,CAArB;AACA,UAAMG,gBAAgB,GAAG7D,gBAAgB,CAAC2D,OAAjB,CAAyB,GAAzB,EAA8BD,eAA9B,CAAzB;;AACA,QAAIG,gBAAgB,KAAK,CAAC,CAA1B,EAA6B;AAC3B,YAAMrD,WAAW,GAAGR,gBAAgB,CAAC3B,KAAjB,CAAuBqF,eAAvB,CAApB;AACA,aAAO;AACLE,QAAAA,YADK;AAELpD,QAAAA,WAFK;AAGLC,QAAAA,cAAc,EAAE;AAHX,OAAP;AAKD;;AACD,UAAMD,WAAW,GAAGR,gBAAgB,CAAC3B,KAAjB,CAClBqF,eADkB,EAElBG,gBAFkB,CAApB;AAIA,UAAMC,gBAAgB,GAAG9D,gBAAgB,CAAC3B,KAAjB,CAAuBwF,gBAAvB,CAAzB;AACA,UAAMpD,cAAc,GAAI,IAAGqD,gBAAiB,EAA5C;AACA,WAAO;AACLF,MAAAA,YADK;AAELpD,MAAAA,WAFK;AAGLC,MAAAA;AAHK,KAAP;AAKD;;AACD,QAAMiD,eAAe,GAAG1D,gBAAgB,CAAC2D,OAAjB,CAAyB,GAAzB,CAAxB;;AACA,MAAID,eAAe,KAAK,CAAC,CAAzB,EAA4B;AAC1B,WAAO;AACLlD,MAAAA,WAAW,EAAER,gBADR;AAELS,MAAAA,cAAc,EAAE;AAFX,KAAP;AAID;;AACD,QAAMD,WAAW,GAAGR,gBAAgB,CAAC3B,KAAjB,CAAuB,CAAvB,EAA0BqF,eAA1B,CAApB;AACA,QAAMK,eAAe,GAAG/D,gBAAgB,CAAC3B,KAAjB,CAAuBqF,eAAvB,CAAxB;AACA,QAAMjD,cAAc,GAAI,QAAOsD,eAAgB,EAA/C;AACA,SAAO;AACLvD,IAAAA,WADK;AAELC,IAAAA;AAFK,GAAP;AAID,CA1CD;;AA4CA,MAAMY,yBAAyB,GAAG,CAAC;AAAER,EAAAA,OAAF;AAAWK,EAAAA;AAAX,CAAD,KAA8B;AAC9D,MAAIA,WAAW,CAACtB,IAAZ,KAAqB,OAArB,IAAgCsB,WAAW,CAACtB,IAAZ,KAAqB,QAAzD,EAAmE;AACjE,WAAOiB,OAAP;AACD;;AACD,MAAIK,WAAW,CAACtB,IAAZ,KAAqB,QAAzB,EAAmC;AACjC,QAAIsB,WAAW,CAACqC,cAAhB,EAAgC;AAC9B,aAAO1C,OAAO,CAAC,GAAD,CAAd;AACD;;AACD,WAAOA,OAAP;AACD;;AACD,SAAOC,SAAP;AACD,CAXD;;AAaA,MAAMqB,kBAAkB,GAAG,CAAC6B,IAAD,EAAOC,IAAP,KAAgB;AACzC,MAAI,CAACD,IAAI,CAAClG,QAAL,CAAc,GAAd,CAAD,IAAuB,CAACkG,IAAI,CAACE,QAAL,CAAc,GAAd,CAA5B,EAAgD;AAC9C,UAAM,IAAI5E,KAAJ,CAAU,+BAAV,CAAN;AACD;;AACD,MAAI,CAAC2E,IAAI,CAACnG,QAAL,CAAc,GAAd,CAAD,IAAuB,CAACmG,IAAI,CAACC,QAAL,CAAc,GAAd,CAA5B,EAAgD;AAC9C,UAAM,IAAI5E,KAAJ,CAAU,+BAAV,CAAN;AACD;;AACD,QAAM6E,UAAU,GAAGH,IAAI,CAACL,OAAL,CAAa,GAAb,CAAnB;AACA,QAAMS,WAAW,GAAGD,UAAU,GAAG,CAAC,CAAd,GAAkBA,UAAU,GAAG,CAA/B,GAAmCH,IAAI,CAAC/B,MAA5D;AACA,QAAMoC,UAAU,GAAGJ,IAAI,CAACN,OAAL,CAAa,GAAb,CAAnB;AACA,QAAMW,WAAW,GAAGD,UAAU,GAAG,CAAC,CAAd,GAAkBA,UAAU,GAAG,CAA/B,GAAmCJ,IAAI,CAAChC,MAA5D;;AACA,MAAImC,WAAW,GAAGE,WAAlB,EAA+B;AAC7B,WAAO,CAAC,CAAR;AACD;;AACD,MAAIA,WAAW,GAAGF,WAAlB,EAA+B;AAC7B,WAAO,CAAP;AACD;;AACD,MAAID,UAAU,KAAK,CAAC,CAApB,EAAuB;AACrB,WAAO,CAAP;AACD;;AACD,MAAIE,UAAU,KAAK,CAAC,CAApB,EAAuB;AACrB,WAAO,CAAC,CAAR;AACD;;AACD,MAAIL,IAAI,CAAC/B,MAAL,GAAcgC,IAAI,CAAChC,MAAvB,EAA+B;AAC7B,WAAO,CAAC,CAAR;AACD;;AACD,MAAIgC,IAAI,CAAChC,MAAL,GAAc+B,IAAI,CAAC/B,MAAvB,EAA+B;AAC7B,WAAO,CAAP;AACD;;AACD,SAAO,CAAP;AACD,CA9BD;;MCveasC,qBAAqB,GAAI3G,GAAD,IAAS;AAC5C,QAAM4G,aAAa,GAAGC,OAAO,CAACC,QAAR,CAAiBC,IAAjB,CAAuBC,IAAD,IAC1CA,IAAI,CAACpH,UAAL,CAAgB,eAAhB,CADoB,CAAtB;;AAGA,MAAIgH,aAAJ,EAAmB;AACjB,UAAMK,KAAK,GAAGL,aAAa,CAACnG,KAAd,CAAoB,gBAAgB4D,MAApC,CAAd;;AACA,QAAI4C,KAAK,KAAK,QAAd,EAAwB;AACtB,aAAO,QAAP;AACD;;AACD,QAAIA,KAAK,KAAK,UAAd,EAA0B;AACxB,aAAO,UAAP;AACD;AACF;;AACD,QAAMC,SAAS,GAAGC,gBAAgB,CAACnH,GAAD,CAAlC;;AACA,MAAIkH,SAAS,KAAK,MAAlB,EAA0B;AACxB,WAAO,QAAP;AACD;;AACD,MAAIA,SAAS,KAAK,MAAlB,EAA0B;AACxB,WAAO,UAAP;AACD;;AACD,MAAIA,SAAS,KAAK,OAAlB,EAA2B;AACzB,WAAO,MAAP;AACD;;AACD,MAAIA,SAAS,KAAK,KAAlB,EAAyB;AACvB,UAAMhG,UAAU,GAAGL,kBAAkB,CAACb,GAAD,CAArC;;AACA,QAAI,CAACkB,UAAL,EAAiB;AACf,aAAO,UAAP;AACD;;AACD,UAAMmB,WAAW,GAAGpB,eAAe,CAACC,UAAD,CAAnC;;AACA,QAAImB,WAAW,CAACL,IAAZ,KAAqB,QAAzB,EAAmC;AACjC,aAAO,QAAP;AACD;;AACD,WAAO,UAAP;AACD;;AACD,QAAM,IAAIN,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAED,MAAMyF,gBAAgB,GAAInH,GAAD,IAAS;AAChC,QAAM;AAAEO,IAAAA;AAAF,MAAe,IAAIN,GAAJ,CAAQD,GAAR,CAArB;AACA,QAAMU,cAAc,GAAGH,QAAQ,CAACI,WAAT,CAAqB,GAArB,CAAvB;AACA,QAAMC,QAAQ,GACZF,cAAc,KAAK,CAAC,CAApB,GAAwBH,QAAxB,GAAmCA,QAAQ,CAACE,KAAT,CAAeC,cAAc,GAAG,CAAhC,CADrC;AAEA,QAAM0G,YAAY,GAAGxG,QAAQ,CAACD,WAAT,CAAqB,GAArB,CAArB;AACA,MAAIyG,YAAY,KAAK,CAAC,CAAtB,EAAyB,OAAO,EAAP,CANO;;AAQhC,QAAMF,SAAS,GAAGtG,QAAQ,CAACH,KAAT,CAAe2G,YAAf,CAAlB;AACA,SAAOF,SAAP;AACD,CAVD;;MCrCaG,8BAA8B,GAAG,CAC5CC,OAD4C,EAE5C;AAAEC,EAAAA,mBAAF;AAAuBC,EAAAA;AAAvB,CAF4C,KAGzC;AACH,QAAMC,SAAS,GAAGC,eAAe,CAACJ,OAAD,CAAjC;;AACA,MAAIG,SAAS,IAAIA,SAAS,CAACE,MAAV,EAAjB,EAAqC;AACnC,WAAO;AACLC,MAAAA,KAAK,EAAE,IADF;AAEL5H,MAAAA,GAAG,EAAEsH;AAFA,KAAP;AAID;;AACD,MAAIG,SAAS,IAAIA,SAAS,CAACI,WAAV,EAAjB,EAA0C;AACxC,QAAIN,mBAAJ,EAAyB;AACvB,YAAMO,eAAe,GAAGR,OAAO,CAACpH,QAAR,CAAiB,GAAjB,IAAwB,OAAxB,GAAkC,QAA1D;AACA,YAAM6H,YAAY,GAAI,GAAET,OAAQ,GAAEQ,eAAgB,EAAlD;AACA,YAAME,MAAM,GAAGX,8BAA8B,CAACU,YAAD,EAAe;AAC1DR,QAAAA,mBAAmB,EAAE,KADqC;AAE1DC,QAAAA;AAF0D,OAAf,CAA7C;AAIA,aAAO;AACLD,QAAAA,mBAAmB,EAAE,IADhB;AAEL,WAAGS;AAFE,OAAP;AAID;;AACD,WAAO;AACLH,MAAAA,WAAW,EAAE,IADR;AAELD,MAAAA,KAAK,EAAE,KAFF;AAGL5H,MAAAA,GAAG,EAAEsH;AAHA,KAAP;AAKD;;AACD,QAAMW,uBAAuB,GAAGC,0BAA0B,CACxDZ,OADwD,EAExDE,eAFwD,CAA1D,CA3BG;;AAgCH,MAAIS,uBAAuB,KAAK,IAAhC,EAAsC;AACpC,WAAO;AACLL,MAAAA,KAAK,EAAE,KADF;AAEL5H,MAAAA,GAAG,EAAEsH;AAFA,KAAP;AAID,GArCE;;;AAuCH,SAAO;AACLa,IAAAA,cAAc,EAAEF,uBADX;AAELL,IAAAA,KAAK,EAAE,IAFF;AAGL5H,IAAAA,GAAG,EAAG,GAAEsH,OAAQ,GAAEW,uBAAwB;AAHrC,GAAP;AAKD;;AAED,MAAMC,0BAA0B,GAAG,CAACZ,OAAD,EAAUE,eAAV,KAA8B;AAC/D,MAAI,CAACA,eAAL,EAAsB;AACpB,WAAO,IAAP;AACD;;AACD,QAAM3F,SAAS,GAAG,IAAI5B,GAAJ,CAAQ,IAAR,EAAcqH,OAAd,EAAuBnH,IAAzC;AACA,QAAMiI,WAAW,GAAG9H,aAAa,CAACgH,OAAD,CAAjC;AACA,QAAMe,sBAAsB,GAAGb,eAAe,CAACT,IAAhB,CAAsBuB,cAAD,IAAoB;AACtE,UAAMC,YAAY,GAAI,GAAE1G,SAAU,GAAEuG,WAAY,GAAEE,cAAe,EAAjE;AACA,UAAME,KAAK,GAAGd,eAAe,CAACa,YAAD,CAA7B;AAGA,WAAOC,KAAK,IAAIA,KAAK,CAACb,MAAN,EAAhB;AACD,GAN8B,CAA/B;AAOA,SAAOU,sBAAP;AACD,CAdD;;AAgBA,MAAMX,eAAe,GAAI1H,GAAD,IAAS;AAC/B,MAAI;AACF,WAAOyI,iBAAS,CAAC,IAAIxI,GAAJ,CAAQD,GAAR,CAAD,CAAhB;AACD,GAFD,CAEE,OAAOK,CAAP,EAAU;AACV,QAAIA,CAAC,CAACqI,IAAF,KAAW,QAAf,EAAyB;AACvB,aAAO,IAAP;AACD;;AACD,UAAMrI,CAAN;AACD;AACF,CATD;;;;;;"
}