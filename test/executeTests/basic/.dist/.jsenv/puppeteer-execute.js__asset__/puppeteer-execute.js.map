{
  "version": 3,
  "file": "puppeteer-execute-template.js",
  "sources": [
    "/node_modules/@jsenv/core/helpers/babel/arrayWithoutHoles/arrayWithoutHoles.js",
    "/node_modules/@jsenv/core/helpers/babel/iterableToArray/iterableToArray.js",
    "/node_modules/@jsenv/core/helpers/babel/nonIterableSpread/nonIterableSpread.js",
    "/node_modules/@jsenv/core/helpers/babel/toConsumableArray/toConsumableArray.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/stackToString.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/cloneCallSite.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/remapSourcePosition.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/remapEvalOrigin.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/remapCallSite.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/source-mapping-url.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/memoizeByHref.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/getOriginalStackString.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/installErrorStackRemapping.js",
    "/node_modules/@jsenv/error-stack-sourcemap/src/installBrowserErrorStackRemapping/installBrowserErrorStackRemapping.js",
    "/node_modules/@jsenv/core/helpers/babel/typeof/typeof.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/assertImportMap.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/hasScheme.js",
    "/node_modules/@jsenv/href/src/hrefToScheme/hrefToScheme.js",
    "/node_modules/@jsenv/href/src/hrefToPathname/hrefToPathname.js",
    "/node_modules/@jsenv/href/src/hrefToOrigin/hrefToOrigin.js",
    "/node_modules/@jsenv/href/src/pathnameToDirname/pathnameToDirname.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/resolveUrl/resolveUrl.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/tryUrlResolution.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/resolveSpecifier/resolveSpecifier.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/applyImportMap/applyImportMap.js",
    "/node_modules/@jsenv/core/helpers/babel/defineProperty/defineProperty.js",
    "/node_modules/@jsenv/core/helpers/babel/objectSpread2/objectSpread2.js",
    "/node_modules/@jsenv/href/src/pathnameToExtension/pathnameToExtension.js",
    "/node_modules/@jsenv/chromium-launcher/node_modules/@jsenv/import-map/src/resolveImport/resolveImport.js",
    "/node_modules/@jsenv/chromium-launcher/src/loadScript.js",
    "/node_modules/@jsenv/chromium-launcher/src/puppeteer-execute-template.js"
  ],
  "sourcesContent": [
    "// eslint-disable-next-line consistent-return\nexport default (arr) => {\n  if (Array.isArray(arr)) {\n    var i = 0\n    var arr2 = new Array(arr.length)\n    for (; i < arr.length; i++) arr2[i] = arr[i]\n    return arr2\n  }\n}\n",
    "// eslint-disable-next-line consistent-return\nexport default (iter) => {\n  if (\n    Symbol.iterator in Object(iter) ||\n    Object.prototype.toString.call(iter) === \"[object Arguments]\"\n  )\n    return Array.from(iter)\n}\n",
    "export default () => {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\")\n}\n",
    "import arrayWithoutHoles from \"../arrayWithoutHoles/arrayWithoutHoles.js\"\nimport iterableToArray from \"../iterableToArray/iterableToArray.js\"\nimport nonIterableSpread from \"../nonIterableSpread/nonIterableSpread.js\"\n\nexport default (arr) => arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread()\n",
    "export const stackToString = ({ stack, error, indent }) => {\n  const name = error.name || \"Error\"\n  const message = error.message || \"\"\n  const stackString = stack.map((callSite) => `\\n${indent}at ${callSite}`).join(\"\")\n\n  return `${name}: ${message}${stackString}`\n}\n",
    "const methods = [\n  \"getColumnNumber\",\n  \"getEvalOrigin\",\n  \"getFileName\",\n  \"getFunction\",\n  \"getFunctionName\",\n  \"getLineNumber\",\n  \"getMethodName\",\n  \"getPosition\",\n  \"getScriptNameOrSourceURL\",\n  \"getThis\",\n  \"getTypeName\",\n  \"isConstructor\",\n  \"isEval\",\n  \"isNative\",\n  \"isToplevel\",\n  \"toString\",\n]\n\nexport const cloneCallSite = (callSite) => {\n  const callSiteClone = {}\n  methods.forEach((name) => {\n    callSiteClone[name] = () => callSite[name]()\n  })\n  callSiteClone.toString = () => callSiteToFunctionCall(callSiteClone)\n\n  return callSiteClone\n}\n\nconst callSiteToFunctionCall = (callSite) => {\n  const fileLocation = callSiteToFileLocation(callSite)\n  const isConstructor = callSite.isConstructor()\n  const isMethodCall = !callSite.isToplevel() && !isConstructor\n\n  if (isMethodCall) {\n    return `${callSiteToMethodCall(callSite)} (${fileLocation})`\n  }\n\n  const functionName = callSite.getFunctionName()\n  if (isConstructor) {\n    return `new ${functionName || \"<anonymous>\"} (${fileLocation})`\n  }\n\n  if (functionName) {\n    return `${functionName} (${fileLocation})`\n  }\n\n  return `${fileLocation}`\n}\n\nconst callSiteToMethodCall = (callSite) => {\n  const functionName = callSite.getFunctionName()\n  const typeName = callSiteToType(callSite)\n\n  if (!functionName) {\n    return `${typeName}.<anonymous>`\n  }\n\n  const methodName = callSite.getMethodName()\n  const as = generateAs({ methodName, functionName })\n\n  if (typeName && !functionName.startsWith(typeName)) {\n    return `${typeName}.${functionName}${as}`\n  }\n\n  return `${functionName}${as}`\n}\n\nconst generateAs = ({ methodName, functionName }) => {\n  if (!methodName) return \"\"\n  if (functionName.indexOf(`.${methodName}`) === functionName.length - methodName.length - 1)\n    return \"\"\n  return ` [as ${methodName}]`\n}\n\nconst callSiteToType = (callSite) => {\n  const typeName = callSite.getTypeName()\n  // Fixes shim to be backward compatible with Node v0 to v4\n  if (typeName === \"[object Object]\") {\n    return \"null\"\n  }\n  return typeName\n}\n\nconst callSiteToFileLocation = (callSite) => {\n  if (callSite.isNative()) return \"native\"\n\n  const sourceFile = callSiteToSourceFile(callSite)\n  const lineNumber = callSite.getLineNumber()\n  if (lineNumber === null) {\n    return sourceFile\n  }\n\n  const columnNumber = callSite.getColumnNumber()\n  if (!columnNumber) {\n    return `${sourceFile}:${lineNumber}`\n  }\n\n  return `${sourceFile}:${lineNumber}:${columnNumber}`\n}\n\nconst callSiteToSourceFile = (callSite) => {\n  const fileName = callSite.getScriptNameOrSourceURL()\n\n  if (fileName) {\n    return fileName\n  }\n\n  // Source code does not originate from a file and is not native, but we\n  // can still get the source position inside the source string, e.g. in\n  // an eval string.\n  if (callSite.isEval()) {\n    return `${callSite.getEvalOrigin()}, <anonymous>`\n  }\n\n  return \"<anonymous>\"\n}\n",
    "export const remapSourcePosition = async ({\n  source,\n  line,\n  column,\n  resolveHref,\n  sourceToSourceMapConsumer,\n  readErrorStack,\n  onFailure,\n}) => {\n  const position = { source, line, column }\n\n  const sourceMapConsumer = await sourceToSourceMapConsumer(source)\n\n  if (!sourceMapConsumer) return position\n\n  try {\n    const originalPosition = sourceMapConsumer.originalPositionFor(position)\n\n    // Only return the original position if a matching line was found. If no\n    // matching line is found then we return position instead, which will cause\n    // the stack trace to print the path and line for the compiled file. It is\n    // better to give a precise location in the compiled file than a vague\n    // location in the original file.\n    const originalSource = originalPosition.source\n\n    if (originalSource === null) return position\n    originalPosition.source = resolveHref({\n      type: \"file-original\",\n      specifier: originalSource,\n    })\n\n    return originalPosition\n  } catch (e) {\n    onFailure(\n      createErrorWhileRemappingPositionFailure({\n        stack: readErrorStack(e),\n        source,\n        line,\n        column,\n      }),\n    )\n    return position\n  }\n}\n\nconst createErrorWhileRemappingPositionFailure = ({ stack, source, line, column }) => {\n  return {\n    code: \"ERROR_WHILE_REMAPPING_POSITION\",\n    message: `error while remapping position.\n--- error stack ---\n${stack}\n--- source ---\n${source}\n--- line ---\n${line}\n--- column ---\n${column}`,\n  }\n}\n",
    "import { remapSourcePosition } from \"./remapSourcePosition.js\"\n\n// Parses code generated by FormatEvalOrigin(), a function inside V8:\n// https://code.google.com/p/v8/source/browse/trunk/src/messages.js\nexport const remapEvalOrigin = async (\n  origin,\n  { resolveHref, sourceToSourceMapConsumer, onFailure },\n) => {\n  // Most eval() calls are in this format\n  const topLevelEvalMatch = /^eval at ([^(]+) \\((.+):(\\d+):(\\d+)\\)$/.exec(origin)\n  if (topLevelEvalMatch) {\n    const source = topLevelEvalMatch[2]\n    const line = Number(topLevelEvalMatch[3])\n    const column = topLevelEvalMatch[4] - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveHref,\n      sourceToSourceMapConsumer,\n      onFailure,\n    })\n    return `eval at ${topLevelEvalMatch[1]} (${originalPosition.source}:${\n      originalPosition.line\n    }:${originalPosition.column + 1})`\n  }\n\n  // Parse nested eval() calls using recursion\n  const nestedEvalMatch = /^eval at ([^(]+) \\((.+)\\)$/.exec(origin)\n  if (nestedEvalMatch) {\n    const originalEvalOrigin = await remapEvalOrigin(nestedEvalMatch[2], {\n      resolveHref,\n      sourceToSourceMapConsumer,\n      onFailure,\n    })\n    return `eval at ${nestedEvalMatch[1]} (${originalEvalOrigin})`\n  }\n\n  // Make sure we still return useful information if we didn't find anything\n  return origin\n}\n",
    "import { cloneCallSite } from \"./cloneCallSite.js\"\nimport { remapSourcePosition } from \"./remapSourcePosition.js\"\nimport { remapEvalOrigin } from \"./remapEvalOrigin.js\"\n\nexport const remapCallSite = async (\n  callSite,\n  { sourceToSourceMapConsumer, resolveHref, readErrorStack, onFailure },\n) => {\n  if (callSite.isNative()) {\n    return callSite\n  }\n\n  // Most call sites will return the source file from getFileName(), but code\n  // passed to eval() ending in \"//# sourceURL=...\" will return the source file\n  // from getScriptNameOrSourceURL() instead\n  const source = callSite.getFileName() || callSite.getScriptNameOrSourceURL()\n  if (source) {\n    const line = callSite.getLineNumber()\n    const column = callSite.getColumnNumber() - 1\n    const originalPosition = await remapSourcePosition({\n      source,\n      line,\n      column,\n      resolveHref,\n      sourceToSourceMapConsumer,\n      readErrorStack,\n      onFailure,\n    })\n\n    const callSiteClone = cloneCallSite(callSite)\n\n    callSiteClone.getFunctionName = () => originalPosition.name || callSite.getFunctionName()\n    callSiteClone.getFileName = () => originalPosition.source\n    callSiteClone.getLineNumber = () => originalPosition.line\n    callSiteClone.getColumnNumber = () => originalPosition.column + 1\n    callSiteClone.getScriptNameOrSourceURL = () => originalPosition.source\n\n    return callSiteClone\n  }\n\n  // Code called using eval() needs special handling\n  if (callSite.isEval()) {\n    const origin = callSite.getEvalOrigin()\n    if (origin) {\n      const callSiteClone = cloneCallSite(callSite)\n      const originalEvalOrigin = await remapEvalOrigin(origin, {\n        resolveHref,\n        sourceToSourceMapConsumer,\n        readErrorStack,\n        onFailure,\n      })\n      callSiteClone.getEvalOrigin = () => originalEvalOrigin\n      return callSiteClone\n    }\n    return callSite\n  }\n\n  // If we get here then we were unable to change the source position\n  return callSite\n}\n",
    "export const writeSourceMappingURL = (source, location) => `${source}\n${\"//#\"} sourceMappingURL=${location}`\n\nexport const updateSourceMappingURL = (source, callback) => {\n  const sourceMappingUrlRegExp = /\\/\\/# ?sourceMappingURL=([^\\s'\"]+)/g\n  let lastSourceMappingUrl\n  let matchSourceMappingUrl\n  while ((matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source))) {\n    lastSourceMappingUrl = matchSourceMappingUrl\n  }\n  if (lastSourceMappingUrl) {\n    const index = lastSourceMappingUrl.index\n    const before = source.slice(0, index)\n    const after = source.slice(index)\n    const mappedAfter = after.replace(sourceMappingUrlRegExp, (match, firstGroup) => {\n      return `${\"//#\"} sourceMappingURL=${callback(firstGroup)}`\n    })\n    return `${before}${mappedAfter}`\n  }\n  return source\n}\n\nexport const readSourceMappingURL = (source) => {\n  let sourceMappingURL\n  updateSourceMappingURL(source, (value) => {\n    sourceMappingURL = value\n  })\n  return sourceMappingURL\n}\n\nexport const parseSourceMappingURL = (source) => {\n  const sourceMappingURL = readSourceMappingURL(source)\n\n  if (!sourceMappingURL) return null\n\n  const base64Prefix = \"data:application/json;charset=utf-8;base64,\"\n  if (sourceMappingURL.startsWith(base64Prefix)) {\n    const mapBase64Source = sourceMappingURL.slice(base64Prefix.length)\n    return {\n      type: \"base64\",\n      value: mapBase64Source,\n    }\n  }\n\n  return {\n    type: \"url\",\n    value: sourceMappingURL,\n  }\n}\n\nexport const writeOrUpdateSourceMappingURL = (source, location) => {\n  if (readSourceMappingURL(source)) {\n    return updateSourceMappingURL(source, location)\n  }\n  return writeSourceMappingURL(source, location)\n}\n",
    "export const memoizeByHref = (fn) => {\n  const hrefCache = {}\n  return (href) => {\n    if (href in hrefCache) return hrefCache[href]\n    const value = fn(href)\n    hrefCache[href] = value\n    return value\n  }\n}\n",
    "import { remapCallSite } from \"./remapCallSite.js\"\nimport { parseSourceMappingURL } from \"./source-mapping-url.js\"\nimport { memoizeByHref } from \"./memoizeByHref.js\"\nimport { stackToString } from \"./stackToString.js\"\n\nexport const generateOriginalStackString = async ({\n  stack,\n  error,\n  resolveHref,\n  fetchHref,\n  SourceMapConsumer,\n  base64ToString,\n  indent,\n  readErrorStack,\n  onFailure,\n}) => {\n  const sourceToSourceMapConsumer = memoizeByHref(async (path) => {\n    try {\n      const href = resolveHref({ type: \"file-compiled\", specifier: path })\n      let text\n      try {\n        const fileResponse = await fetchHref(href)\n        const { status } = fileResponse\n        if (status !== 200) {\n          if (status === 404) {\n            onFailure(\n              createCompiledFileNotFoundFailure({\n                href,\n              }),\n            )\n          } else {\n            onFailure(\n              createUnexpectedCompiledFileResponseFailure({\n                status,\n                responseText: await fileResponse.text(),\n                href,\n              }),\n            )\n          }\n          return null\n        }\n        text = await fileResponse.text()\n      } catch (e) {\n        onFailure(\n          createErrorWhileFetchingCompiledFileFailure({\n            fetchErrorStack: readErrorStack(e),\n            href,\n          }),\n        )\n        return null\n      }\n\n      const sourceMappingURL = parseSourceMappingURL(text)\n      if (!sourceMappingURL) return null\n\n      let sourceMapHref\n      let sourceMapString\n      if (sourceMappingURL.type === \"base64\") {\n        sourceMapHref = href\n        sourceMapString = base64ToString(sourceMappingURL.value)\n      } else {\n        sourceMapHref = resolveHref({\n          type: \"source-map\",\n          specifier: sourceMappingURL.value,\n          importer: href,\n        })\n\n        try {\n          const sourceMapResponse = await fetchHref(sourceMapHref)\n          const { status } = sourceMapResponse\n          if (status !== 200) {\n            if (status === 404) {\n              onFailure(createSourceMapNotFoundFailure({ href: sourceMapHref }))\n            } else {\n              onFailure(\n                createUnexpectedSourceMapResponseFailure({\n                  status,\n                  responseText: await sourceMapResponse.text(),\n                  href: sourceMapHref,\n                }),\n              )\n            }\n            return null\n          }\n          sourceMapString = await sourceMapResponse.text()\n        } catch (e) {\n          onFailure(\n            createErrorWhileFetchingSourceMapFailure({\n              fetchErrorStack: readErrorStack(e),\n              href: sourceMapHref,\n            }),\n          )\n          return null\n        }\n      }\n\n      let sourceMap\n      try {\n        sourceMap = JSON.parse(sourceMapString)\n      } catch (e) {\n        onFailure(\n          createErrorWhileParsingSourceMapFailure({\n            parseErrorStack: readErrorStack(e),\n            href: sourceMapHref,\n          }),\n        )\n        return null\n      }\n\n      let { sourcesContent } = sourceMap\n\n      if (!sourcesContent) {\n        sourcesContent = []\n        sourceMap.sourcesContent = sourcesContent\n      }\n\n      let firstSourceMapSourceFailure = null\n\n      await Promise.all(\n        sourceMap.sources.map(async (source, index) => {\n          if (index in sourcesContent) return\n\n          const sourceMapSourceHref = resolveHref({\n            type: \"source\",\n            specifier: source,\n            importer: sourceMapHref,\n          })\n          try {\n            const sourceResponse = await fetchHref(sourceMapSourceHref)\n            const { status } = sourceResponse\n            if (status !== 200) {\n              if (firstSourceMapSourceFailure) return\n\n              if (status === 404) {\n                firstSourceMapSourceFailure = createSourceMapSourceNotFoundFailure({\n                  sourceMapHref,\n                  sourceMapSourceHref,\n                })\n                return\n              }\n              firstSourceMapSourceFailure = createUnexpectedSourceMapSourceResponseFailure({\n                status,\n                responseText: await sourceResponse.text(),\n                sourceMapHref,\n                sourceMapSourceHref,\n              })\n              return\n            }\n\n            const sourceString = await sourceResponse.text()\n            sourcesContent[index] = sourceString\n          } catch (e) {\n            if (firstSourceMapSourceFailure) return\n            firstSourceMapSourceFailure = createErrorWhileFetchingSourceMapSourceFailure({\n              fetchErrorStack: readErrorStack(e),\n              sourceMapHref,\n              sourceMapSourceHref,\n            })\n          }\n        }),\n      )\n\n      if (firstSourceMapSourceFailure) {\n        onFailure(firstSourceMapSourceFailure)\n        return null\n      }\n\n      return new SourceMapConsumer(sourceMap)\n    } catch (e) {\n      onFailure(\n        createErrorWhilePreparingSourceMapConsumerFailure({\n          errorStack: readErrorStack(e),\n          path,\n        }),\n      )\n      return null\n    }\n  })\n\n  try {\n    const originalStack = await Promise.all(\n      stack.map((callSite) =>\n        remapCallSite(callSite, {\n          resolveHref,\n          sourceToSourceMapConsumer,\n          readErrorStack,\n          onFailure,\n        }),\n      ),\n    )\n    return stackToString({ stack: originalStack, error, indent })\n  } catch (e) {\n    const unmappedStack = stackToString({ stack, error, indent })\n    onFailure(\n      createErrorWhileComputingOriginalStackFailure({\n        errorWhileComputingStack: readErrorStack(e),\n        errorStack: unmappedStack,\n      }),\n    )\n    // in case of error return the non remapped stack\n    return unmappedStack\n  }\n}\n\nconst createCompiledFileNotFoundFailure = ({ href }) => {\n  return {\n    code: \"COMPILED_FILE_NOT_FOUND\",\n    message: `compiled file not found.\n--- compiled file href ---\n${href}`,\n  }\n}\n\nconst createUnexpectedCompiledFileResponseFailure = ({ status, responseText, href }) => {\n  return {\n    code: \"UNEXPECTED_COMPILED_FILE_RESPONSE\",\n    message: `compiled file unexpected response.\n--- response status ---\n${status}\n--- response text ---\n${responseText}\n--- compiled file href ---\n${href}`,\n  }\n}\n\nconst createErrorWhileFetchingCompiledFileFailure = ({ fetchErrorStack, href }) => {\n  return {\n    code: \"ERROR_WHILE_FETCHING_COMPILED_FILE\",\n    message: `error while fetching compiled file.\n--- fetch error stack ---\n${fetchErrorStack}\n--- compiled file href ---\n${href}`,\n  }\n}\n\nconst createSourceMapNotFoundFailure = ({ href }) => {\n  return {\n    code: \"SOURCE_MAP_NOT_FOUND_FAILURE\",\n    message: `sourcemap file not found.\n--- sourceMap href ---\n${href}`,\n  }\n}\n\nconst createUnexpectedSourceMapResponseFailure = ({ status, responseText, href }) => {\n  return {\n    code: \"UNEXPECTED_SOURCE_MAP_RESPONSE\",\n    message: `unexpected response for sourcemap file.\n--- response status ---\n${status}\n--- response text ---\n${responseText}\n--- sourceMap href ---\n${href}`,\n  }\n}\n\nconst createErrorWhileFetchingSourceMapFailure = ({ fetchErrorStack, href }) => {\n  return {\n    code: \"ERROR_WHILE_FETCHING_SOURCE_MAP\",\n    message: `error while fetching sourcemap.\n--- fetch error stack ---\n${fetchErrorStack}\n--- sourceMap href ---\n${href}`,\n  }\n}\n\nconst createErrorWhileParsingSourceMapFailure = ({ parseErrorStack, href }) => {\n  return {\n    code: \"ERROR_WHILE_PARSING_SOURCE_MAP\",\n    message: `error while parsing sourcemap.\n--- parse error stack ---\n${parseErrorStack}\n--- sourceMap href ---\n${href}`,\n  }\n}\n\nconst createSourceMapSourceNotFoundFailure = ({ sourceMapSourceHref, sourceMapHref }) => {\n  return {\n    code: \"SOURCE_MAP_SOURCE_NOT_FOUND\",\n    message: `sourcemap source not found.\n--- sourcemap source href ---\n${sourceMapSourceHref}\n--- sourcemap href ---\n${sourceMapHref}`,\n  }\n}\n\nconst createUnexpectedSourceMapSourceResponseFailure = ({\n  status,\n  responseText,\n  sourceMapSourceHref,\n  sourceMapHref,\n}) => {\n  return {\n    code: \"UNEXPECTED_SOURCE_MAP_SOURCE_RESPONSE\",\n    message: `unexpected response for sourcemap source.\n--- response status ---\n${status}\n--- response text ---\n${responseText}\n--- sourceMap source href ---\n${sourceMapSourceHref}\n--- sourceMap href ---\n${sourceMapHref}`,\n  }\n}\n\nconst createErrorWhileFetchingSourceMapSourceFailure = ({\n  fetchErrorStack,\n  sourceMapSourceHref,\n  sourceMapHref,\n}) => {\n  return {\n    code: \"ERROR_WHILE_FETCHING_SOURCE_MAP_SOURCE\",\n    message: `error while fetching sourcemap source.\n--- fetch error stack ---\n${fetchErrorStack}\n--- sourceMap source href ---\n${sourceMapSourceHref}\n--- sourceMap href ---\n${sourceMapHref}`,\n  }\n}\n\nconst createErrorWhilePreparingSourceMapConsumerFailure = ({ errorStack, path }) => {\n  return {\n    code: \"ERROR_WHILE_PREPARING_SOURCEMAP_CONSUMER\",\n    message: `error while preparing sourceMap consumer.\n--- error stack ---\n${errorStack}\n--- source path ---\n${path}`,\n  }\n}\n\nconst createErrorWhileComputingOriginalStackFailure = ({\n  errorWhileComputingStack,\n  errorStack,\n}) => {\n  return {\n    code: \"ERROR_WHILE_COMPUTING_ORIGINAL_STACK\",\n    message: `error while computing original stack.\n--- stack from error while computing ---\n${errorWhileComputingStack}\n--- stack from error to remap ---\n${errorStack}`,\n  }\n}\n",
    "import { stackToString } from \"./stackToString.js\"\nimport { generateOriginalStackString } from \"./getOriginalStackString.js\"\n\nexport const installErrorStackRemapping = ({\n  resolveHref,\n  fetchHref,\n  SourceMapConsumer,\n  base64ToString,\n  indent = \"  \",\n}) => {\n  if (typeof resolveHref !== \"function\") {\n    throw new TypeError(`resolveHref must be a function, got ${resolveHref}`)\n  }\n  if (typeof fetchHref !== \"function\") {\n    throw new TypeError(`fetchHref must be a function, got ${fetchHref}`)\n  }\n  if (typeof base64ToString !== \"function\") {\n    throw new TypeError(`base64ToString must be a function, got ${base64ToString}`)\n  }\n  if (typeof SourceMapConsumer !== \"function\") {\n    throw new TypeError(`sourceMapConsumer must be a function, got ${SourceMapConsumer}`)\n  }\n  if (typeof indent !== \"string\") {\n    throw new TypeError(`indent must be a string, got ${indent}`)\n  }\n\n  const errorOriginalStackStringCache = new WeakMap()\n  const errorRemapFailureCallbackMap = new WeakMap()\n\n  let installed = false\n  const previousPrepareStackTrace = Error.prepareStackTrace\n  const install = () => {\n    if (installed) return\n    installed = true\n    Error.prepareStackTrace = prepareStackTrace\n  }\n\n  const uninstall = () => {\n    if (!installed) return\n    installed = false\n    Error.prepareStackTrace = previousPrepareStackTrace\n  }\n\n  // ensure we do not use prepareStackTrace for thoose error\n  // otherwise we would recursively remap error stack\n  // and if the reason causing the failure is still here\n  // it would create an infinite loop\n  const readErrorStack = (error) => {\n    uninstall()\n    const stack = error.stack\n    install()\n    return stack\n  }\n\n  const prepareStackTrace = (error, stack) => {\n    const onFailure = (failureData) => {\n      const failureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (failureCallbackArray) {\n        failureCallbackArray.forEach((callback) => callback(failureData))\n      }\n    }\n\n    const originalStackStringPromise = generateOriginalStackString({\n      stack,\n      error,\n      resolveHref,\n      fetchHref: memoizeFetch(fetchHref),\n      SourceMapConsumer,\n      base64ToString,\n      readErrorStack,\n      indent,\n      onFailure,\n    })\n    errorOriginalStackStringCache.set(error, originalStackStringPromise)\n\n    return stackToString({ stack, error, indent })\n  }\n\n  const getErrorOriginalStackString = async (\n    error,\n    {\n      onFailure = ({ message }) => {\n        console.warn(message)\n      },\n    } = {},\n  ) => {\n    if (onFailure) {\n      const remapFailureCallbackArray = errorRemapFailureCallbackMap.get(error)\n      if (remapFailureCallbackArray) {\n        errorRemapFailureCallbackMap.set(error, [...remapFailureCallbackArray, onFailure])\n      } else {\n        errorRemapFailureCallbackMap.set(error, [onFailure])\n      }\n    }\n\n    // ensure Error.prepareStackTrace gets triggered by reading error.stack now\n    const { stack } = error\n    const promise = errorOriginalStackStringCache.get(error)\n\n    if (promise) {\n      const originalStack = await promise\n      errorRemapFailureCallbackMap.get(error)\n      return originalStack\n    }\n\n    return stack\n  }\n\n  install()\n\n  return { getErrorOriginalStackString, uninstall }\n}\n\nconst memoizeFetch = (fetchHref) => {\n  const hrefCache = {}\n  return async (href) => {\n    if (href in hrefCache) {\n      return hrefCache[href]\n    }\n    const responsePromise = fetchHref(href)\n    hrefCache[href] = responsePromise\n    return responsePromise\n  }\n}\n",
    "import { installErrorStackRemapping } from \"../installErrorStackRemapping.js\"\n\nexport const installBrowserErrorStackRemapping = ({\n  resolveHref,\n  SourceMapConsumer,\n  indent,\n} = {}) =>\n  installErrorStackRemapping({\n    resolveHref,\n    fetchHref,\n    SourceMapConsumer,\n    base64ToString,\n    indent,\n  })\n\nconst fetchHref = async (href) => {\n  const response = await fetch(href)\n  const text = await response.text()\n  return {\n    status: response.status,\n    // because once memoized fetch\n    // gets annoying preventing you to read\n    // body multiple times, even using response.clone()\n    text: () => text,\n  }\n}\n\nconst base64ToString = (base64String) => window.btoa(base64String)\n",
    "const nativeTypeOf = (obj) => typeof obj\n\nconst customTypeOf = (obj) => {\n  return obj &&\n    typeof Symbol === \"function\" &&\n    obj.constructor === Symbol &&\n    obj !== Symbol.prototype\n    ? \"symbol\"\n    : typeof obj\n}\n\nexport default typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? nativeTypeOf\n  : customTypeOf\n",
    "export const assertImportMap = (value) => {\n  if (value === null) {\n    throw new TypeError(`an importMap must be an object, got null`)\n  }\n\n  const type = typeof value\n  if (type !== \"object\") {\n    throw new TypeError(`an importMap must be an object, received ${value}`)\n  }\n\n  if (Array.isArray(value)) {\n    throw new TypeError(`an importMap must be an object, received array ${value}`)\n  }\n}\n",
    "export const hasScheme = (string) => {\n  return /^[a-zA-Z]{2,}:/.test(string)\n}\n",
    "export const hrefToScheme = (href) => {\n  const colonIndex = href.indexOf(\":\")\n  if (colonIndex === -1) return \"\"\n  return href.slice(0, colonIndex)\n}\n",
    "import { hrefToScheme } from \"../hrefToScheme/hrefToScheme.js\"\n\nexport const hrefToPathname = (href) => {\n  return ressourceToPathname(hrefToRessource(href))\n}\n\nconst hrefToRessource = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return href.slice(\"file://\".length)\n  }\n\n  if (scheme === \"https\" || scheme === \"http\") {\n    // remove origin\n    const afterProtocol = href.slice(scheme.length + \"://\".length)\n    const pathnameSlashIndex = afterProtocol.indexOf(\"/\", \"://\".length)\n    return afterProtocol.slice(pathnameSlashIndex)\n  }\n\n  return href.slice(scheme.length + 1)\n}\n\nconst ressourceToPathname = (ressource) => {\n  const searchSeparatorIndex = ressource.indexOf(\"?\")\n  return searchSeparatorIndex === -1 ? ressource : ressource.slice(0, searchSeparatorIndex)\n}\n",
    "import { hrefToScheme } from \"../hrefToScheme/hrefToScheme.js\"\n\nexport const hrefToOrigin = (href) => {\n  const scheme = hrefToScheme(href)\n\n  if (scheme === \"file\") {\n    return \"file://\"\n  }\n\n  if (scheme === \"http\" || scheme === \"https\") {\n    const secondProtocolSlashIndex = scheme.length + \"://\".length\n    const pathnameSlashIndex = href.indexOf(\"/\", secondProtocolSlashIndex)\n\n    if (pathnameSlashIndex === -1) return href\n    return href.slice(0, pathnameSlashIndex)\n  }\n\n  return href.slice(0, scheme.length + 1)\n}\n",
    "export const pathnameToDirname = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex === -1) return \"\"\n\n  return pathname.slice(0, slashLastIndex)\n}\n",
    "// could be useful: https://url.spec.whatwg.org/#url-miscellaneous\n\nimport { hasScheme } from \"../hasScheme.js\"\nimport { hrefToScheme } from \"@jsenv/href/src/hrefToScheme/hrefToScheme.js\"\nimport { hrefToPathname } from \"@jsenv/href/src/hrefToPathname/hrefToPathname.js\"\nimport { hrefToOrigin } from \"@jsenv/href/src/hrefToOrigin/hrefToOrigin.js\"\nimport { pathnameToDirname } from \"@jsenv/href/src/pathnameToDirname/pathnameToDirname.js\"\n\nexport const resolveUrl = (specifier, baseUrl) => {\n  if (baseUrl) {\n    if (typeof baseUrl !== \"string\") {\n      throw new TypeError(writeBaseUrlMustBeAString({ baseUrl, specifier }))\n    }\n    if (!hasScheme(baseUrl)) {\n      throw new Error(writeBaseUrlMustBeAbsolute({ baseUrl, specifier }))\n    }\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  if (!baseUrl) {\n    throw new Error(writeBaseUrlRequired({ baseUrl, specifier }))\n  }\n\n  // scheme relative\n  if (specifier.slice(0, 2) === \"//\") {\n    return `${hrefToScheme(baseUrl)}:${specifier}`\n  }\n\n  // origin relative\n  if (specifier[0] === \"/\") {\n    return `${hrefToOrigin(baseUrl)}${specifier}`\n  }\n\n  const baseOrigin = hrefToOrigin(baseUrl)\n  const basePathname = hrefToPathname(baseUrl)\n\n  // pathname relative inside\n  if (specifier.slice(0, 2) === \"./\") {\n    const baseDirname = pathnameToDirname(basePathname)\n    return `${baseOrigin}${baseDirname}/${specifier.slice(2)}`\n  }\n\n  // pathname relative outside\n  if (specifier.slice(0, 3) === \"../\") {\n    let unresolvedPathname = specifier\n    const importerFolders = basePathname.split(\"/\")\n    importerFolders.pop()\n\n    while (unresolvedPathname.slice(0, 3) === \"../\") {\n      // when there is no folder left to resolved\n      // we just ignore '../'\n      if (importerFolders.length) {\n        importerFolders.pop()\n      }\n      unresolvedPathname = unresolvedPathname.slice(3)\n    }\n\n    const resolvedPathname = `${importerFolders.join(\"/\")}/${unresolvedPathname}`\n    return `${baseOrigin}${resolvedPathname}`\n  }\n\n  // bare\n  if (basePathname === \"\") {\n    return `${baseOrigin}/${specifier}`\n  }\n  if (basePathname[basePathname.length] === \"/\") {\n    return `${baseOrigin}${basePathname}${specifier}`\n  }\n  return `${baseOrigin}${pathnameToDirname(basePathname)}/${specifier}`\n}\n\nconst writeBaseUrlMustBeAString = ({ baseUrl, specifier }) => `baseUrl must be a string.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlMustBeAbsolute = ({ baseUrl, specifier }) => `baseUrl must be absolute.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n\nconst writeBaseUrlRequired = ({\n  baseUrl,\n  specifier,\n}) => `baseUrl required to resolve relative specifier.\n--- base url ---\n${baseUrl}\n--- specifier ---\n${specifier}`\n",
    "import { hasScheme } from \"./hasScheme.js\"\nimport { resolveUrl } from \"./resolveUrl/resolveUrl.js\"\n\nexport const tryUrlResolution = (string, url) => {\n  const result = resolveUrl(string, url)\n  return hasScheme(result) ? result : null\n}\n",
    "import { hasScheme } from \"../hasScheme.js\"\nimport { resolveUrl } from \"../resolveUrl/resolveUrl.js\"\n\nexport const resolveSpecifier = (specifier, importer) => {\n  if (specifier[0] === \"/\" || specifier.startsWith(\"./\") || specifier.startsWith(\"../\")) {\n    return resolveUrl(specifier, importer)\n  }\n\n  if (hasScheme(specifier)) {\n    return specifier\n  }\n\n  return null\n}\n",
    "import { assertImportMap } from \"../assertImportMap.js\"\nimport { hasScheme } from \"../hasScheme.js\"\nimport { tryUrlResolution } from \"../tryUrlResolution.js\"\nimport { resolveSpecifier } from \"../resolveSpecifier/resolveSpecifier.js\"\n\nexport const applyImportMap = ({ importMap, specifier, importer }) => {\n  assertImportMap(importMap)\n  if (typeof specifier !== \"string\") {\n    throw new TypeError(writeSpecifierMustBeAString({ specifier, importer }))\n  }\n  if (importer) {\n    if (typeof importer !== \"string\") {\n      throw new TypeError(writeImporterMustBeAString({ importer, specifier }))\n    }\n    if (!hasScheme(importer)) {\n      throw new Error(writeImporterMustBeAbsolute({ importer, specifier }))\n    }\n  }\n\n  const specifierUrl = resolveSpecifier(specifier, importer)\n  const specifierNormalized = specifierUrl || specifier\n\n  const { scopes } = importMap\n  if (scopes && importer) {\n    const scopeKeyMatching = Object.keys(scopes).find((scopeKey) => {\n      return scopeKey === importer || specifierIsPrefixOf(scopeKey, importer)\n    })\n    if (scopeKeyMatching) {\n      const scopeValue = scopes[scopeKeyMatching]\n      const remappingFromScopeImports = applyImports(specifierNormalized, scopeValue)\n      if (remappingFromScopeImports !== null) {\n        return remappingFromScopeImports\n      }\n    }\n  }\n\n  const { imports } = importMap\n  if (imports) {\n    const remappingFromImports = applyImports(specifierNormalized, imports)\n    if (remappingFromImports !== null) {\n      return remappingFromImports\n    }\n  }\n\n  if (specifierUrl) {\n    return specifierUrl\n  }\n\n  throw new Error(writeBareSpecifierMustBeRemapped({ specifier, importer }))\n}\n\nconst applyImports = (specifier, imports) => {\n  const importKeyArray = Object.keys(imports)\n\n  let i = 0\n  while (i < importKeyArray.length) {\n    const importKey = importKeyArray[i]\n    i++\n    if (importKey === specifier) {\n      const importValue = imports[importKey]\n      return importValue\n    }\n    if (specifierIsPrefixOf(importKey, specifier)) {\n      const importValue = imports[importKey]\n      const afterImportKey = specifier.slice(importKey.length)\n\n      return tryUrlResolution(afterImportKey, importValue)\n    }\n  }\n\n  return null\n}\n\nconst specifierIsPrefixOf = (specifierHref, href) => {\n  return specifierHref[specifierHref.length - 1] === \"/\" && href.startsWith(specifierHref)\n}\n\nconst writeSpecifierMustBeAString = ({ specifier, importer }) => `specifier must be a string.\n--- specifier ---\n${specifier}\n--- importer ---\n${importer}`\n\nconst writeImporterMustBeAString = ({ importer, specifier }) => `importer must be a string.\n--- importer ---\n${importer}\n--- specifier ---\n${specifier}`\n\nconst writeImporterMustBeAbsolute = ({ importer, specifier }) => `importer must be an absolute url.\n--- importer ---\n${importer}\n--- specifier ---\n${specifier}`\n\nconst writeBareSpecifierMustBeRemapped = ({ specifier, importer }) => `Unmapped bare specifier.\n--- specifier ---\n${specifier}\n--- importer ---\n${importer}`\n",
    "export default (obj, key, value) => {\n  // Shortcircuit the slow defineProperty path when possible.\n  // We are trying to avoid issues where setters defined on the\n  // prototype cause side effects under the fast path of simple\n  // assignment. By checking for existence of the property with\n  // the in operator, we can optimize most of this overhead away.\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n",
    "import defineProperty from \"../defineProperty/defineProperty.js\"\n\nexport default function(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    var source = arguments[i] === null ? {} : arguments[i]\n    if (i % 2) {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(source, true).forEach(function(key) {\n        defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      // eslint-disable-next-line no-loop-func\n      ownKeys(source).forEach(function(key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\n// This function is different to \"Reflect.ownKeys\". The enumerableOnly\n// filters on symbol properties only. Returned string properties are always\n// enumerable. It is good to use in objectSpread.\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly)\n      symbols = symbols.filter(function(sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    // eslint-disable-next-line prefer-spread\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n",
    "export const pathnameToExtension = (pathname) => {\n  const slashLastIndex = pathname.lastIndexOf(\"/\")\n  if (slashLastIndex !== -1) {\n    pathname = pathname.slice(slashLastIndex + 1)\n  }\n\n  const dotLastIndex = pathname.lastIndexOf(\".\")\n  if (dotLastIndex === -1) return \"\"\n  // if (dotLastIndex === pathname.length - 1) return \"\"\n  return pathname.slice(dotLastIndex)\n}\n",
    "// directly target the files because this code\n// will be executed either on node or browser\n// and also we don't want to pull more code than necessary\n// when this one gets bundled\nimport { hrefToPathname } from \"@jsenv/href/src/hrefToPathname/hrefToPathname.js\"\nimport { pathnameToExtension } from \"@jsenv/href/src/pathnameToExtension/pathnameToExtension.js\"\nimport { resolveUrl } from \"../resolveUrl/resolveUrl.js\"\nimport { applyImportMap } from \"../applyImportMap/applyImportMap.js\"\n\nexport const resolveImport = ({ specifier, importer, importMap, defaultExtension = true }) => {\n  return applyDefaultExtension({\n    url: importMap\n      ? applyImportMap({ importMap, specifier, importer })\n      : resolveUrl(specifier, importer),\n    importer,\n    defaultExtension,\n  })\n}\n\nconst applyDefaultExtension = ({ url, importer, defaultExtension }) => {\n  if (typeof defaultExtension === \"string\") {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\") {\n      return `${url}${defaultExtension}`\n    }\n    return url\n  }\n\n  if (defaultExtension === true) {\n    const extension = pathnameToExtension(url)\n    if (extension === \"\" && importer) {\n      const importerPathname = hrefToPathname(importer)\n      const importerExtension = pathnameToExtension(importerPathname)\n      return `${url}${importerExtension}`\n    }\n  }\n  return url\n}\n",
    "// explicitely get the file to pull exactly what is required\n// to get hrefToOrigin\nimport { hrefToOrigin } from \"@jsenv/href/src/hrefToOrigin/hrefToOrigin.js\"\n\nexport const loadScript = async (url) => {\n  const { status, body } = await fetchUsingXhr(url)\n  if (status >= 200 && status <= 299) {\n    // eslint-disable-next-line no-eval\n    window.eval(appendSourceURL(body, url))\n  } else {\n    throw new Error(createUnexpectedScriptResponseMessage({ url, status, body }))\n  }\n}\n\nconst appendSourceURL = (code, sourceURL) => {\n  return `${code}\n${\"//#\"} sourceURL=${sourceURL}`\n}\n\nconst createUnexpectedScriptResponseMessage = ({\n  url,\n  status,\n  body,\n}) => `Unexpected response for script.\n--- script url ---\n${url}\n--- response body ---\n${body}\n--- response status ---\n${status}`\n\nconst fetchUsingXhr = (url, { credentials = \"same-origin\", headers = {} } = {}) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    const cleanup = () => {\n      xhr.ontimeout = null\n      xhr.onerror = null\n      xhr.onload = null\n      xhr.onreadystatechange = null\n    }\n\n    xhr.ontimeout = () => {\n      cleanup()\n      reject(createRequestTimeoutError({ url }))\n    }\n\n    xhr.onerror = (error) => {\n      cleanup()\n      if (typeof window.ProgressEvent === \"function\" && error instanceof ProgressEvent) {\n        // unfortunately with have no clue why it fails\n        // might be cors for instance\n        reject(createRequestError({ url }))\n      } else {\n        reject(error)\n      }\n    }\n\n    xhr.onload = () => {\n      cleanup()\n      if (xhr.status === 0) {\n        resolve({\n          ...normalizeXhr(xhr),\n          status: 200,\n        })\n      } else {\n        resolve(normalizeXhr(xhr))\n      }\n    }\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState !== 4) {\n        return\n      }\n\n      // in Chrome on file:/// URLs, status is 0\n      if (xhr.status === 0) {\n        if (xhr.responseText) {\n          xhr.onload()\n        }\n        return\n      }\n\n      cleanup()\n      resolve(normalizeXhr(xhr))\n    }\n\n    xhr.open(\"GET\", url, true)\n    Object.keys(headers).forEach((key) => {\n      xhr.setRequestHeader(key, headers[key])\n    })\n    xhr.withCredentials = computeWithCredentials({ credentials, url })\n\n    xhr.send(null)\n  })\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst computeWithCredentials = ({ credentials, url }) => {\n  if (credentials === \"same-origin\") {\n    return originSameAsGlobalOrigin(url)\n  }\n  return credentials === \"include\"\n}\n\nconst originSameAsGlobalOrigin = (url) => {\n  // if we cannot read globalOrigin from window.location.origin, let's consider it's ok\n  if (typeof window !== \"object\") return true\n  if (typeof window.location !== \"object\") return true\n  const globalOrigin = window.location.origin\n  if (globalOrigin === \"null\") return true\n  return hrefToOrigin(url) === globalOrigin\n}\n\nconst createRequestError = ({ url }) => {\n  const error = new Error(`request error.\nurl: ${url}`)\n  error.code = \"REQUEST_ERROR\"\n  return error\n}\n\nconst createRequestTimeoutError = ({ url }) => {\n  const error = new Error(`request timeout.\nurl: ${url}`)\n  error.code = \"REQUEST_TIMEOUT\"\n  return error\n}\n\nconst normalizeXhr = (xhr) => {\n  return {\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n    url: xhr.responseURL,\n    status: xhr.status,\n    statusText: xhr.statusText,\n    headers: getHeadersFromXHR(xhr),\n    body: xhr.responseText,\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\nconst getHeadersFromXHR = (xhr) => {\n  const headerMap = {}\n\n  const headersString = xhr.getAllResponseHeaders()\n  if (headersString === \"\") return headerMap\n\n  const lines = headersString.trim().split(/[\\r\\n]+/)\n  lines.forEach((line) => {\n    const parts = line.split(\": \")\n    const name = parts.shift()\n    const value = parts.join(\": \")\n    headerMap[name.toLowerCase()] = value\n  })\n\n  return headerMap\n}\n",
    "import { installBrowserErrorStackRemapping } from \"@jsenv/error-stack-sourcemap/src/installBrowserErrorStackRemapping/installBrowserErrorStackRemapping.js\"\nimport { resolveImport } from \"@jsenv/import-map\"\nimport { loadScript } from \"./loadScript.js\"\n\nwindow.execute = async ({\n  compileServerOrigin,\n  fileRelativePath,\n  collectNamespace,\n  collectCoverage,\n  executionId,\n  // do not log in the console\n  // because error handling becomes responsability\n  // of node code launching puppetteer\n  // it avoids seeing error in platform logs during testing\n  errorExposureInConsole = false,\n  errorExposureInNotification = false,\n  errorExposureInDocument = true,\n}) => {\n  await loadScript(`${compileServerOrigin}/.jsenv/browser-platform.js`)\n  const { __browserPlatform__ } = window\n\n  const { relativePathToCompiledHref, executeFile } = __browserPlatform__.create({\n    compileServerOrigin,\n  })\n\n  await loadScript(\"/node_modules/source-map/dist/source-map.js\")\n  const { SourceMapConsumer } = window.sourceMap\n  SourceMapConsumer.initialize({\n    \"lib/mappings.wasm\": \"/node_modules/source-map/lib/mappings.wasm\",\n  })\n\n  const { getErrorOriginalStackString } = installBrowserErrorStackRemapping({\n    resolveHref: ({ specifier, importer = `${compileServerOrigin}${fileRelativePath}` }) => {\n      return resolveImport({ specifier, importer })\n    },\n    SourceMapConsumer,\n  })\n\n  return executeFile(relativePathToCompiledHref(fileRelativePath), {\n    collectNamespace,\n    collectCoverage,\n    executionId,\n    errorExposureInConsole,\n    errorExposureInNotification,\n    errorExposureInDocument,\n    errorTransform: async (error) => {\n      // code can throw something else than an error\n      // in that case return it unchanged\n      if (!error || !(error instanceof Error)) return error\n\n      const originalStack = await getErrorOriginalStackString(error)\n      error.stack = originalStack\n      return error\n    },\n  })\n}\n"
  ],
  "names": [
    "arr",
    "Array",
    "isArray",
    "i",
    "arr2",
    "length",
    "iter",
    "Symbol",
    "iterator",
    "Object",
    "prototype",
    "toString",
    "call",
    "from",
    "TypeError",
    "arrayWithoutHoles",
    "iterableToArray",
    "nonIterableSpread",
    "stackToString",
    "stack",
    "error",
    "indent",
    "name",
    "message",
    "stackString",
    "map",
    "callSite",
    "join",
    "methods",
    "cloneCallSite",
    "callSiteClone",
    "forEach",
    "callSiteToFunctionCall",
    "fileLocation",
    "callSiteToFileLocation",
    "isConstructor",
    "isMethodCall",
    "isToplevel",
    "callSiteToMethodCall",
    "functionName",
    "getFunctionName",
    "typeName",
    "callSiteToType",
    "methodName",
    "getMethodName",
    "as",
    "generateAs",
    "startsWith",
    "indexOf",
    "getTypeName",
    "isNative",
    "sourceFile",
    "callSiteToSourceFile",
    "lineNumber",
    "getLineNumber",
    "columnNumber",
    "getColumnNumber",
    "fileName",
    "getScriptNameOrSourceURL",
    "isEval",
    "getEvalOrigin",
    "value",
    "then",
    "direct",
    "Promise",
    "resolve",
    "f",
    "args",
    "arguments",
    "apply",
    "e",
    "reject",
    "remapSourcePosition",
    "source",
    "line",
    "column",
    "resolveHref",
    "sourceToSourceMapConsumer",
    "readErrorStack",
    "onFailure",
    "position",
    "sourceMapConsumer",
    "originalPosition",
    "originalPositionFor",
    "originalSource",
    "type",
    "specifier",
    "createErrorWhileRemappingPositionFailure",
    "code",
    "body",
    "result",
    "remapEvalOrigin",
    "origin",
    "topLevelEvalMatch",
    "exec",
    "Number",
    "nestedEvalMatch",
    "originalEvalOrigin",
    "remapCallSite",
    "getFileName",
    "updateSourceMappingURL",
    "callback",
    "sourceMappingUrlRegExp",
    "lastSourceMappingUrl",
    "matchSourceMappingUrl",
    "index",
    "before",
    "slice",
    "after",
    "mappedAfter",
    "replace",
    "match",
    "firstGroup",
    "readSourceMappingURL",
    "sourceMappingURL",
    "parseSourceMappingURL",
    "base64Prefix",
    "mapBase64Source",
    "memoizeByHref",
    "fn",
    "hrefCache",
    "href",
    "recover",
    "generateOriginalStackString",
    "fetchHref",
    "SourceMapConsumer",
    "base64ToString",
    "path",
    "text",
    "fileResponse",
    "status",
    "createCompiledFileNotFoundFailure",
    "createUnexpectedCompiledFileResponseFailure",
    "responseText",
    "createErrorWhileFetchingCompiledFileFailure",
    "fetchErrorStack",
    "sourceMapHref",
    "sourceMapString",
    "importer",
    "sourceMapResponse",
    "createSourceMapNotFoundFailure",
    "createUnexpectedSourceMapResponseFailure",
    "createErrorWhileFetchingSourceMapFailure",
    "sourceMap",
    "JSON",
    "parse",
    "createErrorWhileParsingSourceMapFailure",
    "parseErrorStack",
    "sourcesContent",
    "firstSourceMapSourceFailure",
    "all",
    "sources",
    "sourceMapSourceHref",
    "sourceResponse",
    "createSourceMapSourceNotFoundFailure",
    "createUnexpectedSourceMapSourceResponseFailure",
    "sourceString",
    "createErrorWhileFetchingSourceMapSourceFailure",
    "createErrorWhilePreparingSourceMapConsumerFailure",
    "errorStack",
    "originalStack",
    "unmappedStack",
    "createErrorWhileComputingOriginalStackFailure",
    "errorWhileComputingStack",
    "installErrorStackRemapping",
    "errorOriginalStackStringCache",
    "WeakMap",
    "errorRemapFailureCallbackMap",
    "installed",
    "previousPrepareStackTrace",
    "Error",
    "prepareStackTrace",
    "install",
    "uninstall",
    "failureData",
    "failureCallbackArray",
    "get",
    "originalStackStringPromise",
    "memoizeFetch",
    "set",
    "getErrorOriginalStackString",
    "console",
    "warn",
    "remapFailureCallbackArray",
    "promise",
    "responsePromise",
    "installBrowserErrorStackRemapping",
    "fetch",
    "response",
    "base64String",
    "window",
    "btoa",
    "nativeTypeOf",
    "obj",
    "customTypeOf",
    "constructor",
    "assertImportMap",
    "hasScheme",
    "string",
    "test",
    "hrefToScheme",
    "colonIndex",
    "hrefToPathname",
    "ressourceToPathname",
    "hrefToRessource",
    "scheme",
    "afterProtocol",
    "pathnameSlashIndex",
    "ressource",
    "searchSeparatorIndex",
    "hrefToOrigin",
    "secondProtocolSlashIndex",
    "pathnameToDirname",
    "pathname",
    "slashLastIndex",
    "lastIndexOf",
    "resolveUrl",
    "baseUrl",
    "writeBaseUrlMustBeAString",
    "writeBaseUrlMustBeAbsolute",
    "writeBaseUrlRequired",
    "baseOrigin",
    "basePathname",
    "baseDirname",
    "unresolvedPathname",
    "importerFolders",
    "split",
    "pop",
    "resolvedPathname",
    "tryUrlResolution",
    "url",
    "resolveSpecifier",
    "applyImportMap",
    "importMap",
    "writeSpecifierMustBeAString",
    "writeImporterMustBeAString",
    "writeImporterMustBeAbsolute",
    "specifierUrl",
    "specifierNormalized",
    "scopes",
    "scopeKeyMatching",
    "keys",
    "find",
    "scopeKey",
    "specifierIsPrefixOf",
    "scopeValue",
    "remappingFromScopeImports",
    "applyImports",
    "imports",
    "remappingFromImports",
    "writeBareSpecifierMustBeRemapped",
    "importKeyArray",
    "importKey",
    "importValue",
    "afterImportKey",
    "specifierHref",
    "key",
    "defineProperty",
    "enumerable",
    "configurable",
    "writable",
    "target",
    "ownKeys",
    "getOwnPropertyDescriptors",
    "defineProperties",
    "getOwnPropertyDescriptor",
    "object",
    "enumerableOnly",
    "getOwnPropertySymbols",
    "symbols",
    "filter",
    "sym",
    "push",
    "pathnameToExtension",
    "dotLastIndex",
    "resolveImport",
    "defaultExtension",
    "applyDefaultExtension",
    "extension",
    "importerPathname",
    "importerExtension",
    "loadScript",
    "fetchUsingXhr",
    "eval",
    "appendSourceURL",
    "createUnexpectedScriptResponseMessage",
    "sourceURL",
    "credentials",
    "headers",
    "xhr",
    "XMLHttpRequest",
    "cleanup",
    "ontimeout",
    "onerror",
    "onload",
    "onreadystatechange",
    "createRequestTimeoutError",
    "ProgressEvent",
    "createRequestError",
    "normalizeXhr",
    "readyState",
    "open",
    "setRequestHeader",
    "withCredentials",
    "computeWithCredentials",
    "send",
    "originSameAsGlobalOrigin",
    "location",
    "globalOrigin",
    "responseURL",
    "statusText",
    "getHeadersFromXHR",
    "headerMap",
    "headersString",
    "getAllResponseHeaders",
    "lines",
    "trim",
    "parts",
    "shift",
    "toLowerCase",
    "execute",
    "compileServerOrigin",
    "fileRelativePath",
    "collectNamespace",
    "collectCoverage",
    "executionId",
    "errorExposureInConsole",
    "errorExposureInNotification",
    "errorExposureInDocument",
    "__browserPlatform__",
    "create",
    "relativePathToCompiledHref",
    "executeFile",
    "initialize",
    "errorTransform"
  ],
  "mappings": "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"
}