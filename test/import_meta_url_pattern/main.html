<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8" />
    <link rel="icon" href="data:," />
  </head>

  <body>
    <script>
      window.namespacePromise = new Promise((resolve) => {
        window.resolveNamespacePromise = resolve
      })
    </script>
    <script type="module">
      const jsUrl = new URL("./file.js", import.meta.url)
      const jsModuleUrl = new URL("./file.js?module", import.meta.url)

      const jsUrlInstanceOfUrl = jsUrl instanceof URL

      const jsUrlString = String(jsUrl)

      const moduleNamespace = await import(jsModuleUrl)

      window.resolveNamespacePromise({
        jsUrlInstanceOfUrl,
        jsUrlString,
        moduleNamespace,
      })
    </script>
  </body>
</html>
