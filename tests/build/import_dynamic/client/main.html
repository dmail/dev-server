<!DOCTYPE html>
<html>
  <head>
    <title>Import dynamic</title>
    <meta charset="utf8" />
    <link rel="icon" href="data:," />
  </head>
  <body>
    <button>Load file</button>
    <script>
      window.resultPromise = new Promise((resolve) => {
        window.resolveResultPromise = resolve
      })
    </script>
    <script>
      const url = new URL(
        "./feature/nested/nested_feature.js?js_module",
        window.location,
      )
      window.nestedFeatureUrl = url.href
    </script>
    <script type="module">
      import { loadFeature } from "./main.js"

      document.querySelector("button").onclick = () => {
        loadFeature()
      }
      document.querySelector("button").click()
    </script>
  </body>
</html>
