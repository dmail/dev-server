# new_url_directory

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a> executing <a href="../new_url_directory.test.mjs">../new_url_directory.test.mjs</a>
</sub>

## 0_error

```js
build({
  ...testParams,
  directoryReferenceEffect: "error",
})
```

### 1/2 logs

![img](0_error/log_group.svg)

<details>
  <summary>see without style</summary>

```console

build "./main.html"
⠋ generate source graph
✖ failed to generate source graph

```

</details>


### 2/2 reject

```console
Error: Reference leads to a directory
--- reference trace ---
base/client/main.html:15:40
12 |       });
13 |     </script>
14 |     <script type="module">
15 |       const directoryUrl = new URL("./src/", import.meta.url).href;
                                            ^
  at redirectReference (@jsenv/core/src/plugins/protocol_file/jsenv_plugin_protocol_file.js:138:27)
  at callHook (@jsenv/core/src/plugins/plugin_controller.js:183:25)
  at Object.callHooks (@jsenv/core/src/plugins/plugin_controller.js:224:29)
  at Object.resolveReference (@jsenv/core/src/kitchen/kitchen.js:209:26)
  at reference.resolve (@jsenv/core/src/kitchen/url_graph/references.js:368:38)
  at createResolveAndFinalize (@jsenv/core/src/kitchen/url_graph/references.js:42:41)
  at Object.found (@jsenv/core/src/kitchen/url_graph/references.js:57:23)
  at onExternalReference (@jsenv/core/src/plugins/reference_analysis/js/jsenv_plugin_js_reference_analysis.js:102:44)
  at parseAndTransformJsReferences (@jsenv/core/src/plugins/reference_analysis/js/jsenv_plugin_js_reference_analysis.js:150:7)
  at js_module (@jsenv/core/src/plugins/reference_analysis/js/jsenv_plugin_js_reference_analysis.js:22:18)
```

## 1_copy

```js
build({
  ...testParams,
  directoryReferenceEffect: "copy",
})
```

### 1/4 logs

![img](1_copy/log_group.svg)

<details>
  <summary>see without style</summary>

```console

build "./main.html"
⠋ generate source graph
✔ generate source graph (done in <X> second)
⠋ generate build graph
✔ generate build graph (done in <X> second)
⠋ write files in build directory

```

</details>


### 2/4 write 3 files into "./build/"

see [./1_copy/build/](./1_copy/build/)

### 3/4 logs

![img](1_copy/log_group_1.svg)

<details>
  <summary>see without style</summary>

```console
✔ write files in build directory (done in <X> second)
--- build files ---  
- html : 1 (746 B / 91 %)
- js   : 1 (22 B / 3 %)
- other: 2 (55 B / 6 %)
- total: 4 (823 B / 100 %)
--------------------
```

</details>


### 4/4 resolve

```js
{}
```