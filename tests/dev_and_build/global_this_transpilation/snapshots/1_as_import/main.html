<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf8">
    <link rel="icon" href="data:,">
  </head>
  <body>
    <script>window.resultPromise = new Promise(resolve => {
  window.resolveResultPromise = resolve;
});</script>
    <script>// https://mathiasbynens.be/notes/globalthis

/* eslint-disable no-redeclare */
/* global globalThis */
let globalObject;
if (typeof globalThis === "object") {
  globalObject = globalThis;
} else {
  if (typeof this === "object") {
    globalObject = this;
  } else {
    // eslint-disable-next-line no-extend-native
    Object.defineProperty(Object.prototype, "__global__", {
      get() {
        return this;
      },
      configurable: true
    });
    // eslint-disable-next-line no-undef
    globalObject = __global__;
    delete Object.prototype.__global__;
  }
  globalObject.globalThis = globalObject;
}
globalThis.answer = 42;</script>
    <script type="module">import "/js/global_this_js_module.js";
import "/js/file.js";
window.resolveResultPromise(globalThis === window && globalThis.answer === 42);</script>
  </body>
</html>